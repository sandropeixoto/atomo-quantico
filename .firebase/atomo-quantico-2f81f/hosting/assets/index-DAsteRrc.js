(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Zd={exports:{}},xl={};var Sv;function f1(){if(Sv)return xl;Sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=t,xl.jsx=n,xl.jsxs=n,xl}var bv;function d1(){return bv||(bv=1,Zd.exports=f1()),Zd.exports}var Z=d1(),Wd={exports:{}},Et={};var wv;function m1(){if(wv)return Et;wv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function z(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,K={};function nt(x,X,at){this.props=x,this.context=X,this.refs=K,this.updater=at||W}nt.prototype.isReactComponent={},nt.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},nt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=nt.prototype;function rt(x,X,at){this.props=x,this.context=X,this.refs=K,this.updater=at||W}var At=rt.prototype=new et;At.constructor=rt,$(At,nt.prototype),At.isPureReactComponent=!0;var Ct=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,X,at){var ut=at.ref;return{$$typeof:r,type:x,key:X,ref:ut!==void 0?ut:null,props:at}}function M(x,X){return R(x.type,X,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(at){return X[at]})}var I=/\/+/g;function re(x,X){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):X.toString(36)}function De(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(It,It):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,X,at,ut,_t){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var kt=!1;if(x===null)kt=!0;else switch(wt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(x.$$typeof){case r:case t:kt=!0;break;case E:return kt=x._init,G(kt(x._payload),X,at,ut,_t)}}if(kt)return _t=_t(x),kt=ut===""?"."+re(x,0):ut,Ct(_t)?(at="",kt!=null&&(at=kt.replace(I,"$&/")+"/"),G(_t,X,at,"",function(hs){return hs})):_t!=null&&(O(_t)&&(_t=M(_t,at+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(I,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var Ne=ut===""?".":ut+":";if(Ct(x))for(var se=0;se<x.length;se++)ut=x[se],wt=Ne+re(ut,se),kt+=G(ut,X,at,wt,_t);else if(se=z(x),typeof se=="function")for(x=se.call(x),se=0;!(ut=x.next()).done;)ut=ut.value,wt=Ne+re(ut,se++),kt+=G(ut,X,at,wt,_t);else if(wt==="object"){if(typeof x.then=="function")return G(De(x),X,at,ut,_t);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function st(x,X,at){if(x==null)return x;var ut=[],_t=0;return G(x,ut,"","",function(wt){return X.call(at,wt,_t++)}),ut}function mt(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(at){(x._status===0||x._status===-1)&&(x._status=1,x._result=at)},function(at){(x._status===0||x._status===-1)&&(x._status=2,x._result=at)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Gt={map:st,forEach:function(x,X,at){st(x,function(){X.apply(this,arguments)},at)},count:function(x){var X=0;return st(x,function(){X++}),X},toArray:function(x){return st(x,function(X){return X})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Et.Activity=A,Et.Children=Gt,Et.Component=nt,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=rt,Et.StrictMode=s,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},Et.cache=function(x){return function(){return x.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(x,X,at){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ut=$({},x.props),_t=x.key;if(X!=null)for(wt in X.key!==void 0&&(_t=""+X.key),X)!b.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(ut[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)ut.children=at;else if(1<wt){for(var kt=Array(wt),Ne=0;Ne<wt;Ne++)kt[Ne]=arguments[Ne+2];ut.children=kt}return R(x.type,_t,ut)},Et.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Et.createElement=function(x,X,at){var ut,_t={},wt=null;if(X!=null)for(ut in X.key!==void 0&&(wt=""+X.key),X)b.call(X,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(_t[ut]=X[ut]);var kt=arguments.length-2;if(kt===1)_t.children=at;else if(1<kt){for(var Ne=Array(kt),se=0;se<kt;se++)Ne[se]=arguments[se+2];_t.children=Ne}if(x&&x.defaultProps)for(ut in kt=x.defaultProps,kt)_t[ut]===void 0&&(_t[ut]=kt[ut]);return R(x,wt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(x){return{$$typeof:m,render:x}},Et.isValidElement=O,Et.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:mt}},Et.memo=function(x,X){return{$$typeof:y,type:x,compare:X===void 0?null:X}},Et.startTransition=function(x){var X=D.T,at={};D.T=at;try{var ut=x(),_t=D.S;_t!==null&&_t(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(It,zt)}catch(wt){zt(wt)}finally{X!==null&&at.types!==null&&(X.types=at.types),D.T=X}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(x){return D.H.use(x)},Et.useActionState=function(x,X,at){return D.H.useActionState(x,X,at)},Et.useCallback=function(x,X){return D.H.useCallback(x,X)},Et.useContext=function(x){return D.H.useContext(x)},Et.useDebugValue=function(){},Et.useDeferredValue=function(x,X){return D.H.useDeferredValue(x,X)},Et.useEffect=function(x,X){return D.H.useEffect(x,X)},Et.useEffectEvent=function(x){return D.H.useEffectEvent(x)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(x,X,at){return D.H.useImperativeHandle(x,X,at)},Et.useInsertionEffect=function(x,X){return D.H.useInsertionEffect(x,X)},Et.useLayoutEffect=function(x,X){return D.H.useLayoutEffect(x,X)},Et.useMemo=function(x,X){return D.H.useMemo(x,X)},Et.useOptimistic=function(x,X){return D.H.useOptimistic(x,X)},Et.useReducer=function(x,X,at){return D.H.useReducer(x,X,at)},Et.useRef=function(x){return D.H.useRef(x)},Et.useState=function(x){return D.H.useState(x)},Et.useSyncExternalStore=function(x,X,at){return D.H.useSyncExternalStore(x,X,at)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.4",Et}var Rv;function Xm(){return Rv||(Rv=1,Wd.exports=m1()),Wd.exports}var H=Xm(),tm={exports:{}},Ml={},em={exports:{}},nm={};var Iv;function p1(){return Iv||(Iv=1,(function(r){function t(G,st){var mt=G.length;G.push(st);t:for(;0<mt;){var zt=mt-1>>>1,Gt=G[zt];if(0<o(Gt,st))G[zt]=st,G[mt]=Gt,mt=zt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var st=G[0],mt=G.pop();if(mt!==st){G[0]=mt;t:for(var zt=0,Gt=G.length,x=Gt>>>1;zt<x;){var X=2*(zt+1)-1,at=G[X],ut=X+1,_t=G[ut];if(0>o(at,mt))ut<Gt&&0>o(_t,at)?(G[zt]=_t,G[ut]=mt,zt=ut):(G[zt]=at,G[X]=mt,zt=X);else if(ut<Gt&&0>o(_t,mt))G[zt]=_t,G[ut]=mt,zt=ut;else break t}}return st}function o(G,st){var mt=G.sortIndex-st.sortIndex;return mt!==0?mt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,w=3,z=!1,W=!1,$=!1,K=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function At(G){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=G)s(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function Ct(G){if($=!1,At(G),!W)if(n(g)!==null)W=!0,It||(It=!0,L());else{var st=n(y);st!==null&&De(Ct,st.startTime-G)}}var It=!1,D=-1,b=5,R=-1;function M(){return K?!0:!(r.unstable_now()-R<b)}function O(){if(K=!1,It){var G=r.unstable_now();R=G;var st=!0;try{t:{W=!1,$&&($=!1,et(D),D=-1),z=!0;var mt=w;try{e:{for(At(G),A=n(g);A!==null&&!(A.expirationTime>G&&M());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,w=A.priorityLevel;var Gt=zt(A.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){A.callback=Gt,At(G),st=!0;break e}A===n(g)&&s(g),At(G)}else s(g);A=n(g)}if(A!==null)st=!0;else{var x=n(y);x!==null&&De(Ct,x.startTime-G),st=!1}}break t}finally{A=null,w=mt,z=!1}st=void 0}}finally{st?L():It=!1}}}var L;if(typeof rt=="function")L=function(){rt(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,re=I.port2;I.port1.onmessage=O,L=function(){re.postMessage(null)}}else L=function(){nt(O,0)};function De(G,st){D=nt(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var mt=w;w=st;try{return G()}finally{w=mt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=w;w=G;try{return st()}finally{w=mt}},r.unstable_scheduleCallback=function(G,st,mt){var zt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?zt+mt:zt):mt=zt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,G={id:E++,callback:st,priorityLevel:G,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>zt?(G.sortIndex=mt,t(y,G),n(g)===null&&G===n(y)&&($?(et(D),D=-1):$=!0,De(Ct,mt-zt))):(G.sortIndex=Gt,t(g,G),W||z||(W=!0,It||(It=!0,L()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var st=w;return function(){var mt=w;w=st;try{return G.apply(this,arguments)}finally{w=mt}}}})(nm)),nm}var Cv;function g1(){return Cv||(Cv=1,em.exports=p1()),em.exports}var im={exports:{}},Ye={};var Dv;function y1(){if(Dv)return Ye;Dv=1;var r=Xm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:z}):E==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var Nv;function _1(){if(Nv)return im.exports;Nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=y1(),im.exports}var Ov;function v1(){if(Ov)return Ml;Ov=1;var r=g1(),t=Xm(),n=_1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case nt:return"Profiler";case K:return"StrictMode";case Ct:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case rt:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case At:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:re(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return re(e(i))}catch{}}return null}var De=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function x(e){return{current:e}}function X(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function at(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ut=x(null),_t=x(null),wt=x(null),kt=x(null);function Ne(e,i){switch(at(wt,i),at(_t,e),at(ut,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?K_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=K_(i),e=Q_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ut),at(ut,e)}function se(){X(ut),X(_t),X(wt)}function hs(e){e.memoizedState!==null&&at(kt,e);var i=ut.current,a=Q_(i,e.type);i!==a&&(at(_t,e),at(ut,a))}function la(e){_t.current===e&&(X(ut),X(_t)),kt.current===e&&(X(kt),Cl._currentValue=mt)}var ua,ca;function li(e){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+e+ca}var Co=!1;function fs(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var B=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){B=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){B=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===U.length)for(l=C.length-1,h=U.length-1;1<=l&&0<=h&&C[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==U[h]){var F=`
`+C[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?li(a):""}function Do(e,i){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return fs(e.type,!1);case 11:return fs(e.type.render,!1);case 1:return fs(e.type,!0);case 31:return li("Activity");default:return""}}function No(e){try{var i="",a=null;do i+=Do(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,fu=r.unstable_requestPaint,tn=r.unstable_now,ds=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,tf=r.unstable_LowPriority,du=r.unstable_IdlePriority,mu=r.log,pu=r.unstable_setDisableYieldValue,Bn=null,ze=null;function bn(e){if(typeof mu=="function"&&pu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var fe=Math.clz32?Math.clz32:yu,gu=Math.log,ha=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(gu(e)/ha|0)|0}var ui=256,ms=262144,_e=4194304;function ci(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ci(l):(_&=T,_!==0?h=ci(_):a||(a=T&~e,a!==0&&(h=ci(a))))):(T=l&~d,T!==0?h=ci(T):_!==0?h=ci(_):a||(a=l&~e,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ef(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function fi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ps(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nf(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-fe(a),Y=1<<F;T[F]=0,C[F]=-1;var B=U[F];if(B!==null)for(U[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}a&=~Y}l!==0&&gs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function gs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Vo(e,i){var a=i&-i;return a=(a&42)!==0?1:ys(a),(a&(e.suspendedLanes|i))!==0?0:a}function ys(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:gv(e.type))}function qn(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Ve="__reactProps$"+Hn,di="__reactContainer$"+Hn,fa="__reactEvents$"+Hn,rf="__reactListeners$"+Hn,Eu="__reactHandles$"+Hn,Tu="__reactResources$"+Hn,mi="__reactMarker$"+Hn;function da(e){delete e[ve],delete e[Ve],delete e[fa],delete e[rf],delete e[Eu]}function pi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[di]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=tv(e);e!==null;){if(a=e[ve])return a;e=tv(e)}return i}e=a,a=e.parentNode}return null}function wn(e){if(e=e[ve]||e[di]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function gi(e){var i=e[Tu];return i||(i=e[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[mi]=!0}var Lo=new Set,Po={};function yi(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(Po[e]=i,e=0;e<i.length;e++)Lo.add(i[e])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},zo={};function Au(e){return ye.call(zo,e)?!0:ye.call(Uo,e)?!1:ko.test(e)?zo[e]=!0:(Uo[e]=!0,!1)}function ma(e,i,a){if(Au(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=pr(e)?"checked":"value";e._valueTracker=Bo(e,i,""+e[i])}}function _s(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=pr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vs=/[\n"\\]/g;function sn(e){return e.replace(vs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?jo(e,_,Le(i)):a!=null?jo(e,_,Le(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function Su(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function jo(e,i,a){i==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function bu(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function yr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function an(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(e,d,i[d])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return _r.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Fo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vr=null,Ei=null;function Es(e){var i=wn(e);if(i&&(e=i.stateNode)){var a=e[Ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(pa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(s(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&_s(l)}break t;case"textarea":bu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gr(e,!!a.multiple,i,!1)}}}var _a=!1;function Er(e,i,a){if(_a)return e(i,a);_a=!0;try{var l=e(i);return l}finally{if(_a=!1,(vr!==null||Ei!==null)&&(vc(),vr&&(i=vr,e=Ei,Ei=vr=null,Es(i),e)))for(i=0;i<e.length;i++)Es(e[i])}}function Gn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(In)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ts=!1}var Ti=null,Go=null,As=null;function Ko(){if(As)return As;var e,i=Go,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return As=h.slice(e,1<l?1-l:void 0)}function Ss(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Kn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Be(Bi),Tr=A({},Bi,{view:0,detail:0}),Qo=Be(Tr),Ar,va,Si,Ea=A({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Ar=e.screenX-Si.screenX,va=e.screenY-Si.screenY):va=Ar=0,Si=e),Ar)},movementY:function(e){return"movementY"in e?e.movementY:va}}),Yo=Be(Ea),bs=A({},Ea,{dataTransfer:0}),Iu=Be(bs),Cu=A({},Tr,{relatedTarget:0}),ws=Be(Cu),$o=A({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Be($o),Ta=A({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nu=Be(Ta),Ou=A({},Bi,{data:0}),bi=Be(Ou),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Vu[e])?!!i[e]:!1}function Sr(){return Lu}var en=A({},Tr,{key:function(e){if(e.key){var i=xu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pu=Be(en),ku=A({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Be(ku),c=A({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),p=Be(c),v=A({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),P=A({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(P),it=A({},Bi,{newState:0,oldState:0}),St=Be(it),de=[9,13,27,32],qt=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Cn=In&&"TextEvent"in window&&!ae,wi=In&&(!qt||ae&&8<ae&&11>=ae),Qn=" ",Yn=!1;function Rs(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function PS(e,i){switch(e){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(Yn=!0,Qn);case"textInput":return e=i.data,e===Qn&&Yn?null:e;default:return null}}function kS(e,i){if(Sa)return e==="compositionend"||!qt&&Rs(e,i)?(e=Ko(),As=Go=Ti=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var US={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!US[e.type]:i==="textarea"}function rg(e,i,a,l){vr?Ei?Ei.push(l):Ei=[l]:vr=l,i=Rc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Xo=null,Jo=null;function zS(e){B_(e,0)}function Uu(e){var i=dn(e);if(_s(i))return e}function sg(e,i){if(e==="change")return i}var ag=!1;if(In){var sf;if(In){var af="oninput"in document;if(!af){var og=document.createElement("div");og.setAttribute("oninput","return;"),af=typeof og.oninput=="function"}sf=af}else sf=!1;ag=sf&&(!document.documentMode||9<document.documentMode)}function lg(){Xo&&(Xo.detachEvent("onpropertychange",ug),Jo=Xo=null)}function ug(e){if(e.propertyName==="value"&&Uu(Jo)){var i=[];rg(i,Jo,e,Rn(e)),Er(zS,i)}}function BS(e,i,a){e==="focusin"?(lg(),Xo=i,Jo=a,Xo.attachEvent("onpropertychange",ug)):e==="focusout"&&lg()}function jS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(Jo)}function qS(e,i){if(e==="click")return Uu(i)}function HS(e,i){if(e==="input"||e==="change")return Uu(i)}function FS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:FS;function Zo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function cg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hg(e,i){var a=cg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cg(a)}}function fg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function dg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=vi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=vi(e.document)}return i}function of(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var GS=In&&"documentMode"in document&&11>=document.documentMode,ba=null,lf=null,Wo=null,uf=!1;function mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||ba==null||ba!==vi(l)||(l=ba,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Zo(Wo,l)||(Wo=l,l=Rc(lf,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ba)))}function Is(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var wa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},cf={},pg={};In&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Cs(e){if(cf[e])return cf[e];if(!wa[e])return e;var i=wa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in pg)return cf[e]=i[a];return e}var gg=Cs("animationend"),yg=Cs("animationiteration"),_g=Cs("animationstart"),KS=Cs("transitionrun"),QS=Cs("transitionstart"),YS=Cs("transitioncancel"),vg=Cs("transitionend"),Eg=new Map,hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hf.push("scrollEnd");function $n(e,i){Eg.set(e,i),yi(i,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Ra=0,ff=0;function Bu(){for(var e=Ra,i=ff=Ra=0;i<e;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Tg(a,h,d)}}function ju(e,i,a,l){Dn[Ra++]=e,Dn[Ra++]=i,Dn[Ra++]=a,Dn[Ra++]=l,ff|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function df(e,i,a,l){return ju(e,i,a,l),qu(e)}function Ds(e,i){return ju(e,null,null,i),qu(e)}function Tg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function qu(e){if(50<Tl)throw Tl=0,Ad=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ia={};function $S(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new $S(e,i,a,l)}function mf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ag(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Hu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")mf(e)&&(_=1);else if(typeof e=="string")_=t1(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,i,h),e.elementType=R,e.lanes=d,e;case $:return Ns(a.children,h,d,i);case K:_=8,h|=24;break;case nt:return e=gn(12,a,i,h|2),e.elementType=nt,e.lanes=d,e;case Ct:return e=gn(13,a,i,h),e.elementType=Ct,e.lanes=d,e;case It:return e=gn(19,a,i,h),e.elementType=It,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:_=10;break t;case et:_=9;break t;case At:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ns(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function pf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Sg(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function gf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var bg=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:No(i)},bg.set(e,i),i)}return{value:e,source:i,stack:No(i)}}var Ca=[],Da=0,Fu=null,tl=0,On=[],xn=0,br=null,Ri=1,Ii="";function Hi(e,i){Ca[Da++]=tl,Ca[Da++]=Fu,Fu=e,tl=i}function wg(e,i,a){On[xn++]=Ri,On[xn++]=Ii,On[xn++]=br,br=e;var l=Ri;e=Ii;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-fe(i)+h|a<<h|l,Ii=d+e}else Ri=1<<d|a<<h|l,Ii=e}function yf(e){e.return!==null&&(Hi(e,1),wg(e,1,0))}function _f(e){for(;e===Fu;)Fu=Ca[--Da],Ca[Da]=null,tl=Ca[--Da],Ca[Da]=null;for(;e===br;)br=On[--xn],On[xn]=null,Ii=On[--xn],On[xn]=null,Ri=On[--xn],On[xn]=null}function Rg(e,i){On[xn++]=Ri,On[xn++]=Ii,On[xn++]=br,Ri=i.id,Ii=i.overflow,br=e}var je=null,ee=null,Pt=!1,wr=null,Mn=!1,vf=Error(s(519));function Rr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Nn(i,e)),vf}function Ig(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[Ve]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Nt(Sl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Su(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),yr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||F_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||Rr(e,!0)}function Cg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function Na(e){if(e!==je)return!1;if(!Pt)return Cg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kd(e.type,e.memoizedProps)),a=!a),a&&ee&&Rr(e),Cg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=W_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ee=W_(e)}else i===27?(i=ee,Br(e.type)?(e=qd,qd=null,ee=e):ee=i):ee=je?Ln(e.stateNode.nextSibling):null;return!0}function Os(){ee=je=null,Pt=!1}function Ef(){var e=wr;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),wr=null),e}function el(e){wr===null?wr=[e]:wr.push(e)}var Tf=x(null),xs=null,Fi=null;function Ir(e,i,a){at(Tf,i._currentValue),i._currentValue=a}function Gi(e){e._currentValue=Tf.current,X(Tf)}function Af(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Sf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Af(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Af(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Sf(i,e,a,l),i.flags|=262144}function Gu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){xs=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Dg(xs,e)}function Ku(e,i){return xs===null&&Ms(e),Dg(e,i)}function Dg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(e===null)throw Error(s(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return a}var XS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},JS=r.unstable_scheduleCallback,ZS=r.unstable_NormalPriority,Ae={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new XS,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&JS(ZS,function(){e.controller.abort()})}var il=null,wf=0,xa=0,Ma=null;function WS(e,i){if(il===null){var a=il=[];wf=0,xa=Cd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(Ng,Ng),i}function Ng(){if(--wf===0&&il!==null){Ma!==null&&(Ma.status="fulfilled");var e=il;il=null,xa=0,Ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function tb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=G.S;G.S=function(e,i){m_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&WS(e,i),Og!==null&&Og(e,i)};var Vs=x(null);function Rf(){var e=Vs.current;return e!==null?e:Wt.pooledCache}function Qu(e,i){i===null?at(Vs,Vs.current):at(Vs,i.pool)}function xg(){var e=Rf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Va=Error(s(460)),If=Error(s(474)),Yu=Error(s(542)),$u={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pg(e),e;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pg(e),e}throw Ps=i,Va}}function Ls(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ps=a,Va):a}}var Ps=null;function Lg(){if(Ps===null)throw Error(s(459));var e=Ps;return Ps=null,e}function Pg(e){if(e===Va||e===Yu)throw Error(s(483))}var La=null,rl=0;function Xu(e){var i=rl;return rl+=1,La===null&&(La=[]),Vg(La,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ju(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function kg(e){function i(V,N){if(e){var k=V.deletions;k===null?(V.deletions=[N],V.flags|=16):k.push(N)}}function a(V,N){if(!e)return null;for(;N!==null;)i(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=qi(V,N),V.index=0,V.sibling=null,V}function d(V,N,k){return V.index=k,e?(k=V.alternate,k!==null?(k=k.index,k<N?(V.flags|=67108866,N):k):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function T(V,N,k,Q){return N===null||N.tag!==6?(N=pf(k,V.mode,Q),N.return=V,N):(N=h(N,k),N.return=V,N)}function C(V,N,k,Q){var ft=k.type;return ft===$?F(V,N,k.props.children,Q,k.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ls(ft)===N.type)?(N=h(N,k.props),sl(N,k),N.return=V,N):(N=Hu(k.type,k.key,k.props,null,V.mode,Q),sl(N,k),N.return=V,N)}function U(V,N,k,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=gf(k,V.mode,Q),N.return=V,N):(N=h(N,k.children||[]),N.return=V,N)}function F(V,N,k,Q,ft){return N===null||N.tag!==7?(N=Ns(k,V.mode,Q,ft),N.return=V,N):(N=h(N,k),N.return=V,N)}function Y(V,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=pf(""+N,V.mode,k),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return k=Hu(N.type,N.key,N.props,null,V.mode,k),sl(k,N),k.return=V,k;case W:return N=gf(N,V.mode,k),N.return=V,N;case b:return N=Ls(N),Y(V,N,k)}if(De(N)||L(N))return N=Ns(N,V.mode,k,null),N.return=V,N;if(typeof N.then=="function")return Y(V,Xu(N),k);if(N.$$typeof===rt)return Y(V,Ku(V,N),k);Ju(V,N)}return null}function B(V,N,k,Q){var ft=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(V,N,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return k.key===ft?C(V,N,k,Q):null;case W:return k.key===ft?U(V,N,k,Q):null;case b:return k=Ls(k),B(V,N,k,Q)}if(De(k)||L(k))return ft!==null?null:F(V,N,k,Q,null);if(typeof k.then=="function")return B(V,N,Xu(k),Q);if(k.$$typeof===rt)return B(V,N,Ku(V,k),Q);Ju(V,k)}return null}function q(V,N,k,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(k)||null,T(N,V,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return V=V.get(Q.key===null?k:Q.key)||null,C(N,V,Q,ft);case W:return V=V.get(Q.key===null?k:Q.key)||null,U(N,V,Q,ft);case b:return Q=Ls(Q),q(V,N,k,Q,ft)}if(De(Q)||L(Q))return V=V.get(k)||null,F(N,V,Q,ft,null);if(typeof Q.then=="function")return q(V,N,k,Xu(Q),ft);if(Q.$$typeof===rt)return q(V,N,k,Ku(N,Q),ft);Ju(N,Q)}return null}function ct(V,N,k,Q){for(var ft=null,Bt=null,ht=N,Rt=N=0,xt=null;ht!==null&&Rt<k.length;Rt++){ht.index>Rt?(xt=ht,ht=null):xt=ht.sibling;var jt=B(V,ht,k[Rt],Q);if(jt===null){ht===null&&(ht=xt);break}e&&ht&&jt.alternate===null&&i(V,ht),N=d(jt,N,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ht=xt}if(Rt===k.length)return a(V,ht),Pt&&Hi(V,Rt),ft;if(ht===null){for(;Rt<k.length;Rt++)ht=Y(V,k[Rt],Q),ht!==null&&(N=d(ht,N,Rt),Bt===null?ft=ht:Bt.sibling=ht,Bt=ht);return Pt&&Hi(V,Rt),ft}for(ht=l(ht);Rt<k.length;Rt++)xt=q(ht,V,Rt,k[Rt],Q),xt!==null&&(e&&xt.alternate!==null&&ht.delete(xt.key===null?Rt:xt.key),N=d(xt,N,Rt),Bt===null?ft=xt:Bt.sibling=xt,Bt=xt);return e&&ht.forEach(function(Gr){return i(V,Gr)}),Pt&&Hi(V,Rt),ft}function pt(V,N,k,Q){if(k==null)throw Error(s(151));for(var ft=null,Bt=null,ht=N,Rt=N=0,xt=null,jt=k.next();ht!==null&&!jt.done;Rt++,jt=k.next()){ht.index>Rt?(xt=ht,ht=null):xt=ht.sibling;var Gr=B(V,ht,jt.value,Q);if(Gr===null){ht===null&&(ht=xt);break}e&&ht&&Gr.alternate===null&&i(V,ht),N=d(Gr,N,Rt),Bt===null?ft=Gr:Bt.sibling=Gr,Bt=Gr,ht=xt}if(jt.done)return a(V,ht),Pt&&Hi(V,Rt),ft;if(ht===null){for(;!jt.done;Rt++,jt=k.next())jt=Y(V,jt.value,Q),jt!==null&&(N=d(jt,N,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Pt&&Hi(V,Rt),ft}for(ht=l(ht);!jt.done;Rt++,jt=k.next())jt=q(ht,V,Rt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?Rt:jt.key),N=d(jt,N,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ht.forEach(function(h1){return i(V,h1)}),Pt&&Hi(V,Rt),ft}function Zt(V,N,k,Q){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case z:t:{for(var ft=k.key;N!==null;){if(N.key===ft){if(ft=k.type,ft===$){if(N.tag===7){a(V,N.sibling),Q=h(N,k.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ls(ft)===N.type){a(V,N.sibling),Q=h(N,k.props),sl(Q,k),Q.return=V,V=Q;break t}a(V,N);break}else i(V,N);N=N.sibling}k.type===$?(Q=Ns(k.props.children,V.mode,Q,k.key),Q.return=V,V=Q):(Q=Hu(k.type,k.key,k.props,null,V.mode,Q),sl(Q,k),Q.return=V,V=Q)}return _(V);case W:t:{for(ft=k.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(V,N.sibling),Q=h(N,k.children||[]),Q.return=V,V=Q;break t}else{a(V,N);break}else i(V,N);N=N.sibling}Q=gf(k,V.mode,Q),Q.return=V,V=Q}return _(V);case b:return k=Ls(k),Zt(V,N,k,Q)}if(De(k))return ct(V,N,k,Q);if(L(k)){if(ft=L(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),pt(V,N,k,Q)}if(typeof k.then=="function")return Zt(V,N,Xu(k),Q);if(k.$$typeof===rt)return Zt(V,N,Ku(V,k),Q);Ju(V,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(V,N.sibling),Q=h(N,k),Q.return=V,V=Q):(a(V,N),Q=pf(k,V.mode,Q),Q.return=V,V=Q),_(V)):a(V,N)}return function(V,N,k,Q){try{rl=0;var ft=Zt(V,N,k,Q);return La=null,ft}catch(ht){if(ht===Va||ht===Yu)throw ht;var Bt=gn(29,ht,null,V.mode);return Bt.lanes=Q,Bt.return=V,Bt}}}var ks=kg(!0),Ug=kg(!1),Cr=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(e),Tg(e,null,a),i}return ju(e,l,i,a),qu(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}function Nf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Of=!1;function ol(){if(Of){var e=Ma;if(e!==null)throw e}}function ll(e,i,a,l){Of=!1;var h=e.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?d=U:_.next=U,_=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;_=0,F=U=C=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===xa&&(Of=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(ct=pt.payload,typeof ct=="function"){Y=ct.call(Zt,Y,B);break t}Y=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=pt.payload,B=typeof ct=="function"?ct.call(Zt,Y,B):ct,B==null)break t;Y=A({},Y,B);break t;case 2:Cr=!0}}B=T.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=q,C=Y):F=F.next=q,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Lr|=_,e.lanes=_,e.memoizedState=Y}}function zg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Bg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)zg(a[e],i)}var Pa=x(null),Zu=x(0);function jg(e,i){e=tr,at(Zu,e),at(Pa,i),tr=e|i.baseLanes}function xf(){at(Zu,tr),at(Pa,Pa.current)}function Mf(){tr=Zu.current,X(Pa),X(Zu)}var yn=x(null),Vn=null;function Or(e){var i=e.alternate;at(me,me.current&1),at(yn,e),Vn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Vn=e)}function Vf(e){at(me,me.current),at(yn,e),Vn===null&&(Vn=e)}function qg(e){e.tag===22?(at(me,me.current),at(yn,e),Vn===null&&(Vn=e)):xr()}function xr(){at(me,me.current),at(yn,yn.current)}function _n(e){X(yn),Vn===e&&(Vn=null),X(me)}var me=x(0);function Wu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bd(a)||jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ki=0,bt=null,Xt=null,Se=null,tc=!1,ka=!1,Us=!1,ec=0,ul=0,Ua=null,eb=0;function ce(){throw Error(s(321))}function Lf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Pf(e,i,a,l,h,d){return Ki=d,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?wy:Jf,Us=!1,d=a(l,h),Us=!1,ka&&(d=Fg(i,a,l,h)),Hg(e),d}function Hg(e){G.H=fl;var i=Xt!==null&&Xt.next!==null;if(Ki=0,Se=Xt=bt=null,tc=!1,ul=0,Ua=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Gu(e)&&(be=!0))}function Fg(e,i,a,l){bt=e;var h=0;do{if(ka&&(Ua=null),ul=0,ka=!1,25<=h)throw Error(s(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Ry,d=i(a,l)}while(ka);return d}function nb(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(bt.flags|=1024),i}function kf(){var e=ec!==0;return ec=0,e}function Uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function zf(e){if(tc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}tc=!1}Ki=0,Se=Xt=bt=null,ka=!1,ul=ec=0,Ua=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?bt.memoizedState=Se=e:Se=Se.next=e,Se}function pe(){if(Xt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Se===null?bt.memoizedState:Se.next;if(i!==null)Se=i,Xt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?bt.memoizedState=Se=e:Se=Se.next=e}return Se}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,Ua===null&&(Ua=[]),e=Vg(Ua,e,i),i=bt,(Se===null?i.memoizedState:Se.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?wy:Jf),e}function ic(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===rt)return qe(e)}throw Error(s(438,String(e)))}function Bf(e){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nc(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function Qi(e,i){return typeof i=="function"?i(e):i}function rc(e){var i=pe();return jf(i,Xt,e)}function jf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,U=i,F=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Ot&Y)===Y:(Ki&Y)===Y){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===xa&&(F=!0);else if((Ki&B)===B){U=U.next,B===xa&&(F=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Y,_=d):C=C.next=Y,bt.lanes|=B,Lr|=B;Y=U.action,Us&&a(d,Y),d=U.hasEagerState?U.eagerState:a(d,Y)}else B={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=B,_=d):C=C.next=B,bt.lanes|=Y,Lr|=Y;U=U.next}while(U!==null&&U!==i);if(C===null?_=d:C.next=T,!pn(d,e.memoizedState)&&(be=!0,F&&(a=Ma,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(e,i,a){var l=bt,h=pe(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((Xt||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Gf(Yg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},Qg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(Ki&127)!==0||Kg(l,i,a)}return a}function Kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=nc(),bt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Qg(e,i,a,l){i.value=a,i.getSnapshot=l,$g(i)&&Xg(e)}function Yg(e,i,a){return a(function(){$g(i)&&Xg(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function Xg(e){var i=Ds(e,2);i!==null&&hn(i,e,2)}function Hf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),Us){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},i}function Jg(e,i,a,l){return e.baseState=a,jf(e,Xt,typeof l=="function"?l:Qi)}function ib(e,i,a,l,h){if(oc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),C=G.S;C!==null&&C(_,T),Wg(e,i,T)}catch(U){Ff(e,i,U)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),Wg(e,i,d)}catch(U){Ff(e,i,U)}}function Wg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ty(e,i,l)},function(l){return Ff(e,i,l)}):ty(e,i,a)}function ty(e,i,a){i.status="fulfilled",i.value=a,ey(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Zg(e,a)))}function Ff(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ey(i),i=i.next;while(i!==l)}e.action=null}function ey(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ny(e,i){return i}function iy(e,i){if(Pt){var a=Wt.formState;if(a!==null){t:{var l=bt;if(Pt){if(ee){e:{for(var h=ee,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ee=Ln(h.nextSibling),l=h.data==="F!";break t}}Rr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=Ay.bind(null,bt,l),l.dispatch=a,l=Hf(!1),d=Xf.bind(null,bt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ib.bind(null,bt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ry(e){var i=pe();return sy(i,Xt,e)}function sy(e,i,a){if(i=jf(e,i,ny)[0],e=rc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Va?Yu:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,za(9,{destroy:void 0},rb.bind(null,h,a),null)),[l,d,e]}function rb(e,i){e.action=i}function ay(e){var i=pe(),a=Xt;if(a!==null)return sy(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function za(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=bt.updateQueue,i===null&&(i=nc(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function oy(){return pe().memoizedState}function sc(e,i,a,l){var h=nn();bt.flags|=e,h.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function ac(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Lf(l,Xt.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(bt.flags|=e,h.memoizedState=za(1|i,d,a,l))}function ly(e,i){sc(8390656,8,e,i)}function Gf(e,i){ac(2048,8,e,i)}function sb(e){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=nc(),bt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function uy(e){var i=pe().memoizedState;return sb({ref:i,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function cy(e,i){return ac(4,2,e,i)}function hy(e,i){return ac(4,4,e,i)}function fy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function dy(e,i,a){a=a!=null?a.concat([e]):null,ac(4,4,fy.bind(null,i,e),a)}function Kf(){}function my(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Lf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function py(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Lf(i,l[1]))return l[0];if(l=e(),Us){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function Qf(e,i,a){return a===void 0||(Ki&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=g_(),bt.lanes|=e,Lr|=e,a)}function gy(e,i,a,l){return pn(a,i)?a:Pa.current!==null?(e=Qf(e,a,l),pn(e,i)||(be=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=g_(),bt.lanes|=e,Lr|=e,i)}function yy(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,Xf(e,!1,i,a);try{var C=h(),U=G.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=tb(C,l);hl(e,i,F,Tn(e))}else hl(e,i,l,Tn(e))}catch(Y){hl(e,i,{then:function(){},status:"rejected",reason:Y},Tn())}finally{st.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function ab(){}function Yf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=_y(e).queue;yy(e,h,i,mt,a===null?ab:function(){return vy(e),a(l)})}function _y(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function vy(e){var i=_y(e);i.next===null&&(i=e.alternate.memoizedState),hl(e,i.next.queue,{},Tn())}function $f(){return qe(Cl)}function Ey(){return pe().memoizedState}function Ty(){return pe().memoizedState}function ob(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=Dr(a);var l=Nr(i,e,a);l!==null&&(hn(l,i,a),al(l,i,a)),i={cache:bf()},e.payload=i;return}i=i.return}}function lb(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(e)?Sy(i,a):(a=df(e,i,a,l),a!==null&&(hn(a,e,l),by(a,i,l)))}function Ay(e,i,a){var l=Tn();hl(e,i,a,l)}function hl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(e))Sy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return ju(e,i,h,0),Wt===null&&Bu(),!1}catch{}if(a=df(e,i,h,l),a!==null)return hn(a,e,l),by(a,i,l),!0}return!1}function Xf(e,i,a,l){if(l={lane:2,revertLane:Cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(e)){if(i)throw Error(s(479))}else i=df(e,a,l,2),i!==null&&hn(i,e,2)}function oc(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Sy(e,i){ka=tc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function by(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Mo(e,a)}}var fl={readContext:qe,use:ic,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};fl.useEffectEvent=ce;var wy={readContext:qe,use:ic,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:ly,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,sc(4194308,4,fy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return sc(4194308,4,e,i)},useInsertionEffect:function(e,i){sc(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(Us){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Us){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=lb.bind(null,bt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=Hf(e);var i=e.queue,a=Ay.bind(null,bt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Kf,useDeferredValue:function(e,i){var a=nn();return Qf(a,e,i)},useTransition:function(){var e=Hf(!1);return e=yy.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=bt,h=nn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Ot&127)!==0||Kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ly(Yg.bind(null,l,d,e),[e]),l.flags|=2048,za(9,{destroy:void 0},Qg.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(Pt){var a=Ii,l=Ri;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=eb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:$f,useFormState:iy,useActionState:iy,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Xf.bind(null,bt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Bf,useCacheRefresh:function(){return nn().memoizedState=ob.bind(null,bt)},useEffectEvent:function(e){var i=nn(),a={impl:e};return i.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Jf={readContext:qe,use:ic,useCallback:my,useContext:qe,useEffect:Gf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:rc,useRef:oy,useState:function(){return rc(Qi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=pe();return gy(a,Xt.memoizedState,e,i)},useTransition:function(){var e=rc(Qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:$f,useFormState:ry,useActionState:ry,useOptimistic:function(e,i){var a=pe();return Jg(a,Xt,e,i)},useMemoCache:Bf,useCacheRefresh:Ty};Jf.useEffectEvent=uy;var Ry={readContext:qe,use:ic,useCallback:my,useContext:qe,useEffect:Gf,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:qf,useRef:oy,useState:function(){return qf(Qi)},useDebugValue:Kf,useDeferredValue:function(e,i){var a=pe();return Xt===null?Qf(a,e,i):gy(a,Xt.memoizedState,e,i)},useTransition:function(){var e=qf(Qi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:$f,useFormState:ay,useActionState:ay,useOptimistic:function(e,i){var a=pe();return Xt!==null?Jg(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Ty};Ry.useEffectEvent=uy;function Zf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Dr(l);h.payload=i,a!=null&&(h.callback=a),i=Nr(e,h,l),i!==null&&(hn(i,e,l),al(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=Dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(e,h,l),i!==null&&(hn(i,e,l),al(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=Dr(a);l.tag=2,i!=null&&(l.callback=i),i=Nr(e,l,a),i!==null&&(hn(i,e,a),al(i,e,a))}};function Iy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Cy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Wf.enqueueReplaceState(i,i.state,null)}function zs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=A({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Dy(e){zu(e)}function Ny(e){console.error(e)}function Oy(e){zu(e)}function lc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function xy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(e,i,a){return a=Dr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,i)},a}function My(e){return e=Dr(e),e.tag=3,e}function Vy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){xy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){xy(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ub(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Ec():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(e,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(e,l,h)),!1}throw Error(s(435,a.tag))}return wd(e,l,h),Ec(),!1}if(Pt)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==vf&&(e=Error(s(422),{cause:l}),el(Nn(e,a)))):(l!==vf&&(i=Error(s(423),{cause:l}),el(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=td(e.stateNode,l,h),Nf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),El===null?El=[d]:El.push(d),he!==4&&(he=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=td(a.stateNode,l,e),Nf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=My(h),Vy(h,e,a,l),Nf(a,h),!1}a=a.return}while(a!==null);return!1}var ed=Error(s(461)),be=!1;function He(e,i,a,l){i.child=e===null?Ug(i,null,a,l):ks(i,e.child,a,l)}function Ly(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ms(i),l=Pf(e,i,a,_,d,h),T=kf(),e!==null&&!be?(Uf(e,i,h),Yi(e,i,h)):(Pt&&T&&yf(i),i.flags|=1,He(e,i,l,h),i.child)}function Py(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!mf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(e,i,d,l,h)):(e=Hu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ud(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(d,l),e.ref=i.ref,e.return=i,i.child=e}function ky(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Zo(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,ud(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return nd(e,i,a,l,h)}function Uy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return zy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?jg(i,d):xf(),qg(i);else return l=i.lanes=536870912,zy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),jg(i,d),xr(),i.memoizedState=null):(e!==null&&Qu(i,null),xf(),xr());return He(e,i,h,a),i.child}function dl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(e,i,a,l,h){var d=Rf();return d=d===null?null:{parent:Ae._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Qu(i,null),xf(),qg(i),e!==null&&Oa(e,i,l,!0),i.childLanes=h,null}function uc(e,i){return i=hc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function By(e,i,a){return ks(i,e.child,null,a),e=uc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function cb(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=uc(i,l),i.lanes=536870912,dl(null,e);if(Vf(i),(e=ee)?(e=Z_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Sg(e),a.return=i,i.child=a,je=i,ee=null)):e=null,e===null)throw Rr(i);return i.lanes=536870912,null}return uc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Vf(i),h)if(i.flags&256)i.flags&=-257,i=By(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Oa(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=Vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(e,_),hn(l,e,_),ed;Ec(),i=By(e,i,a)}else e=d.treeContext,ee=Ln(_.nextSibling),je=i,Pt=!0,wr=null,Mn=!1,e!==null&&Rg(i,e),i=uc(i,l),i.flags|=4096;return i}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function cc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function nd(e,i,a,l,h){return Ms(i),a=Pf(e,i,a,l,void 0,h),l=kf(),e!==null&&!be?(Uf(e,i,h),Yi(e,i,h)):(Pt&&l&&yf(i),i.flags|=1,He(e,i,a,h),i.child)}function jy(e,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=Fg(i,l,a,h),Hg(e),l=kf(),e!==null&&!be?(Uf(e,i,d),Yi(e,i,d)):(Pt&&l&&yf(i),i.flags|=1,He(e,i,a,d),i.child)}function qy(e,i,a,l,h){if(Ms(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=qe(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qe(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Zf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Wf.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=zs(a,T);d.props=C;var U=d.context,F=a.contextType;_=Ia,typeof F=="object"&&F!==null&&(_=qe(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Cy(i,d,l,_),Cr=!1;var B=i.memoizedState;d.state=B,ll(i,l,d,h),ol(),U=i.memoizedState,T||B!==U||Cr?(typeof Y=="function"&&(Zf(i,a,Y,l),U=i.memoizedState),(C=Cr||Iy(i,a,C,l,B,U,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Df(e,i),_=i.memoizedProps,F=zs(a,_),d.props=F,Y=i.pendingProps,B=d.context,U=a.contextType,C=Ia,typeof U=="object"&&U!==null&&(C=qe(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||B!==C)&&Cy(i,d,l,C),Cr=!1,B=i.memoizedState,d.state=B,ll(i,l,d,h),ol();var q=i.memoizedState;_!==Y||B!==q||Cr||e!==null&&e.dependencies!==null&&Gu(e.dependencies)?(typeof T=="function"&&(Zf(i,a,T,l),q=i.memoizedState),(F=Cr||Iy(i,a,F,l,B,q,C)||e!==null&&e.dependencies!==null&&Gu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=C,l=F):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function Hy(e,i,a,l){return Os(),i.flags|=256,He(e,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(e){return{baseLanes:e,cachePool:xg()}}function sd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Fy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Or(i):xr(),(e=ee)?(e=Z_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Sg(e),a.return=i,i.child=a,je=i,ee=null)):e=null,e===null)throw Rr(i);return jd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xr(),h=i.mode,T=hc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=rd(a),l.childLanes=sd(e,_,a),i.memoizedState=id,dl(null,l)):(Or(i),ad(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=od(e,i,a)):i.memoizedState!==null?(xr(),i.child=e.child,i.flags|=128,i=null):(xr(),T=l.fallback,h=i.mode,l=hc({mode:"visible",children:l.children},h),T=Ns(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,ks(i,e.child,null,a),l=i.child,l.memoizedState=rd(a),l.childLanes=sd(e,_,a),i.memoizedState=id,i=dl(null,l));else if(Or(i),jd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=od(e,i,a)}else if(be||Oa(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=Vo(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ds(e,l),hn(_,e,l),ed;Bd(T)||Ec(),i=od(e,i,a)}else Bd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,ee=Ln(T.nextSibling),je=i,Pt=!0,wr=null,Mn=!1,e!==null&&Rg(i,e),i=ad(i,l.children),i.flags|=4096);return i}return h?(xr(),T=l.fallback,h=i.mode,C=e.child,U=C.sibling,l=qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=qi(U,T):(T=Ns(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,dl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=rd(a):(h=T.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=xg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=sd(e,_,a),i.memoizedState=id,dl(e.child,l)):(Or(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function ad(e,i){return i=hc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function hc(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function od(e,i,a){return ks(i,e.child,null,a),e=ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Gy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Af(e.return,i,a)}function ld(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Ky(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,at(me,_),He(e,i,l,a),l=Pt?tl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gy(e,a,i);else if(e.tag===19)Gy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Wu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ld(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Wu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ld(i,!0,a,null,d,l);break;case"together":ld(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ud(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Gu(e)))}function hb(e,i,a){switch(i.tag){case 3:Ne(i,i.stateNode.containerInfo),Ir(i,Ae,e.memoizedState.cache),Os();break;case 27:case 5:hs(i);break;case 4:Ne(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Vf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(e,i,a):(Or(i),e=Yi(e,i,a),e!==null?e.sibling:null);Or(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ky(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(me,me.current),l)break;return null;case 22:return i.lanes=0,Uy(e,i,a,i.pendingProps);case 24:Ir(i,Ae,e.memoizedState.cache)}return Yi(e,i,a)}function Qy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!ud(e,a)&&(i.flags&128)===0)return be=!1,hb(e,i,a);be=(e.flags&131072)!==0}else be=!1,Pt&&(i.flags&1048576)!==0&&wg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ls(i.elementType),i.type=e,typeof e=="function")mf(e)?(l=zs(e,l),i.tag=1,i=qy(null,i,e,l,a)):(i.tag=0,i=nd(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===At){i.tag=11,i=Ly(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=Py(null,i,e,l,a);break t}}throw i=re(e)||e,Error(s(306,i,""))}}return i;case 0:return nd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),qy(e,i,l,h,a);case 3:t:{if(Ne(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Df(e,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ir(i,Ae,l),l!==d.cache&&Sf(i,[Ae],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),el(h),i=Hy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Ln(e.firstChild),je=i,Pt=!0,wr=null,Mn=!0,a=Ug(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),l===h){i=Yi(e,i,a);break t}He(e,i,l,a)}i=i.child}return i;case 26:return cc(e,i),e===null?(a=rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,l=Ic(wt.current).createElement(a),l[ve]=i,l[Ve]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=rv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return hs(i),e===null&&Pt&&(l=i.stateNode=ev(i.type,i.pendingProps,wt.current),je=i,Mn=!0,h=ee,Br(i.type)?(qd=h,ee=Ln(l.firstChild)):ee=h),He(e,i,i.pendingProps.children,a),cc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=l=ee)&&(l=jb(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,je=i,ee=Ln(l.firstChild),Mn=!1,h=!0):h=!1),h||Rr(i)),hs(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,kd(h,d)?l=null:_!==null&&kd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Pf(e,i,nb,null,null,a),Cl._currentValue=h),cc(e,i),He(e,i,l,a),i.child;case 6:return e===null&&Pt&&((e=a=ee)&&(a=qb(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,je=i,ee=null,e=!0):e=!1),e||Rr(i)),null;case 13:return Fy(e,i,a);case 4:return Ne(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ks(i,null,l,a):He(e,i,l,a),i.child;case 11:return Ly(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=qe(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return Py(e,i,i.type,i.pendingProps,a);case 15:return ky(e,i,i.type,i.pendingProps,a);case 19:return Ky(e,i,a);case 31:return cb(e,i,a);case 22:return Uy(e,i,a,i.pendingProps);case 24:return Ms(i),l=qe(Ae),e===null?(h=Rf(),h===null&&(h=Wt,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),Ir(i,Ae,h)):((e.lanes&a)!==0&&(Df(e,i),ll(i,null,null,a),ol()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Ae,l)):(l=d.cache,Ir(i,Ae,l),l!==h.cache&&Sf(i,[Ae],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(e){e.flags|=4}function cd(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(E_())e.flags|=8192;else throw Ps=$u,If}else e.flags&=-16777217}function Yy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uv(i))if(E_())e.flags|=8192;else throw Ps=$u,If}function fc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_u():536870912,e.lanes|=i,Ha|=i)}function ml(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function fb(e,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(Ae),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Na(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ef())),ne(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?($i(i),d!==null?(ne(i),Yy(i,d)):(ne(i),cd(i,h,null,l,a))):d?d!==e.memoizedState?($i(i),ne(i),Yy(i,d)):(ne(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(i),ne(i),cd(i,h,e,l,a)),null;case 27:if(la(i),a=wt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ut.current,Na(i)?Ig(i):(e=ev(h,l,a),i.stateNode=e,$i(i))}return ne(i),null;case 5:if(la(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(d=ut.current,Na(i))Ig(i);else{var _=Ic(wt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[Ve]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(i)}}return ne(i),cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=wt.current,Na(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||F_(e.nodeValue,a)),e||Rr(i,!0)}else e=Ic(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ne(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Na(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),e=!1}else a=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),ne(i),null);case 4:return se(),e===null&&xd(i.stateNode.containerInfo),ne(i),null;case 10:return Gi(i.type),ne(i),null;case 19:if(X(me),l=i.memoizedState,l===null)return ne(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ml(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Wu(e),d!==null){for(i.flags|=128,ml(l,!1),e=d.updateQueue,i.updateQueue=e,fc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ag(a,e),a=a.sibling;return at(me,me.current&1|2),Pt&&Hi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&tn()>yc&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304)}else{if(!h)if(e=Wu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,fc(i,e),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return ne(i),null}else 2*tn()-l.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,a=me.current,at(me,h?a&1|2:a&1),Pt&&Hi(i,l.treeForkCount),e):(ne(i),null);case 22:case 23:return _n(i),Mf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X(Vs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function db(e,i){switch(_f(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gi(Ae),se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Os()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(me),null;case 4:return se(),null;case 10:return Gi(i.type),null;case 22:case 23:return _n(i),Mf(),e!==null&&X(Vs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Gi(Ae),null;case 25:return null;default:return null}}function $y(e,i){switch(_f(i),i.tag){case 3:Gi(Ae),se();break;case 26:case 27:case 5:la(i);break;case 4:se();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:X(me);break;case 10:Gi(i.type);break;case 22:case 23:_n(i),Mf(),e!==null&&X(Vs);break;case 24:Gi(Ae)}}function pl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Mr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,U=T;try{U()}catch(F){Yt(h,C,F)}}}l=l.next}while(l!==d)}}catch(F){Yt(i,i.return,F)}}function Xy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Bg(i,a)}catch(l){Yt(e,e.return,l)}}}function Jy(e,i,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function gl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function hd(e,i,a){try{var l=e.stateNode;Lb(l,e.type,a,i),l[Ve]=i}catch(h){Yt(e,e.return,h)}}function Wy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function fd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(l!==4&&(l===27&&Br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(dd(e,i,a),e=e.sibling;e!==null;)dd(e,i,a),e=e.sibling}function dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(dc(e,i,a),e=e.sibling;e!==null;)dc(e,i,a),e=e.sibling}function t_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[Ve]=a}catch(d){Yt(e,e.return,d)}}var Xi=!1,we=!1,md=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function mb(e,i){if(e=e.containerInfo,Ld=Vc,e=dg(e),of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,U=0,F=0,Y=e,B=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==d||l!==0&&Y.nodeType!==3||(C=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(q=Y.firstChild)!==null;)B=Y,Y=q;for(;;){if(Y===e)break e;if(B===a&&++U===h&&(T=_),B===d&&++F===l&&(C=_),(q=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:e,selectionRange:a},Vc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=zs(a.type,h);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)zd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function n_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(e,a),l&4&&pl(5,a);break;case 1:if(Zi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Xy(a),l&512&&gl(a,a.return);break;case 3:if(Zi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Bg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&t_(a);case 26:case 5:Zi(e,a),i===null&&l&4&&Zy(a),l&512&&gl(a,a.return);break;case 12:Zi(e,a);break;case 31:Zi(e,a),l&4&&s_(e,a);break;case 13:Zi(e,a),l&4&&a_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Sb.bind(null,a),Hb(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||we,h=Xi;var d=we;Xi=l,(we=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Zi(e,a),Xi=h,we=d}break;case 30:break;default:Zi(e,a)}}function i_(e){var i=e.alternate;i!==null&&(e.alternate=null,i_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&da(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function Ji(e,i,a){for(a=a.child;a!==null;)r_(e,i,a),a=a.sibling}function r_(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:we||Ci(a,i),Ji(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ci(a,i);var l=oe,h=on;Br(a.type)&&(oe=a.stateNode,on=!1),Ji(e,i,a),wl(a.stateNode),oe=l,on=h;break;case 5:we||Ci(a,i);case 6:if(l=oe,h=on,oe=null,Ji(e,i,a),oe=l,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{oe.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:oe!==null&&(on?(e=oe,X_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ja(e)):X_(oe,a.stateNode));break;case 4:l=oe,h=on,oe=a.stateNode.containerInfo,on=!0,Ji(e,i,a),oe=l,on=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),we||Mr(4,a,i),Ji(e,i,a);break;case 1:we||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jy(a,i,l)),Ji(e,i,a);break;case 21:Ji(e,i,a);break;case 22:we=(l=we)||a.memoizedState!==null,Ji(e,i,a),we=l;break;default:Ji(e,i,a)}}function s_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(a){Yt(i,i.return,a)}}}function a_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(a){Yt(i,i.return,a)}}function pb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new e_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new e_),i;default:throw Error(s(435,e.tag))}}function mc(e,i){var a=pb(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bb.bind(null,e,l);l.then(h,h)}})}function ln(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Br(T.type)){oe=T.stateNode,on=!1;break t}break;case 5:oe=T.stateNode,on=!1;break t;case 3:case 4:oe=T.stateNode.containerInfo,on=!0;break t}T=T.return}if(oe===null)throw Error(s(160));r_(d,_,h),oe=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)o_(i,e),i=i.sibling}var Xn=null;function o_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),l&4&&(Mr(3,e,e.return),pl(3,e),Mr(5,e,e.return));break;case 1:ln(i,e),un(e),l&512&&(we||a===null||Ci(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(ln(i,e),un(e),l&512&&(we||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=ov("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=ov("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else lv(h,e.type,e.stateNode);else e.stateNode=av(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?lv(h,e.type,e.stateNode):av(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&hd(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),l&512&&(we||a===null||Ci(a,a.return)),a!==null&&l&4&&hd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),l&512&&(we||a===null||Ci(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,hd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(ln(i,e),un(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(Nc=null,h=Xn,Xn=Cc(i.containerInfo),ln(i,e),Xn=h,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(i.containerInfo)}catch(ct){Yt(e,e.return,ct)}md&&(md=!1,l_(e));break;case 4:l=Xn,Xn=Cc(e.stateNode.containerInfo),ln(i,e),un(e),Xn=l;break;case 12:ln(i,e),un(e);break;case 31:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=Xi,F=we;if(Xi=U||h,we=F||C,ln(i,e),we=F,Xi=U,un(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Xi||we||Bs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Yt(C,C.return,ct)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){Yt(C,C.return,ct)}}}else if(i.tag===18){if(a===null){C=i;try{var q=C.stateNode;h?J_(q,!0):J_(C.stateNode,!1)}catch(ct){Yt(C,C.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mc(e,a))));break;case 19:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(e);dc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var T=fd(e);dc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=fd(e);dd(e,U,C);break;default:throw Error(s(161))}}catch(F){Yt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function l_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;l_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(e,i.alternate,i),i=i.sibling}function Bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Bs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Jy(i,i.return,a),Bs(i);break;case 27:wl(i.stateNode);case 26:case 5:Ci(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),pl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)zg(C[h],T)}catch(U){Yt(l,l.return,U)}}a&&_&64&&Xy(d),gl(d,d.return);break;case 27:t_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&Zy(d),gl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&s_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&a_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),gl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function pd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function gd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function Jn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)u_(e,i,a,l),i=i.sibling}function u_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(e,i,a,l),h&2048&&pl(9,i);break;case 1:Jn(e,i,a,l);break;case 3:Jn(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){Jn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(i,i.return,C)}}else Jn(e,i,a,l);break;case 31:Jn(e,i,a,l);break;case 13:Jn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(e,i,a,l):yl(e,i):d._visibility&2?Jn(e,i,a,l):(d._visibility|=2,Ba(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&pd(_,i);break;case 24:Jn(e,i,a,l),h&2048&&gd(i.alternate,i);break;default:Jn(e,i,a,l)}}function Ba(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,T,C,h),pl(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ba(d,_,T,C,h):yl(d,_):(F._visibility|=2,Ba(d,_,T,C,h)),h&&U&2048&&pd(_.alternate,_);break;case 24:Ba(d,_,T,C,h),h&&U&2048&&gd(_.alternate,_);break;default:Ba(d,_,T,C,h)}i=i.sibling}}function yl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&pd(l.alternate,l);break;case 24:yl(a,l),h&2048&&gd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function ja(e,i,a){if(e.subtreeFlags&_l)for(e=e.child;e!==null;)c_(e,i,a),e=e.sibling}function c_(e,i,a){switch(e.tag){case 26:ja(e,i,a),e.flags&_l&&e.memoizedState!==null&&e1(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:ja(e,i,a);break;case 3:case 4:var l=Xn;Xn=Cc(e.stateNode.containerInfo),ja(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,ja(e,i,a),_l=l):ja(e,i,a));break;default:ja(e,i,a)}}function h_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,d_(l,e)}h_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)f_(e),e=e.sibling}function f_(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pc(e)):vl(e);break;default:vl(e)}}function pc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,d_(l,e)}h_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}e=e.sibling}}function d_(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(i_(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var gb={getCacheForType:function(e){var i=qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Dt=null,Ot=0,Qt=0,vn=null,Vr=!1,qa=!1,yd=!1,tr=0,he=0,Lr=0,js=0,_d=0,En=0,Ha=0,El=null,cn=null,vd=!1,gc=0,m_=0,yc=1/0,_c=null,Pr=null,xe=0,kr=null,Fa=null,er=0,Ed=0,Td=null,p_=null,Tl=0,Ad=null;function Tn(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?Cd():vu()}function g_(){if(En===0)if((Ot&536870912)===0||Pt){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function hn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),Ur(e,Ot,En,!1)),ps(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(js|=a),he===4&&Ur(e,Ot,En,!1)),Di(e))}function y_(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||jn(e,i),h=l?Eb(e,i):bd(e,i,!0),d=l;do{if(h===0){qa&&!l&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!_b(a)){h=bd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=El;var C=T.current.memoizedState.isDehydrated;if(C&&(Ga(T,_).flags|=256),_=bd(T,_,!1),_!==2){if(yd&&!C){T.errorRecoveryDisabledLanes|=d,js|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ga(e,0),Ur(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,En,!Vr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=gc+300-tn(),10<h)){if(Ur(l,i,En,!Vr),hi(l,0,!0)!==0)break t;er=i,l.timeoutHandle=Y_(__.bind(null,l,a,cn,_c,vd,i,En,js,Ha,Vr,d,"Throttled",-0,0),h);break t}__(l,a,cn,_c,vd,i,En,js,Ha,Vr,d,null,-0,0)}}break}while(!0);Di(e)}function __(e,i,a,l,h,d,_,T,C,U,F,Y,B,q){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},c_(i,d,Y);var ct=(d&62914560)===d?gc-tn():(d&4194048)===d?m_-tn():0;if(ct=n1(Y,ct),ct!==null){er=d,e.cancelPendingCommit=ct(R_.bind(null,e,i,d,a,l,h,_,T,C,F,Y,null,B,q)),Ur(e,d,_,!U);return}}R_(e,i,d,a,l,h,_,T,C)}function _b(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,l){i&=~_d,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&gs(e,a,i)}function vc(){return(Ht&6)===0?(Al(0),!1):!0}function Sd(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,Fi=xs=null,zf(e),La=null,rl=0,e=Dt;for(;e!==null;)$y(e.alternate,e),e=e.return;Dt=null}}function Ga(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Ub(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,Sd(),Wt=e,Dt=a=qi(e.current,null),Ot=i,Qt=0,vn=null,Vr=!1,qa=jn(e,i),yd=!1,Ha=En=_d=js=Lr=he=0,cn=El=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return tr=i,Bu(),a}function v_(e,i){bt=null,G.H=fl,i===Va||i===Yu?(i=Lg(),Qt=3):i===If?(i=Lg(),Qt=4):Qt=i===ed?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(he=1,lc(e,Nn(i,e.current)))}function E_(){var e=yn.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function T_(){var e=G.H;return G.H=fl,e===null?fl:e}function A_(){var e=G.A;return G.A=gb,e}function Ec(){he=4,Vr||(Ot&4194048)!==Ot&&yn.current!==null||(qa=!0),(Lr&134217727)===0&&(js&134217727)===0||Wt===null||Ur(Wt,Ot,En,!1)}function bd(e,i,a){var l=Ht;Ht|=2;var h=T_(),d=A_();(Wt!==e||Ot!==i)&&(_c=null,Ga(e,i)),i=!1;var _=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,C=vn;switch(Qt){case 8:Sd(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var U=Qt;if(Qt=0,vn=null,Ka(e,T,C,U),a&&qa){_=0;break t}break;default:U=Qt,Qt=0,vn=null,Ka(e,T,C,U)}}vb(),_=he;break}catch(F){v_(e,F)}while(!0);return i&&e.shellSuspendCounter++,Fi=xs=null,Ht=l,G.H=h,G.A=d,Dt===null&&(Wt=null,Ot=0,Bu()),_}function vb(){for(;Dt!==null;)S_(Dt)}function Eb(e,i){var a=Ht;Ht|=2;var l=T_(),h=A_();Wt!==e||Ot!==i?(_c=null,yc=tn()+500,Ga(e,i)):qa=jn(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=vn;e:switch(Qt){case 1:Qt=0,vn=null,Ka(e,i,d,1);break;case 2:case 9:if(Mg(d)){Qt=0,vn=null,b_(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Di(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Mg(d)?(Qt=0,vn=null,b_(i)):(Qt=0,vn=null,Ka(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?uv(_):T.stateNode.complete){Qt=0,vn=null;var C=T.sibling;if(C!==null)Dt=C;else{var U=T.return;U!==null?(Dt=U,Tc(U)):Dt=null}break e}}Qt=0,vn=null,Ka(e,i,d,5);break;case 6:Qt=0,vn=null,Ka(e,i,d,6);break;case 8:Sd(),he=6;break t;default:throw Error(s(462))}}Tb();break}catch(F){v_(e,F)}while(!0);return Fi=xs=null,G.H=l,G.A=h,Ht=a,Dt!==null?0:(Wt=null,Ot=0,Bu(),he)}function Tb(){for(;Dt!==null&&!Wh();)S_(Dt)}function S_(e){var i=Qy(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?Tc(e):Dt=i}function b_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=jy(a,i,i.pendingProps,i.type,void 0,Ot);break;case 11:i=jy(a,i,i.pendingProps,i.type.render,i.ref,Ot);break;case 5:zf(i);default:$y(a,i),i=Dt=Ag(i,tr),i=Qy(a,i,tr)}e.memoizedProps=e.pendingProps,i===null?Tc(e):Dt=i}function Ka(e,i,a,l){Fi=xs=null,zf(i),La=null,rl=0;var h=i.return;try{if(ub(e,h,i,a,Ot)){he=1,lc(e,Nn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,lc(e,Nn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||l===1?e=!0:qa||(Ot&536870912)!==0?e=!1:(Vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),w_(i,e)):Tc(i)}function Tc(e){var i=e;do{if((i.flags&32768)!==0){w_(i,Vr);return}e=i.return;var a=fb(i.alternate,i,tr);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function w_(e,i){do{var a=db(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function R_(e,i,a,l,h,d,_,T,C){e.cancelPendingCommit=null;do Ac();while(xe!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=ff,nf(e,a,d,_,T,C),e===Wt&&(Dt=Wt=null,Ot=0),Fa=i,kr=e,er=a,Ed=d,Td=h,p_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wb(mr,function(){return O_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=st.p,st.p=2,_=Ht,Ht|=4;try{mb(e,i,a)}finally{Ht=_,st.p=h,G.T=l}}xe=1,I_(),C_(),D_()}}function I_(){if(xe===1){xe=0;var e=kr,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{o_(i,e);var d=Pd,_=dg(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&fg(T.ownerDocument.documentElement,T)){if(C!==null&&of(T)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var q=B.getSelection(),ct=T.textContent.length,pt=Math.min(C.start,ct),Zt=C.end===void 0?pt:Math.min(C.end,ct);!q.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var V=hg(T,pt),N=hg(T,Zt);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var k=Y.createRange();k.setStart(V.node,V.offset),q.removeAllRanges(),pt>Zt?(q.addRange(k),q.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),q.addRange(k))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Vc=!!Ld,Pd=Ld=null}finally{Ht=h,st.p=l,G.T=a}}e.current=i,xe=2}}function C_(){if(xe===2){xe=0;var e=kr,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{n_(e,i.alternate,i)}finally{Ht=h,st.p=l,G.T=a}}xe=3}}function D_(){if(xe===4||xe===3){xe=0,fu();var e=kr,i=Fa,a=er,l=p_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Fa=kr=null,N_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Pr=null),Ui(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=st.p,st.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,st.p=h}}(er&3)!==0&&Ac(),Di(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===Ad?Tl++:(Tl=0,Ad=e):Tl=0,Al(0)}}function N_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Ac(){return I_(),C_(),D_(),O_()}function O_(){if(xe!==5)return!1;var e=kr,i=Ed;Ed=0;var a=Ui(er),l=G.T,h=st.p;try{st.p=32>a?32:a,G.T=null,a=Td,Td=null;var d=kr,_=er;if(xe=0,Fa=kr=null,er=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,f_(d.current),u_(d,d.current,_,a),Ht=T,Al(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{st.p=h,G.T=l,N_(e,i)}}function x_(e,i,a){i=Nn(a,i),i=td(e.stateNode,i,2),e=Nr(e,i,2),e!==null&&(ps(e,2),Di(e))}function Yt(e,i,a){if(e.tag===3)x_(e,e,a);else for(;i!==null;){if(i.tag===3){x_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){e=Nn(a,e),a=My(2),l=Nr(i,a,2),l!==null&&(Vy(a,l,i,e),ps(l,2),Di(l));break}}i=i.return}}function wd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new yb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(yd=!0,h.add(a),e=Ab.bind(null,e,i,a),i.then(e,e))}function Ab(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(he===4||he===3&&(Ot&62914560)===Ot&&300>tn()-gc?(Ht&2)===0&&Ga(e,0):_d|=a,Ha===Ot&&(Ha=0)),Di(e)}function M_(e,i){i===0&&(i=_u()),e=Ds(e,i),e!==null&&(ps(e,i),Di(e))}function Sb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),M_(e,a)}function bb(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),M_(e,a)}function wb(e,i){return Oe(e,i)}var Sc=null,Qa=null,Rd=!1,bc=!1,Id=!1,zr=0;function Di(e){e!==Qa&&e.next===null&&(Qa===null?Sc=Qa=e:Qa=Qa.next=e),bc=!0,Rd||(Rd=!0,Ib())}function Al(e,i){if(!Id&&bc){Id=!0;do for(var a=!1,l=Sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(l,d))}else d=Ot,d=hi(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,k_(l,d));l=l.next}while(a);Id=!1}}function Rb(){V_()}function V_(){bc=Rd=!1;var e=0;zr!==0&&kb()&&(e=zr);for(var i=tn(),a=null,l=Sc;l!==null;){var h=l.next,d=L_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Qa=a)):(a=l,(e!==0||(d&3)!==0)&&(bc=!0)),l=h}xe!==0&&xe!==5||Al(e),zr!==0&&(zr=0)}function L_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ef(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Ot,a=hi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&dr(l),Ui(a)){case 2:case 8:a=xo;break;case 32:a=mr;break;case 268435456:a=du;break;default:a=mr}return l=P_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&dr(l),e.callbackPriority=2,e.callbackNode=null,2}function P_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var l=Ot;return l=hi(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(y_(e,l,i),L_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?P_.bind(null,e):null)}function k_(e,i){if(Ac())return null;y_(e,i,!0)}function Ib(){zb(function(){(Ht&6)!==0?Oe(Oo,Rb):V_()})}function Cd(){if(zr===0){var e=xa;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),zr=e}return zr}function U_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function z_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=U_((h[Ve]||null).action),_=l.submitter;_&&(i=(i=_[Ve]||null)?U_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ai("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var C=_?z_(h,_):new FormData(h);Yf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?z_(h,_):new FormData(h),Yf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Dd=0;Dd<hf.length;Dd++){var Nd=hf[Dd],Db=Nd.toLowerCase(),Nb=Nd[0].toUpperCase()+Nd.slice(1);$n(Db,"on"+Nb)}$n(gg,"onAnimationEnd"),$n(yg,"onAnimationIteration"),$n(_g,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(KS,"onTransitionRun"),$n(QS,"onTransitionStart"),$n(YS,"onTransitionCancel"),$n(vg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function B_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(F){zu(F)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(F){zu(F)}h.currentTarget=null,d=C}}}}function Nt(e,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var l=e+"__bubble";a.has(l)||(j_(i,e,2,!1),a.add(l))}function Od(e,i,a){var l=0;i&&(l|=4),j_(a,e,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function xd(e){if(!e[wc]){e[wc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||Od(a,!1,e),Od(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[wc]||(i[wc]=!0,Od("selectionchange",!1,i))}}function j_(e,i,a,l){switch(gv(i)){case 2:var h=s1;break;case 8:h=a1;break;default:h=Qd}a=h.bind(null,i,a,e),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Md(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=pi(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}Er(function(){var U=d,F=Rn(a),Y=[];t:{var B=Eg.get(e);if(B!==void 0){var q=Ai,ct=e;switch(e){case"keypress":if(Ss(a)===0)break t;case"keydown":case"keyup":q=Pu;break;case"focusin":ct="focus",q=ws;break;case"focusout":ct="blur",q=ws;break;case"beforeblur":case"afterblur":q=ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case gg:case yg:case _g:q=Du;break;case vg:q=S;break;case"scroll":case"scrollend":q=Qo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ji;break;case"toggle":case"beforetoggle":q=St}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),V=pt?B!==null?B+"Capture":null:B;pt=[];for(var N=U,k;N!==null;){var Q=N;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||V===null||(Q=Gn(N,V),Q!=null&&pt.push(bl(N,Q,k))),Zt)break;N=N.return}0<pt.length&&(B=new q(B,ct,null,a,F),Y.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Fo&&(ct=a.relatedTarget||a.fromElement)&&(pi(ct)||ct[di]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ct=a.relatedTarget||a.toElement,q=U,ct=ct?pi(ct):null,ct!==null&&(Zt=u(ct),pt=ct.tag,ct!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ct=null)):(q=null,ct=U),q!==ct)){if(pt=Yo,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ji,Q="onPointerLeave",V="onPointerEnter",N="pointer"),Zt=q==null?B:dn(q),k=ct==null?B:dn(ct),B=new pt(Q,N+"leave",q,a,F),B.target=Zt,B.relatedTarget=k,Q=null,pi(F)===U&&(pt=new pt(V,N+"enter",ct,a,F),pt.target=k,pt.relatedTarget=Zt,Q=pt),Zt=Q,q&&ct)e:{for(pt=xb,V=q,N=ct,k=0,Q=V;Q;Q=pt(Q))k++;Q=0;for(var ft=N;ft;ft=pt(ft))Q++;for(;0<k-Q;)V=pt(V),k--;for(;0<Q-k;)N=pt(N),Q--;for(;k--;){if(V===N||N!==null&&V===N.alternate){pt=V;break e}V=pt(V),N=pt(N)}pt=null}else pt=null;q!==null&&q_(Y,B,q,pt,!1),ct!==null&&Zt!==null&&q_(Y,Zt,ct,pt,!0)}}t:{if(B=U?dn(U):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Bt=sg;else if(ig(B))if(ag)Bt=HS;else{Bt=jS;var ht=BS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&ga(U.elementType)&&(Bt=sg):Bt=qS;if(Bt&&(Bt=Bt(e,U))){rg(Y,Bt,a,F);break t}ht&&ht(e,B,U),e==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&jo(B,"number",B.value)}switch(ht=U?dn(U):window,e){case"focusin":(ig(ht)||ht.contentEditable==="true")&&(ba=ht,lf=U,Wo=null);break;case"focusout":Wo=lf=ba=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,mg(Y,a,F);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":mg(Y,a,F)}var Rt;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else Sa?Rs(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(wi&&a.locale!=="ko"&&(Sa||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Sa&&(Rt=Ko()):(Ti=F,Go="value"in Ti?Ti.value:Ti.textContent,Sa=!0)),ht=Rc(U,xt),0<ht.length&&(xt=new bi(xt,e,null,a,F),Y.push({event:xt,listeners:ht}),Rt?xt.data=Rt:(Rt=Aa(a),Rt!==null&&(xt.data=Rt)))),(Rt=Cn?PS(e,a):kS(e,a))&&(xt=Rc(U,"onBeforeInput"),0<xt.length&&(ht=new bi("onBeforeInput","beforeinput",null,a,F),Y.push({event:ht,listeners:xt}),ht.data=Rt)),Cb(Y,e,U,a,F)}B_(Y,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Rc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Gn(e,a),h!=null&&l.unshift(bl(e,h,d)),h=Gn(e,i),h!=null&&l.push(bl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function xb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function q_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=Gn(a,d),U!=null&&_.unshift(bl(a,U,C))):h||(U=Gn(a,d),U!=null&&_.push(bl(a,U,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Mb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function H_(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Vb,"")}function F_(e,i){return i=H_(i),H_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":Ho(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ya(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ya(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ya(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ma(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,ma(e,a,l))}}function Vd(e,i,a,l,h,d){switch(a){case"style":Ho(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ma(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=_=h=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":_=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Jt(e,i,l,F,a,null)}}Su(e,d,T,C,U,_,h,!1);return;case"select":Nt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?gr(e,!!l,i,!1):a!=null&&gr(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}yr(e,l,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,i,C,l,a,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Nt(Sl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,U,l,a,null)}return;default:if(ga(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Vd(e,i,F,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function Lb(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,U=null,F=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(q)||Jt(e,i,q,null,l,Y)}}for(var B in l){var q=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(q!=null||Y!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":F=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==Y&&Jt(e,i,B,q,l,Y)}}pa(e,_,T,C,U,F,d,h);return;case"select":q=_=T=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Jt(e,i,h,d,l,C)}i=T,a=_,l=q,B!=null?gr(e,!!a,B,!1):!!l!=!!a&&(i!=null?gr(e,!!a,i,!0):gr(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}bu(e,B,q);return;case"option":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Jt(e,i,ct,null,l,B));for(C in l)B=l[C],q=a[C],l.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,i,C,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,i,pt,null,l,B);for(U in l)if(B=l[U],q=a[U],l.hasOwnProperty(U)&&B!==q&&(B!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,U,B,l,q)}return;default:if(ga(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Vd(e,i,Zt,void 0,l,B);for(F in l)B=l[F],q=a[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||Vd(e,i,F,B,l,q);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Jt(e,i,V,null,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B==null&&q==null||Jt(e,i,Y,B,l,q)}function G_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&G_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],U=C.startTime;if(U>T)break;var F=C.transferSize,Y=C.initiatorType;F&&G_(Y)&&(C=C.responseEnd,_+=F*(C<T?1:(T-U)/(C-U)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ld=null,Pd=null;function Ic(e){return e.nodeType===9?e:e.ownerDocument}function K_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function kd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function kb(){var e=window.event;return e&&e.type==="popstate"?e===Ud?!1:(Ud=e,!0):(Ud=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(e){return $_.resolve(null).then(e).catch(Bb)}:Y_;function Bb(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function X_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);Ja(i)}function J_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jb(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[mi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function qb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function Z_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function Bd(e){return e.data==="$?"||e.data==="$~"}function jd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var qd=null;function W_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function tv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function ev(e,i,a){switch(i=Ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);da(e)}var Pn=new Map,nv=new Set;function Cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=st.d;st.d={f:Fb,r:Gb,D:Kb,C:Qb,L:Yb,m:$b,X:Jb,S:Xb,M:Zb};function Fb(){var e=nr.f(),i=vc();return e||i}function Gb(e){var i=wn(e);i!==null&&i.tag===5&&i.type==="form"?vy(i):nr.r(e)}var Ya=typeof document>"u"?null:document;function iv(e,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),nv.has(h)||(nv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function Kb(e){nr.D(e),iv("dns-prefetch",e,null)}function Qb(e,i){nr.C(e,i),iv("preconnect",e,i)}function Yb(e,i,a){nr.L(e,i,a);var l=Ya;if(l&&e&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var d=h;switch(i){case"style":d=$a(e);break;case"script":d=Xa(e)}Pn.has(d)||(e=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function $b(e,i){nr.m(e,i);var a=Ya;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!Pn.has(d)&&(e=A({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function Xb(e,i,a){nr.S(e,i,a);var l=Ya;if(l&&e){var h=gi(l).hoistableStyles,d=$a(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Rl(d)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&Hd(e,a);var C=_=l.createElement("link");Ee(C),Fe(C,"link",e),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function Jb(e,i){nr.X(e,i);var a=Ya;if(a&&e){var l=gi(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(e=A({src:e,async:!0},i),(i=Pn.get(h))&&Fd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Zb(e,i){nr.M(e,i);var a=Ya;if(a&&e){var l=gi(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(e=A({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Fd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rv(e,i,a,l){var h=(h=wt.current)?Cc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=gi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var d=gi(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Rl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||Wb(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=gi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $a(e){return'href="'+sn(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function sv(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Wb(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function Xa(e){return'[src="'+sn(e)+'"]'}function Il(e){return"script[async]"+e}function av(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),Dc(l,a.precedence,e),i.instance=l;case"stylesheet":h=$a(a.href);var d=e.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=sv(a),(h=Pn.get(h))&&Hd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Fe(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,e),i.instance=d;case"script":return d=Xa(a.src),(h=e.querySelector(Il(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Pn.get(d))&&(l=A({},a),Fd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,e));return i.instance}function Dc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Hd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Nc=null;function ov(e,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function lv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function t1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function e1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=$a(l.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Oc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=sv(l),(h=Pn.get(h))&&Hd(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Oc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Gd=0;function n1(e,i){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Gd===0&&(Gd=62500*Pb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Gd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Mc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,i.forEach(i1,e),xc=null,Oc.call(e))}function i1(e,i){if(!(i.state.loading&4)){var a=xc.get(e);if(a)var l=a.get(null);else{a=new Map,xc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function r1(e,i,a,l,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function cv(e,i,a,l,h,d,_,T,C,U,F,Y){return e=new r1(e,i,a,_,C,U,F,Y,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=bf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),e}function hv(e){return e?(e=Ia,e):Ia}function fv(e,i,a,l,h,d){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=Dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(e,l,i),a!==null&&(hn(a,e,i),al(a,e,i))}function dv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Kd(e,i){dv(e,i),(e=e.alternate)&&dv(e,i)}function mv(e){if(e.tag===13||e.tag===31){var i=Ds(e,67108864);i!==null&&hn(i,e,67108864),Kd(e,67108864)}}function pv(e){if(e.tag===13||e.tag===31){var i=Tn();i=ys(i);var a=Ds(e,i);a!==null&&hn(a,e,i),Kd(e,i)}}var Vc=!0;function s1(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=2,Qd(e,i,a,l)}finally{st.p=d,G.T=h}}function a1(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=8,Qd(e,i,a,l)}finally{st.p=d,G.T=h}}function Qd(e,i,a,l){if(Vc){var h=Yd(l);if(h===null)Md(e,i,l,Lc,a),yv(e,l);else if(l1(h,e,i,a,l))l.stopPropagation();else if(yv(e,l),i&4&&-1<o1.indexOf(e)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-fe(_);T.entanglements[1]|=C,_&=~C}Di(d),(Ht&6)===0&&(yc=tn()+500,Al(0))}}break;case 31:case 13:T=Ds(d,2),T!==null&&hn(T,d,2),vc(),Kd(d,2)}if(d=Yd(l),d===null&&Md(e,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(e,i,l,null,a)}}function Yd(e){return e=Rn(e),$d(e)}var Lc=null;function $d(e){if(Lc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Lc=e,null}function gv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Oo:return 2;case xo:return 8;case mr:case tf:return 32;case du:return 268435456;default:return 32}default:return 32}}var Xd=!1,jr=null,qr=null,Hr=null,Dl=new Map,Nl=new Map,Fr=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&mv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function l1(e,i,a,l,h){switch(i){case"focusin":return jr=Ol(jr,e,i,a,l,h),!0;case"dragenter":return qr=Ol(qr,e,i,a,l,h),!0;case"mouseover":return Hr=Ol(Hr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,e,i,a,l,h)),!0}return!1}function _v(e){var i=pi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,qn(e.priority,function(){pv(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,qn(e.priority,function(){pv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fo=l,a.target.dispatchEvent(l),Fo=null}else return i=wn(a),i!==null&&mv(i),e.blockedOn=a,!1;i.shift()}return!0}function vv(e,i,a){Pc(e)&&a.delete(i)}function u1(){Xd=!1,jr!==null&&Pc(jr)&&(jr=null),qr!==null&&Pc(qr)&&(qr=null),Hr!==null&&Pc(Hr)&&(Hr=null),Dl.forEach(vv),Nl.forEach(vv)}function kc(e,i){e.blockedOn===i&&(e.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u1)))}var Uc=null;function Ev(e){Uc!==e&&(Uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uc===e&&(Uc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if($d(l||a)===null)continue;break}var d=wn(a);d!==null&&(e.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ja(e){function i(C){return kc(C,e)}jr!==null&&kc(jr,e),qr!==null&&kc(qr,e),Hr!==null&&kc(Hr,e),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)_v(a),a.blockedOn===null&&Fr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ve]||null;if(typeof d=="function")_||Ev(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ve]||null)T=_.formAction;else if($d(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ev(a)}}}function Tv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Jd(e){this._internalRoot=e}zc.prototype.render=Jd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();fv(a,l,e,i,null,null)},zc.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;fv(e.current,2,null,e,null,null),vc(),i[di]=null}};function zc(e){this._internalRoot=e}zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,e),a===0&&_v(e)}};var Av=t.version;if(Av!=="19.2.4")throw Error(s(527,Av,"19.2.4"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var c1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{Bn=Bc.inject(c1),ze=Bc}catch{}}return Ml.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Dy,d=Ny,_=Oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cv(e,1,!1,null,null,a,l,null,h,d,_,Tv),e[di]=i.current,xd(e),new Jd(i)},Ml.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Dy,_=Ny,T=Oy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=cv(e,1,!0,i,a??null,l,h,C,d,_,T,Tv),i.context=hv(null),a=i.current,l=Tn(),l=ys(l),h=Dr(l),h.callback=null,Nr(a,h,l),a=l,i.current.lanes=a,ps(i,a),Di(i),e[di]=i.current,xd(e),new zc(i)},Ml.version="19.2.4",Ml}var xv;function E1(){if(xv)return tm.exports;xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),tm.exports=v1(),tm.exports}var T1=E1();var Mv="popstate";function A1(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return b1(t,n,null,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ii(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S1(){return Math.random().toString(36).substring(2,10)}function Vv(r,t){return{usr:r.state,key:r.key,idx:t}}function Am(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?yo(t):t,state:n,key:t&&t.key||s||S1()}}function Gl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function b1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let K=E(),nt=K==null?null:K-y;y=K,g&&g({action:m,location:$.location,delta:nt})}function w(K,nt){m="PUSH";let et=Am($.location,K,nt);y=E()+1;let rt=Vv(et,y),At=$.createHref(et);try{f.pushState(rt,"",At)}catch(Ct){if(Ct instanceof DOMException&&Ct.name==="DataCloneError")throw Ct;o.location.assign(At)}u&&g&&g({action:m,location:$.location,delta:1})}function z(K,nt){m="REPLACE";let et=Am($.location,K,nt);y=E();let rt=Vv(et,y),At=$.createHref(et);f.replaceState(rt,"",At),u&&g&&g({action:m,location:$.location,delta:0})}function W(K){return w1(K)}let $={get action(){return m},get location(){return r(o,f)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Mv,A),g=K,()=>{o.removeEventListener(Mv,A),g=null}},createHref(K){return t(o,K)},createURL:W,encodeLocation(K){let nt=W(K);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:w,replace:z,go(K){return f.go(K)}};return $}function w1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Gl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function bT(r,t,n="/"){return R1(r,t,n,!1)}function R1(r,t,n,s){let o=typeof t=="string"?yo(t):t,u=lr(o.pathname||"/",n);if(u==null)return null;let f=wT(r);I1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=U1(u);m=P1(f[g],y,s)}return m}function wT(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=ar([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),wT(f.children,t,w,A,g)),!(f.path==null&&!f.index)&&t.push({path:A,score:V1(A,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of RT(f.path))u(f,m,!0,g)}),t}function RT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=RT(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function I1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:L1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var C1=/^:[\w-]+$/,D1=3,N1=2,O1=1,x1=10,M1=-2,Lv=r=>r==="*";function V1(r,t){let n=r.split("/"),s=n.length;return n.some(Lv)&&(s+=M1),t&&(s+=N1),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(C1.test(u)?D1:u===""?O1:x1),s)}function L1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function P1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),w=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=oh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:ar([u,A.pathname]),pathnameBase:q1(ar([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=ar([u,A.pathnameBase]))}return f}function oh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=k1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:A},w)=>{if(E==="*"){let W=m[w]||"";f=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const z=m[w];return A&&!z?y[E]=void 0:y[E]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function k1(r,t=!1,n=!0){ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function U1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function lr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function B1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Pv(n.substring(1),"/"):u=Pv(n,t)):u=t,{pathname:u,search:H1(s),hash:F1(o)}}function Pv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jm(r){let t=j1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Zm(r,t,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?t[A]:"/"}let g=B1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),q1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),H1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,F1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,G1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function K1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Q1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CT(r,t){let n=r;if(typeof n!="string"||!z1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(IT)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=lr(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var Y1=["GET",...DT];new Set(Y1);var _o=H.createContext(null);_o.displayName="DataRouter";var Nh=H.createContext(null);Nh.displayName="DataRouterState";var $1=H.createContext(!1),NT=H.createContext({isTransitioning:!1});NT.displayName="ViewTransition";var X1=H.createContext(new Map);X1.displayName="Fetchers";var J1=H.createContext(null);J1.displayName="Await";var Sn=H.createContext(null);Sn.displayName="Navigation";var eu=H.createContext(null);eu.displayName="Location";var ai=H.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Wm=H.createContext(null);Wm.displayName="RouteError";var OT="REACT_ROUTER_ERROR",Z1="REDIRECT",W1="ROUTE_ERROR_RESPONSE";function tw(r){if(r.startsWith(`${OT}:${Z1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function ew(r){if(r.startsWith(`${OT}:${W1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new G1(t.status,t.statusText,t.data)}catch{}}function nw(r,{relative:t}={}){le(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Sn),{hash:o,pathname:u,search:f}=nu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return H.useContext(eu)!=null}function cs(){return le(vo(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(eu).location}var xT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MT(r){H.useContext(Sn).static||H.useLayoutEffect(r)}function tp(){let{isDataRoute:r}=H.useContext(ai);return r?yw():iw()}function iw(){le(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(_o),{basename:t,navigator:n}=H.useContext(Sn),{matches:s}=H.useContext(ai),{pathname:o}=cs(),u=JSON.stringify(Jm(s)),f=H.useRef(!1);return MT(()=>{f.current=!0}),H.useCallback((g,y={})=>{if(ii(f.current,xT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Zm(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:ar([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}var rw=H.createContext(null);function sw(r){let t=H.useContext(ai).outlet;return H.useMemo(()=>t&&H.createElement(rw.Provider,{value:r},t),[t,r])}function nu(r,{relative:t}={}){let{matches:n}=H.useContext(ai),{pathname:s}=cs(),o=JSON.stringify(Jm(n));return H.useMemo(()=>Zm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function aw(r,t){return VT(r,t)}function VT(r,t,n,s,o){le(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Sn),{matches:f}=H.useContext(ai),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let et=A&&A.path||"";PT(y,!A||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let w=cs(),z;if(t){let et=typeof t=="string"?yo(t):t;le(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),z=et}else z=w;let W=z.pathname||"/",$=W;if(E!=="/"){let et=E.replace(/^\//,"").split("/");$="/"+W.replace(/^\//,"").split("/").slice(et.length).join("/")}let K=bT(r,{pathname:$});ii(A||K!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),ii(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=hw(K&&K.map(et=>Object.assign({},et,{params:Object.assign({},g,et.params),pathname:ar([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:ar([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),f,n,s,o);return t&&nt?H.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},nt):nt}function ow(){let r=gw(),t=K1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:o},n):null,f)}var lw=H.createElement(ow,null),LT=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=ew(r.digest);n&&(r=n)}let t=r!==void 0?H.createElement(ai.Provider,{value:this.props.routeContext},H.createElement(Wm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(uw,{error:r},t):t}};LT.contextType=$1;var sm=new WeakMap;function uw({children:r,error:t}){let{basename:n}=H.useContext(Sn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=tw(t.digest);if(s){let o=sm.get(t);if(o)throw o;let u=CT(s.location,n);if(IT&&!sm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw sm.set(t,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function cw({routeContext:r,match:t,children:n}){let s=H.useContext(_o);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(ai.Provider,{value:r},n)}function hw(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(A=>A.route.id&&f?.[A.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let A=u[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(g=E),A.route.id){let{loaderData:w,errors:z}=n,W=A.route.loader&&!w.hasOwnProperty(A.route.id)&&(!z||z[A.route.id]===void 0);if(A.route.lazy||W){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,A)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Q1(n.matches),errorInfo:A})}:void 0;return u.reduceRight((E,A,w)=>{let z,W=!1,$=null,K=null;n&&(z=f&&A.route.id?f[A.route.id]:void 0,$=A.route.errorElement||lw,m&&(g<0&&w===0?(PT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,K=null):g===w&&(W=!0,K=A.route.hydrateFallbackElement||null)));let nt=t.concat(u.slice(0,w+1)),et=()=>{let rt;return z?rt=$:W?rt=K:A.route.Component?rt=H.createElement(A.route.Component,null):A.route.element?rt=A.route.element:rt=E,H.createElement(cw,{match:A,routeContext:{outlet:E,matches:nt,isDataRoute:n!=null},children:rt})};return n&&(A.route.ErrorBoundary||A.route.errorElement||w===0)?H.createElement(LT,{location:n.location,revalidation:n.revalidation,component:$,error:z,children:et(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:y}):et()},null)}function ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fw(r){let t=H.useContext(_o);return le(t,ep(r)),t}function dw(r){let t=H.useContext(Nh);return le(t,ep(r)),t}function mw(r){let t=H.useContext(ai);return le(t,ep(r)),t}function np(r){let t=mw(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function pw(){return np("useRouteId")}function gw(){let r=H.useContext(Wm),t=dw("useRouteError"),n=np("useRouteError");return r!==void 0?r:t.errors?.[n]}function yw(){let{router:r}=fw("useNavigate"),t=np("useNavigate"),n=H.useRef(!1);return MT(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{ii(n.current,xT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var kv={};function PT(r,t,n){!t&&!kv[r]&&(kv[r]=!0,ii(!1,n))}H.memo(_w);function _w({routes:r,future:t,state:n,onError:s}){return VT(r,void 0,n,s,t)}function vw({to:r,replace:t,state:n,relative:s}){le(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Sn);ii(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(ai),{pathname:f}=cs(),m=tp(),g=Zm(r,Jm(u),f,s==="path"),y=JSON.stringify(g);return H.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Ew(r){return sw(r.context)}function qs(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=yo(n));let{pathname:y="/",search:E="",hash:A="",state:w=null,key:z="default"}=n,W=H.useMemo(()=>{let $=lr(y,m);return $==null?null:{location:{pathname:$,search:E,hash:A,state:w,key:z},navigationType:s}},[m,y,E,A,w,z,s]);return ii(W!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:H.createElement(Sn.Provider,{value:g},H.createElement(eu.Provider,{children:t,value:W}))}function Aw({children:r,location:t}){return aw(Sm(r),t)}function Sm(r,t=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){n.push.apply(n,Sm(s.props.children,u));return}le(s.type===qs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var $c="get",Xc="application/x-www-form-urlencoded";function Oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Sw(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function bw(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function ww(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function Rw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Iw(r,t){return r.button===0&&(!t||t==="_self")&&!Rw(r)}var jc=null;function Cw(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var Dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(r){return r!=null&&!Dw.has(r)?(ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):r}function Nw(r,t){let n,s,o,u,f;if(bw(r)){let m=r.getAttribute("action");s=m?lr(m,t):null,n=r.getAttribute("method")||$c,o=am(r.getAttribute("enctype"))||Xc,u=new FormData(r)}else if(Sw(r)||ww(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?lr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=am(r.getAttribute("formenctype"))||am(m.getAttribute("enctype"))||Xc,u=new FormData(m,r),!Cw()){let{name:y,type:E,value:A}=r;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ow(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&lr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function xw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Vw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await xw(u,n);return f.links?f.links():[]}return[]}));return Uw(s.flat(1).filter(Mw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Uv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Lw(r,t,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function kw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Uw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(kw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function kT(){let r=H.useContext(_o);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zw(){let r=H.useContext(Nh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=H.createContext(void 0);rp.displayName="FrameworkContext";function UT(){let r=H.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function Bw(r,t){let n=H.useContext(rp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,w=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=nt=>{nt.forEach(et=>{f(et.isIntersecting)})},K=new IntersectionObserver($,{threshold:.5});return w.current&&K.observe(w.current),()=>{K.disconnect()}}},[r]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let z=()=>{o(!0)},W=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Vl(m,z),onBlur:Vl(g,W),onMouseEnter:Vl(y,z),onMouseLeave:Vl(E,W),onTouchStart:Vl(A,z)}]:[!1,w,{}]}function Vl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function jw({page:r,...t}){let{router:n}=kT(),s=H.useMemo(()=>bT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(Hw,{page:r,matches:s,...t}):null}function qw(r){let{manifest:t,routeModules:n}=UT(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Vw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Hw({page:r,matches:t,...n}){let s=cs(),{future:o,manifest:u,routeModules:f}=UT(),{basename:m}=kT(),{loaderData:g,matches:y}=zw(),E=H.useMemo(()=>Uv(r,t,y,u,s,"data"),[r,t,y,u,s]),A=H.useMemo(()=>Uv(r,t,y,u,s,"assets"),[r,t,y,u,s]),w=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,K=!1;if(t.forEach(et=>{let rt=u.routes[et.route.id];!rt||!rt.hasLoader||(!E.some(At=>At.route.id===et.route.id)&&et.route.id in g&&f[et.route.id]?.shouldRevalidate||rt.hasClientLoader?K=!0:$.add(et.route.id))}),$.size===0)return[];let nt=Ow(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&$.size>0&&nt.searchParams.set("_routes",t.filter(et=>$.has(et.route.id)).map(et=>et.route.id).join(",")),[nt.pathname+nt.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),z=H.useMemo(()=>Lw(A,u),[A,u]),W=qw(A);return H.createElement(H.Fragment,null,w.map($=>H.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),z.map($=>H.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),W.map(({key:$,link:K})=>H.createElement("link",{key:$,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function Fw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.13.0")}catch{}function Kw({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=H.useRef();o.current==null&&(o.current=A1({window:s,v5Compat:!0}));let u=o.current,[f,m]=H.useState({action:u.action,location:u.location}),g=H.useCallback(y=>{n===!1?m(y):H.startTransition(()=>m(y))},[n]);return H.useLayoutEffect(()=>u.listen(g),[u,g]),H.createElement(Tw,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qr=H.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w,...z},W){let{basename:$,unstable_useTransitions:K}=H.useContext(Sn),nt=typeof y=="string"&&zT.test(y),et=CT(y,$);y=et.to;let rt=nw(y,{relative:o}),[At,Ct,It]=Bw(s,z),D=Xw(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:w,unstable_useTransitions:K});function b(M){t&&t(M),M.defaultPrevented||D(M)}let R=H.createElement("a",{...z,...It,href:et.absoluteURL||rt,onClick:et.isExternal||u?t:b,ref:Fw(W,Ct),target:g,"data-discover":!nt&&n==="render"?"true":void 0});return At&&!nt?H.createElement(H.Fragment,null,R,H.createElement(jw,{page:rt})):R});Qr.displayName="Link";var Qw=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=nu(f,{relative:y.relative}),w=cs(),z=H.useContext(Nh),{navigator:W,basename:$}=H.useContext(Sn),K=z!=null&&eR(A)&&m===!0,nt=W.encodeLocation?W.encodeLocation(A).pathname:A.pathname,et=w.pathname,rt=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(et=et.toLowerCase(),rt=rt?rt.toLowerCase():null,nt=nt.toLowerCase()),rt&&$&&(rt=lr(rt,$)||rt);const At=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let Ct=et===nt||!o&&et.startsWith(nt)&&et.charAt(At)==="/",It=rt!=null&&(rt===nt||!o&&rt.startsWith(nt)&&rt.charAt(nt.length)==="/"),D={isActive:Ct,isPending:It,isTransitioning:K},b=Ct?t:void 0,R;typeof s=="function"?R=s(D):R=[s,Ct?"active":null,It?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return H.createElement(Qr,{...y,"aria-current":b,className:R,ref:E,style:M,to:f,viewTransition:m},typeof g=="function"?g(D):g)});Qw.displayName="NavLink";var Yw=H.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w,...z},W)=>{let{unstable_useTransitions:$}=H.useContext(Sn),K=Ww(),nt=tR(m,{relative:y}),et=f.toLowerCase()==="get"?"get":"post",rt=typeof m=="string"&&zT.test(m),At=Ct=>{if(g&&g(Ct),Ct.defaultPrevented)return;Ct.preventDefault();let It=Ct.nativeEvent.submitter,D=It?.getAttribute("formmethod")||f,b=()=>K(It||Ct.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w});$&&n!==!1?H.startTransition(()=>b()):b()};return H.createElement("form",{ref:W,method:et,action:nt,onSubmit:s?g:At,...z,"data-discover":!rt&&r==="render"?"true":void 0})});Yw.displayName="Form";function $w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BT(r){let t=H.useContext(_o);return le(t,$w(r)),t}function Xw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=tp(),E=cs(),A=nu(r,{relative:u});return H.useCallback(w=>{if(Iw(w,t)){w.preventDefault();let z=n!==void 0?n:Gl(E)===Gl(A),W=()=>y(r,{replace:z,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?H.startTransition(()=>W()):W()}},[E,y,A,n,s,t,r,o,u,f,m,g])}var Jw=0,Zw=()=>`__${String(++Jw)}__`;function Ww(){let{router:r}=BT("useSubmit"),{basename:t}=H.useContext(Sn),n=pw(),s=r.fetch,o=r.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:A}=Nw(u,t);if(f.navigate===!1){let w=f.fetcherKey||Zw();await s(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function tR(r,{relative:t}={}){let{basename:n}=H.useContext(Sn),s=H.useContext(ai);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:t})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Gl(u)}function eR(r,{relative:t}={}){let n=H.useContext(NT);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BT("useViewTransitionState"),o=nu(r,{relative:t});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return oh(o.pathname,f)!=null||oh(o.pathname,u)!=null}function jT(){return Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-secondary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:Z.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}const nR=()=>{};var zv={};const qT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},iR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},HT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,z=y&63;g||(z=64,f||(w=64)),s.push(n[E],n[A],n[w],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(qT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new rR;const w=u<<2|m>>4;if(s.push(w),y!==64){const z=m<<4&240|y>>2;if(s.push(z),A!==64){const W=y<<6&192|A;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(r){const t=qT(r);return HT.encodeByteArray(t,!0)},lh=function(r){return sR(r).replace(/\./g,"")},FT=function(r){try{return HT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oR=()=>aR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&FT(r[1]);return t&&JSON.parse(t)},xh=()=>{try{return nR()||oR()||lR()||uR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GT=r=>xh()?.emulatorHosts?.[r],cR=r=>{const t=GT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},KT=()=>xh()?.config,QT=r=>xh()?.[`_${r}`];class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YT(r){return(await fetch(r,{credentials:"include"})).ok}function fR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[lh(JSON.stringify(n)),lh(JSON.stringify(f)),""].join(".")}const zl={};function dR(){const r={prod:[],emulator:[]};for(const t of Object.keys(zl))zl[t]?r.emulator.push(t):r.prod.push(t);return r}function mR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Bv=!1;function $T(r,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||zl[r]===t||zl[r]||Bv)return;zl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=dR().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,z){w.setAttribute("width","24"),w.setAttribute("id",z),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Bv=!0,f()},w}function E(w,z){w.setAttribute("id",z),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=mR(s),z=n("text"),W=document.getElementById(z)||document.createElement("span"),$=n("learnmore"),K=document.getElementById($)||document.createElement("a"),nt=n("preprendIcon"),et=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const rt=w.element;m(rt),E(K,$);const At=y();g(et,nt),rt.append(et,W,K,At),document.body.appendChild(rt)}u?(W.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function gR(){const r=xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _R(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ER(){return!gR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JT(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function TR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const AR="FirebaseError";class oi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=AR,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?SR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new oi(o,m,s)}}function SR(r,t){return r.replace(bR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const bR=/\{\$([^}]+)}/g;function wR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(jv(u)&&jv(f)){if(!is(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}function iu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function RR(r,t){const n=new IR(r,t);return n.subscribe.bind(n)}class IR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=om),o.error===void 0&&(o.error=om),o.complete===void 0&&(o.complete=om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function om(){}const DR=1e3,NR=2,OR=14400*1e3,xR=.5;function qv(r,t=DR,n=NR){const s=t*Math.pow(n,r),o=Math.round(xR*s*(Math.random()-.5)*2);return Math.min(OR,s+o)}function We(r){return r&&r._delegate?r._delegate:r}class ri{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hs="[DEFAULT]";class MR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new hR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LR(t))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Hs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hs){return this.instances.has(t)}getOptions(t=Hs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Hs){return this.component?this.component.multipleInstances?t:Hs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(r){return r===Hs?void 0:r}function LR(r){return r.instantiationMode==="EAGER"}class PR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new MR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const kR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},UR=Mt.INFO,zR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},BR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=zR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mh{constructor(t){this.name=t,this._logLevel=UR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const jR=(r,t)=>t.some(n=>r instanceof n);let Hv,Fv;function qR(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,bm=new WeakMap,t0=new WeakMap,lm=new WeakMap,sp=new WeakMap;function FR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&WT.set(n,r)}).catch(()=>{}),sp.set(t,r),t}function GR(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let wm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||t0.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function KR(r){wm=r(wm)}function QR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(um(this),t,...n);return t0.set(s,t.sort?t.sort():[t]),Zr(s)}:HR().includes(r)?function(...t){return r.apply(um(this),t),Zr(WT.get(this))}:function(...t){return Zr(r.apply(um(this),t))}}function YR(r){return typeof r=="function"?QR(r):(r instanceof IDBTransaction&&GR(r),jR(r,qR())?new Proxy(r,wm):r)}function Zr(r){if(r instanceof IDBRequest)return FR(r);if(lm.has(r))return lm.get(r);const t=YR(r);return t!==r&&(lm.set(r,t),sp.set(t,r)),t}const um=r=>sp.get(r);function e0(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Zr(f.result),g.oldVersion,g.newVersion,Zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const $R=["get","getKey","getAll","getAllKeys","count"],XR=["put","add","delete","clear"],cm=new Map;function Gv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(cm.get(t))return cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=XR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$R.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return cm.set(t,u),u}KR(r=>({...r,get:(t,n,s)=>Gv(t,n)||r.get(t,n,s),has:(t,n)=>!!Gv(t,n)||r.has(t,n)}));class JR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ZR(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",Kv="0.14.8";const ur=new Mh("@firebase/app"),WR="@firebase/app-compat",tI="@firebase/analytics-compat",eI="@firebase/analytics",nI="@firebase/app-check-compat",iI="@firebase/app-check",rI="@firebase/auth",sI="@firebase/auth-compat",aI="@firebase/database",oI="@firebase/data-connect",lI="@firebase/database-compat",uI="@firebase/functions",cI="@firebase/functions-compat",hI="@firebase/installations",fI="@firebase/installations-compat",dI="@firebase/messaging",mI="@firebase/messaging-compat",pI="@firebase/performance",gI="@firebase/performance-compat",yI="@firebase/remote-config",_I="@firebase/remote-config-compat",vI="@firebase/storage",EI="@firebase/storage-compat",TI="@firebase/firestore",AI="@firebase/ai",SI="@firebase/firestore-compat",bI="firebase",wI="12.9.0";const Im="[DEFAULT]",RI={[Rm]:"fire-core",[WR]:"fire-core-compat",[eI]:"fire-analytics",[tI]:"fire-analytics-compat",[iI]:"fire-app-check",[nI]:"fire-app-check-compat",[rI]:"fire-auth",[sI]:"fire-auth-compat",[aI]:"fire-rtdb",[oI]:"fire-data-connect",[lI]:"fire-rtdb-compat",[uI]:"fire-fn",[cI]:"fire-fn-compat",[hI]:"fire-iid",[fI]:"fire-iid-compat",[dI]:"fire-fcm",[mI]:"fire-fcm-compat",[pI]:"fire-perf",[gI]:"fire-perf-compat",[yI]:"fire-rc",[_I]:"fire-rc-compat",[vI]:"fire-gcs",[EI]:"fire-gcs-compat",[TI]:"fire-fst",[SI]:"fire-fst-compat",[AI]:"fire-vertex","fire-js":"fire-js",[bI]:"fire-js-all"};const uh=new Map,II=new Map,Cm=new Map;function Qv(r,t){try{r.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Li(r){const t=r.name;if(Cm.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,r);for(const n of uh.values())Qv(n,r);for(const n of II.values())Qv(n,r);return!0}function ea(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Zn(r){return r==null?!1:r.settings!==void 0}const CI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new ta("app","Firebase",CI);class DI{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const To=wI;function n0(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Im,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=KT()),!n)throw Wr.create("no-options");const u=uh.get(o);if(u){if(is(n,u.options)&&is(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const f=new PR(o);for(const g of Cm.values())f.addComponent(g);const m=new DI(n,s,f);return uh.set(o,m),m}function ap(r=Im){const t=uh.get(r);if(!t&&r===Im&&KT())return n0();if(!t)throw Wr.create("no-app",{appName:r});return t}function zn(r,t,n){let s=RI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}Li(new ri(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const NI="firebase-heartbeat-database",OI=1,Kl="firebase-heartbeat-store";let hm=null;function i0(){return hm||(hm=e0(NI,OI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),hm}async function xI(r){try{const n=(await i0()).transaction(Kl),s=await n.objectStore(Kl).get(r0(r));return await n.done,s}catch(t){if(t instanceof oi)ur.warn(t.message);else{const n=Wr.create("idb-get",{originalErrorMessage:t?.message});ur.warn(n.message)}}}async function Yv(r,t){try{const s=(await i0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(t,r0(r)),await s.done}catch(n){if(n instanceof oi)ur.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function r0(r){return`${r.name}!${r.options.appId}`}const MI=1024,VI=30;class LI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>VI){const o=UI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ur.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$v(),{heartbeatsToSend:n,unsentEntries:s}=PI(this._heartbeatsCache.heartbeats),o=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ur.warn(t),""}}}function $v(){return new Date().toISOString().substring(0,10)}function PI(r,t=MI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class kI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JT()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Xv(r){return lh(JSON.stringify({version:2,heartbeats:r})).length}function UI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function zI(r){Li(new ri("platform-logger",t=>new JR(t),"PRIVATE")),Li(new ri("heartbeat",t=>new LI(t),"PRIVATE")),zn(Rm,Kv,r),zn(Rm,Kv,"esm2020"),zn("fire-js","")}zI("");function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=s0,a0=new ta("auth","Firebase",s0());const ch=new Mh("@firebase/auth");function jI(r,...t){ch.logLevel<=Mt.WARN&&ch.warn(`Auth (${To}): ${r}`,...t)}function Jc(r,...t){ch.logLevel<=Mt.ERROR&&ch.error(`Auth (${To}): ${r}`,...t)}function Pi(r,...t){throw lp(r,...t)}function ei(r,...t){return lp(r,...t)}function op(r,t,n){const s={...BI(),[t]:n};return new ta("auth","Firebase",s).create(t,{appName:r.name})}function Qs(r){return op(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Pi(r,"argument-error"),op(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return a0.create(r,...t)}function yt(r,t,...n){if(!r)throw lp(t,...n)}function rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Jc(t),new Error(t)}function cr(r,t){r||rr(t)}function Dm(){return typeof self<"u"&&self.location?.href||""}function HI(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function FI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||XT()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=pR()||_R()}get(){return FI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function up(r,t){cr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class o0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new ru(3e4,6e4);function cp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ao(r,t,n,s,o={}){return l0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return yR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(y.credentials="include"),o0.fetch()(await u0(r,r.config.apiHost,n,m),y)})}async function l0(r,t,n){r._canInitEmulator=!1;const s={...KI,...t};try{const o=new XI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw qc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw op(r,E,y);Pi(r,E)}}catch(o){if(o instanceof oi)throw o;Pi(r,"network-request-failed",{message:String(o)})}}async function $I(r,t,n,s,o={}){const u=await Ao(r,t,n,s,o);return"mfaPendingCredential"in u&&Pi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function u0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?up(r.config,o):`${r.config.apiScheme}://${o}`;return QI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ei(this.auth,"network-request-failed")),YI.get())})}}function qc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ei(r,t,s);return o.customData._tokenResponse=n,o}async function JI(r,t){return Ao(r,"POST","/v1/accounts:delete",t)}async function hh(r,t){return Ao(r,"POST","/v1/accounts:lookup",t)}function Bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZI(r,t=!1){const n=We(r),s=await n.getIdToken(t),o=hp(s);yt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(fm(o.auth_time)),issuedAtTime:Bl(fm(o.iat)),expirationTime:Bl(fm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function fm(r){return Number(r)*1e3}function hp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=FT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Zv(r){const t=hp(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ql(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof oi&&WI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function WI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(r){const t=r.auth,n=await r.getIdToken(),s=await Ql(r,hh(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?c0(o.providerUserInfo):[],f=nC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function eC(r){const t=We(r);await fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nC(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function c0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function iC(r,t){const n=await l0(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await u0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),o0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rC(r,t){return Ao(r,"POST","/v2/accounts:revokeToken",cp(r,t))}class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=Zv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await iC(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(yt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(yt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(yt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Kr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ZI(this,t)}reload(){return eC(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await Ql(this,JI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:z,providerData:W,stsTokenManager:$}=n;yt(A&&$,t,"internal-error");const K=no.fromJSON(this.name,$);yt(typeof A=="string",t,"internal-error"),Kr(s,t.name),Kr(o,t.name),yt(typeof w=="boolean",t,"internal-error"),yt(typeof z=="boolean",t,"internal-error"),Kr(u,t.name),Kr(f,t.name),Kr(m,t.name),Kr(g,t.name),Kr(y,t.name),Kr(E,t.name);const nt=new Wn({uid:A,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(nt.providerData=W.map(et=>({...et}))),g&&(nt._redirectEventId=g),nt}static async _fromIdTokenResponse(t,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];yt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?c0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const g=new Wn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Wv=new Map;function sr(r){cr(r instanceof Function,"Expected a class definition");let t=Wv.get(r);return t?(cr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Wv.set(r,t),t)}class h0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}h0.type="NONE";const tE=h0;function Zc(r,t,n){return`firebase:${r}:${t}:${n}`}class io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hh(this.auth,{idToken:t}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new io(sr(tE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(tE);const f=Zc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let A;if(typeof E=="string"){const w=await hh(t,{idToken:E}).catch(()=>{});if(!w)break;A=await Wn._fromGetAccountInfoResponse(t,w,E)}else A=Wn._fromJSON(t,E);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new io(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new io(u,t,s))}}function eE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(p0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(f0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(y0(t))return"Blackberry";if(_0(t))return"Webos";if(d0(t))return"Safari";if((t.includes("chrome/")||m0(t))&&!t.includes("edge/"))return"Chrome";if(g0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function f0(r=Ze()){return/firefox\//i.test(r)}function d0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function m0(r=Ze()){return/crios\//i.test(r)}function p0(r=Ze()){return/iemobile/i.test(r)}function g0(r=Ze()){return/android/i.test(r)}function y0(r=Ze()){return/blackberry/i.test(r)}function _0(r=Ze()){return/webos/i.test(r)}function fp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function sC(r=Ze()){return fp(r)&&!!window.navigator?.standalone}function aC(){return vR()&&document.documentMode===10}function v0(r=Ze()){return fp(r)||g0(r)||_0(r)||y0(r)||/windows phone/i.test(r)||p0(r)}function E0(r,t=[]){let n;switch(r){case"Browser":n=eE(Ze());break;case"Worker":n=`${eE(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class oC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function lC(r,t={}){return Ao(r,"GET","/v2/passwordPolicy",cp(r,t))}const uC=6;class cC{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??uC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class hC{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hh(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await fh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Qs(this));const n=t?We(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lC(this),n=new cC(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ta("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await rC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sr(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&jI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vh(r){return We(r)}class nE{constructor(t){this.auth=t,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){dp=r}function dC(r){return dp.loadJS(r)}function mC(){return dp.gapiScript}function pC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function gC(r,t){const n=ea(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(is(u,t??{}))return o;Pi(o,"already-initialized")}return n.initialize({options:t})}function yC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function _C(r,t,n){const s=Vh(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=T0(t),{host:f,port:m}=vC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(is(y,s.config.emulator)&&is(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(YT(`${u}//${f}${g}`),$T("Auth",!0)):EC()}function T0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vC(r){const t=T0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:iE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:iE(f)}}}function iE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class A0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,n){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function ro(r,t){return $I(r,"POST","/v1/accounts:signInWithIdp",cp(r,t))}const TC="http://localhost";class Ys extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=iu(n)}return t}}class mp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class su extends mp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Yr extends su{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class ir extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class $r extends su{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";class Xr extends su{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wn._fromIdTokenResponse(t,s,o),f=rE(s);return new co({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=rE(s);return new co({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class dh extends oi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new dh(t,n,s,o)}}function S0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,t,s):u})}async function AC(r,t,n=!1){const s=await Ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return co._forOperation(r,"link",s)}async function SC(r,t,n=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await Ql(r,S0(s,o,t,r),n);yt(u.idToken,s,"internal-error");const f=hp(u.idToken);yt(f,s,"internal-error");const{sub:m}=f;return yt(r.uid===m,s,"user-mismatch"),co._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pi(s,"user-mismatch"),u}}async function bC(r,t,n=!1){if(Zn(r.app))return Promise.reject(Qs(r));const s="signIn",o=await S0(r,s,t),u=await co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function wC(r,t,n,s){return We(r).onIdTokenChanged(t,n,s)}function RC(r,t,n){return We(r).beforeAuthStateChanged(t,n)}function IC(r,t,n,s){return We(r).onAuthStateChanged(t,n,s)}const mh="__sak";class b0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,DC=10;class w0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);aC()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,DC):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}w0.type="LOCAL";const NC=w0;class R0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}R0.type="SESSION";const I0=R0;function OC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Lh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Lh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await OC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];function pp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class xC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=pp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function MC(r){Oi().location.href=r}function C0(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function VC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LC(){return navigator?.serviceWorker?.controller||null}function PC(){return C0()?self:null}const D0="firebaseLocalStorageDb",kC=1,ph="firebaseLocalStorage",N0="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,t){return r.transaction([ph],t?"readwrite":"readonly").objectStore(ph)}function UC(){const r=indexedDB.deleteDatabase(D0);return new au(r).toPromise()}function Om(){const r=indexedDB.open(D0,kC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:N0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?t(s):(s.close(),await UC(),t(await Om()))})})}async function sE(r,t,n){const s=Ph(r,!0).put({[N0]:t,value:n});return new au(s).toPromise()}async function zC(r,t){const n=Ph(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function aE(r,t){const n=Ph(r,!0).delete(t);return new au(n).toPromise()}const BC=800,jC=3;class O0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>jC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(PC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VC(),!this.activeServiceWorker)return;this.sender=new xC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Om();return await sE(t,mh,"1"),await aE(t,mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>zC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O0.type="LOCAL";const qC=O0;new ru(3e4,6e4);function x0(r,t){return t?sr(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gp extends A0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function HC(r){return bC(r.auth,new gp(r),r.bypassAuthState)}function FC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),SC(n,new gp(r),r.bypassAuthState)}async function GC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),AC(n,new gp(r),r.bypassAuthState)}class M0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:Pi(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new ru(2e3,1e4);async function QC(r,t,n){if(Zn(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const s=Vh(r);qI(r,t,mp);const o=x0(s,n);return new Fs(s,"signInViaPopup",t,o).executeNotNull()}class Fs extends M0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KC.get())};t()}}Fs.currentPopupAction=null;const YC="pendingRedirect",Wc=new Map;class $C extends M0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const s=await XC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(r,t){const n=WC(t),s=ZC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JC(r,t){Wc.set(r._key(),t)}function ZC(r){return sr(r._redirectPersistence)}function WC(r){return Zc(YC,r.config.apiKey,r.name)}async function t2(r,t,n=!1){if(Zn(r.app))return Promise.reject(Qs(r));const s=Vh(r),o=x0(s,t),f=await new $C(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const e2=600*1e3;class n2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!i2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!V0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ei(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(t))}saveEventToCache(t){this.cachedEventUids.add(oE(t)),this.lastProcessedEventTime=Date.now()}}function oE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function V0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function i2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(r);default:return!1}}async function r2(r,t={}){return Ao(r,"GET","/v1/projects",t)}const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function o2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await r2(r);for(const n of t)try{if(l2(n))return}catch{}Pi(r,"unauthorized-domain")}function l2(r){const t=Dm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!a2.test(n))return!1;if(s2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const u2=new ru(3e4,6e4);function lE(){const r=Oi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function c2(r){return new Promise((t,n)=>{function s(){lE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(ei(r,"network-request-failed"))},timeout:u2.get()})}if(Oi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=pC("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(ei(r,"network-request-failed"))},dC(`${mC()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw th=null,t})}let th=null;function h2(r){return th=th||c2(r),th}const f2=new ru(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?up(t,m2):`https://${r.config.authDomain}/${d2}`,s={apiKey:t.apiKey,appName:r.name,v:To},o=g2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function _2(r){const t=await h2(r),n=Oi().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:y2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ei(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},f2.get());function g(){Oi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,A2="_blank",S2="http://localhost";class uE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b2(r,t,n,s=E2,o=T2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...v2,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=m0(y)?A2:n),f0(y)&&(t=t||S2,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[z,W])=>`${w}${z}=${W},`,"");if(sC(y)&&m!=="_self")return w2(t||"",m),new uE(null);const A=window.open(t||"",m,E);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new uE(A)}function w2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const R2="__/auth/handler",I2="emulator/auth/handler",C2=encodeURIComponent("fac");async function cE(r,t,n,s,o,u){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(t instanceof mp){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",wR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof su){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${C2}=${encodeURIComponent(g)}`:"";return`${D2(r)}?${iu(m).slice(1)}${y}`}function D2({config:r}){return r.emulator?up(r,I2):`https://${r.authDomain}/${R2}`}const dm="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=t2,this._overrideRedirectResult=JC}async _openPopup(t,n,s,o){cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await cE(t,n,s,Dm(),o);return b2(t,u,pp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await cE(t,n,s,Dm(),o);return MC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await _2(t),s=new n2(t);return n.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(dm,{type:dm},o=>{const u=o?.[0]?.[dm];u!==void 0&&n(!!u),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return v0()||d0()||fp()}}const O2=N2;var hE="@firebase/auth",fE="1.12.0";class x2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(r){Li(new ri("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;yt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(r)},y=new hC(s,o,u,g);return yC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Li(new ri("auth-internal",t=>{const n=Vh(t.getProvider("auth").getImmediate());return(s=>new x2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(hE,fE,M2(r)),zn(hE,fE,"esm2020")}const L2=300,P2=QT("authIdTokenMaxAge")||L2;let dE=null;const k2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>P2)return;const o=n?.token;dE!==o&&(dE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function U2(r=ap()){const t=ea(r,"auth");if(t.isInitialized())return t.getImmediate();const n=gC(r,{popupRedirectResolver:O2,persistence:[qC,NC,I0]}),s=QT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=k2(u.toString());RC(n,f,()=>f(n.currentUser)),wC(n,m=>f(m))}}const o=GT("auth");return o&&_C(n,`http://${o}`),n}function z2(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V2("Browser");var B2="firebase",j2="12.9.0";zn(B2,j2,"app");const L0="@firebase/installations",yp="0.6.19";const P0=1e4,k0=`w:${yp}`,U0="FIS_v2",q2="https://firebaseinstallations.googleapis.com/v1",H2=3600*1e3,F2="installations",G2="Installations";const K2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new ta(F2,G2,K2);function z0(r){return r instanceof oi&&r.code.includes("request-failed")}function B0({projectId:r}){return`${q2}/projects/${r}/installations`}function j0(r){return{token:r.token,requestStatus:2,expiresIn:Y2(r.expiresIn),creationTime:Date.now()}}async function q0(r,t){const s=(await t.json()).error;return $s.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function H0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Q2(r,{refreshToken:t}){const n=H0(r);return n.append("Authorization",$2(t)),n}async function F0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function Y2(r){return Number(r.replace("s","000"))}function $2(r){return`${U0} ${r}`}async function X2({appConfig:r,heartbeatServiceProvider:t},{fid:n}){const s=B0(r),o=H0(r),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:U0,appId:r.appId,sdkVersion:k0},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await F0(()=>fetch(s,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:j0(y.authToken)}}else throw await q0("Create Installation",g)}function G0(r){return new Promise(t=>{setTimeout(t,r)})}function J2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const Z2=/^[cdef][\w-]{21}$/,xm="";function W2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=tD(r);return Z2.test(n)?n:xm}catch{return xm}}function tD(r){return J2(r).substr(0,22)}function kh(r){return`${r.appName}!${r.appId}`}const K0=new Map;function Q0(r,t){const n=kh(r);Y0(n,t),eD(n,t)}function Y0(r,t){const n=K0.get(r);if(n)for(const s of n)s(t)}function eD(r,t){const n=nD();n&&n.postMessage({key:r,fid:t}),iD()}let Gs=null;function nD(){return!Gs&&"BroadcastChannel"in self&&(Gs=new BroadcastChannel("[Firebase] FID Change"),Gs.onmessage=r=>{Y0(r.data.key,r.data.fid)}),Gs}function iD(){K0.size===0&&Gs&&(Gs.close(),Gs=null)}const rD="firebase-installations-database",sD=1,Xs="firebase-installations-store";let mm=null;function _p(){return mm||(mm=e0(rD,sD,{upgrade:(r,t)=>{t===0&&r.createObjectStore(Xs)}})),mm}async function gh(r,t){const n=kh(r),o=(await _p()).transaction(Xs,"readwrite"),u=o.objectStore(Xs),f=await u.get(n);return await u.put(t,n),await o.done,(!f||f.fid!==t.fid)&&Q0(r,t.fid),t}async function $0(r){const t=kh(r),s=(await _p()).transaction(Xs,"readwrite");await s.objectStore(Xs).delete(t),await s.done}async function Uh(r,t){const n=kh(r),o=(await _p()).transaction(Xs,"readwrite"),u=o.objectStore(Xs),f=await u.get(n),m=t(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&Q0(r,m.fid),m}async function vp(r){let t;const n=await Uh(r.appConfig,s=>{const o=aD(s),u=oD(r,o);return t=u.registrationPromise,u.installationEntry});return n.fid===xm?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function aD(r){const t=r||{fid:W2(),registrationStatus:0};return X0(t)}function oD(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($s.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=lD(r,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uD(r)}:{installationEntry:t}}async function lD(r,t){try{const n=await X2(r,t);return gh(r.appConfig,n)}catch(n){throw z0(n)&&n.customData.serverCode===409?await $0(r.appConfig):await gh(r.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function uD(r){let t=await mE(r.appConfig);for(;t.registrationStatus===1;)await G0(100),t=await mE(r.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await vp(r);return s||n}return t}function mE(r){return Uh(r,t=>{if(!t)throw $s.create("installation-not-found");return X0(t)})}function X0(r){return cD(r)?{fid:r.fid,registrationStatus:0}:r}function cD(r){return r.registrationStatus===1&&r.registrationTime+P0<Date.now()}async function hD({appConfig:r,heartbeatServiceProvider:t},n){const s=fD(r,n),o=Q2(r,n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:k0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await F0(()=>fetch(s,m));if(g.ok){const y=await g.json();return j0(y)}else throw await q0("Generate Auth Token",g)}function fD(r,{fid:t}){return`${B0(r)}/${t}/authTokens:generate`}async function Ep(r,t=!1){let n;const s=await Uh(r.appConfig,u=>{if(!J0(u))throw $s.create("not-registered");const f=u.authToken;if(!t&&pD(f))return u;if(f.requestStatus===1)return n=dD(r,t),u;{if(!navigator.onLine)throw $s.create("app-offline");const m=yD(u);return n=mD(r,m),m}});return n?await n:s.authToken}async function dD(r,t){let n=await pE(r.appConfig);for(;n.authToken.requestStatus===1;)await G0(100),n=await pE(r.appConfig);const s=n.authToken;return s.requestStatus===0?Ep(r,t):s}function pE(r){return Uh(r,t=>{if(!J0(t))throw $s.create("not-registered");const n=t.authToken;return _D(n)?{...t,authToken:{requestStatus:0}}:t})}async function mD(r,t){try{const n=await hD(r,t),s={...t,authToken:n};return await gh(r.appConfig,s),n}catch(n){if(z0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $0(r.appConfig);else{const s={...t,authToken:{requestStatus:0}};await gh(r.appConfig,s)}throw n}}function J0(r){return r!==void 0&&r.registrationStatus===2}function pD(r){return r.requestStatus===2&&!gD(r)}function gD(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+H2}function yD(r){const t={requestStatus:1,requestTime:Date.now()};return{...r,authToken:t}}function _D(r){return r.requestStatus===1&&r.requestTime+P0<Date.now()}async function vD(r){const t=r,{installationEntry:n,registrationPromise:s}=await vp(t);return s?s.catch(console.error):Ep(t).catch(console.error),n.fid}async function ED(r,t=!1){const n=r;return await TD(n),(await Ep(n,t)).token}async function TD(r){const{registrationPromise:t}=await vp(r);t&&await t}function AD(r){if(!r||!r.options)throw pm("App Configuration");if(!r.name)throw pm("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!r.options[n])throw pm(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function pm(r){return $s.create("missing-app-config-values",{valueName:r})}const Z0="installations",SD="installations-internal",bD=r=>{const t=r.getProvider("app").getImmediate(),n=AD(t),s=ea(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},wD=r=>{const t=r.getProvider("app").getImmediate(),n=ea(t,Z0).getImmediate();return{getId:()=>vD(n),getToken:o=>ED(n,o)}};function RD(){Li(new ri(Z0,bD,"PUBLIC")),Li(new ri(SD,wD,"PRIVATE"))}RD();zn(L0,yp);zn(L0,yp,"esm2020");const yh="analytics",ID="firebase_id",CD="origin",DD=60*1e3,ND="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tp="https://www.googletagmanager.com/gtag/js";const rn=new Mh("@firebase/analytics");const OD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new ta("analytics","Analytics",OD);function xD(r){if(!r.startsWith(Tp)){const t=An.create("invalid-gtag-resource",{gtagURL:r});return rn.warn(t.message),""}return r}function W0(r){return Promise.all(r.map(t=>t.catch(n=>n)))}function MD(r,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,t)),n}function VD(r,t){const n=MD("firebase-js-sdk-policy",{createScriptURL:xD}),s=document.createElement("script"),o=`${Tp}?l=${r}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function LD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function PD(r,t,n,s,o,u){const f=s[o];try{if(f)await t[f];else{const g=(await W0(n)).find(y=>y.measurementId===o);g&&await t[g.appId]}}catch(m){rn.error(m)}r("config",o,u)}async function kD(r,t,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await W0(n);for(const g of f){const y=m.find(A=>A.measurementId===g),E=y&&t[y.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",s,o||{})}catch(u){rn.error(u)}}function UD(r,t,n,s){async function o(u,...f){try{if(u==="event"){const[m,g]=f;await kD(r,t,n,m,g)}else if(u==="config"){const[m,g]=f;await PD(r,t,n,s,m,g)}else if(u==="consent"){const[m,g]=f;r("consent",m,g)}else if(u==="get"){const[m,g,y]=f;r("get",m,g,y)}else if(u==="set"){const[m]=f;r("set",m)}else r(u,...f)}catch(m){rn.error(m)}}return o}function zD(r,t,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=UD(u,r,t,n),{gtagCore:u,wrappedGtag:window[o]}}function BD(r){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Tp)&&n.src.includes(r))return n;return null}const jD=30,qD=1e3;class HD{constructor(t={},n=qD){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const tA=new HD;function FD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function GD(r){const{appId:t,apiKey:n}=r,s={method:"GET",headers:FD(n)},o=ND.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function KD(r,t=tA,n){const{appId:s,apiKey:o,measurementId:u}=r.options;if(!s)throw An.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw An.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new $D;return setTimeout(async()=>{m.abort()},DD),eA({appId:s,apiKey:o,measurementId:u},f,m,t)}async function eA(r,{throttleEndTimeMillis:t,backoffCount:n},s,o=tA){const{appId:u,measurementId:f}=r;try{await QD(s,t)}catch(m){if(f)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await GD(r);return o.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!YD(g)){if(o.deleteThrottleMetadata(u),f)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw m}const y=Number(g?.customData?.httpStatus)===503?qv(n,o.intervalMillis,jD):qv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(u,E),rn.debug(`Calling attemptFetch again in ${y} millis`),eA(r,E,s,o)}}function QD(r,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(u),s(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function YD(r){if(!(r instanceof oi)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class $D{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function XD(r,t,n,s,o){if(o&&o.global){r("event",n,s);return}else{const u=await t,f={...s,send_to:u};r("event",n,f)}}async function JD(r,t,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return r("set",o),Promise.resolve()}else{const o=await t;r("config",o,{update:!0,user_properties:n})}}async function ZD(){if(JT())try{await ZT()}catch(r){return rn.warn(An.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return rn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WD(r,t,n,s,o,u,f){const m=KD(r);m.then(w=>{n[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>rn.error(w)),t.push(m);const g=ZD().then(w=>{if(w)return s.getId()}),[y,E]=await Promise.all([m,g]);BD(u)||VD(u,y.measurementId),o("js",new Date);const A=f?.config??{};return A[CD]="firebase",A.update=!0,E!=null&&(A[ID]=E),o("config",y.measurementId,A),y.measurementId}class tN{constructor(t){this.app=t}_delete(){return delete so[this.app.options.appId],Promise.resolve()}}let so={},gE=[];const yE={};let gm="dataLayer",eN="gtag",_E,Ap,vE=!1;function nN(){const r=[];if(XT()&&r.push("This is a browser extension environment."),TR()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=An.create("invalid-analytics-context",{errorInfo:t});rn.warn(n.message)}}function iN(r,t,n){nN();const s=r.options.appId;if(!s)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(so[s]!=null)throw An.create("already-exists",{id:s});if(!vE){LD(gm);const{wrappedGtag:u,gtagCore:f}=zD(so,gE,yE,gm,eN);Ap=u,_E=f,vE=!0}return so[s]=WD(r,gE,yE,t,_E,gm,n),new tN(r)}function rN(r=ap()){r=We(r);const t=ea(r,yh);return t.isInitialized()?t.getImmediate():sN(r)}function sN(r,t={}){const n=ea(r,yh);if(n.isInitialized()){const o=n.getImmediate();if(is(t,n.getOptions()))return o;throw An.create("already-initialized")}return n.initialize({options:t})}function aN(r,t,n){r=We(r),JD(Ap,so[r.app.options.appId],t,n).catch(s=>rn.error(s))}function oN(r,t,n,s){r=We(r),XD(Ap,so[r.app.options.appId],t,n,s).catch(o=>rn.error(o))}const EE="@firebase/analytics",TE="0.10.19";function lN(){Li(new ri(yh,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return iN(s,o,n)},"PUBLIC")),Li(new ri("analytics-internal",r,"PRIVATE")),zn(EE,TE),zn(EE,TE,"esm2020");function r(t){try{const n=t.getProvider(yh).getImmediate();return{logEvent:(s,o,u)=>oN(n,s,o,u),setUserProperties:(s,o)=>aN(n,s,o)}}catch(n){throw An.create("interop-component-reg-failed",{reason:n})}}}lN();var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ts,nA;(function(){var r;function t(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,O,L){for(var I=Array(arguments.length-2),re=2;re<arguments.length;re++)I[re-2]=arguments[re];return b.prototype[O].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],O=D.g[2];let L=D.g[3],I;I=b+(L^R&(O^L))+M[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+M[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+M[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+M[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+M[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+M[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+M[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+M[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+M[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+M[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+M[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+M[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+M[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+M[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+M[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+M[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(O^L&(R^O))+M[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+M[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+M[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+M[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+M[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+M[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+M[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+M[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+M[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+M[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+M[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+M[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+M[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+M[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+M[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+M[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(R^O^L)+M[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+M[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+M[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+M[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+M[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+M[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+M[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+M[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+M[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+M[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+M[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+M[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+M[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+M[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+M[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+M[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(O^(R|~L))+M[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+M[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+M[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+M[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+M[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+M[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+M[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+M[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+M[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+M[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+M[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+M[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+M[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+M[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+M[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=R;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(M[O++]=D.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=D[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function u(D,b){var R=m;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function f(D,b){this.h=b;const R=[];let M=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;M&&L==b||(R[O]=L,M=!1)}this.g=R}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return K(y(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return K(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let M=A;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const I=parseInt(D.substring(L,L+O),b);O<8?(O=y(Math.pow(b,O)),M=M.j(O).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var A=g(0),w=g(1),z=g(16777216);r=f.prototype,r.m=function(){if($(this))return-K(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if($(this))return"-"+K(this).toString(D);const b=y(Math.pow(D,6));var R=this;let M="";for(;;){const O=At(R,b).g;R=nt(R,O.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=O,W(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=nt(this,D),$(D)?-1:W(D)?0:1};function K(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new f(R,~D.h).add(w)}r.abs=function(){return $(this)?K(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let O=0;O<=b;O++){let L=M+(this.i(O)&65535)+(D.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function nt(D,b){return D.add(K(b))}r.j=function(D){if(W(this)||W(D))return A;if($(this))return $(D)?K(this).j(K(D)):K(K(this).j(D));if($(D))return K(this.j(K(D)));if(this.l(z)<0&&D.l(z)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const L=this.i(M)>>>16,I=this.i(M)&65535,re=D.i(O)>>>16,De=D.i(O)&65535;R[2*M+2*O]+=I*De,et(R,2*M+2*O),R[2*M+2*O+1]+=L*De,et(R,2*M+2*O+1),R[2*M+2*O+1]+=I*re,et(R,2*M+2*O+1),R[2*M+2*O+2]+=L*re,et(R,2*M+2*O+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new f(R,0)};function et(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function rt(D,b){this.g=D,this.h=b}function At(D,b){if(W(b))throw Error("division by zero");if(W(D))return new rt(A,A);if($(D))return b=At(K(D),b),new rt(K(b.g),K(b.h));if($(b))return b=At(D,K(b)),new rt(K(b.g),b.h);if(D.g.length>30){if($(D)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,M=b;M.l(D)<=0;)R=Ct(R),M=Ct(M);var O=It(R,1),L=It(M,1);for(M=It(M,2),R=It(R,2);!W(M);){var I=L.add(M);I.l(D)<=0&&(O=O.add(R),L=I),M=It(M,1),R=It(R,1)}return b=nt(D,O.j(b)),new rt(O,b)}for(O=A;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(R),I=L.j(b);$(I)||I.l(D)>0;)R-=M,L=y(R),I=L.j(b);W(L)&&(L=w),O=O.add(L),D=nt(D,I)}return new rt(O,D)}r.B=function(D){return At(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new f(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new f(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new f(R,this.h^D.h)};function Ct(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(R,D.h)}function It(D,b){const R=b>>5;b%=32;const M=D.g.length-R,O=[];for(let L=0;L<M;L++)O[L]=b>0?D.i(L+R)>>>b|D.i(L+R+1)<<32-b:D.i(L+R);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,nA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ts=f}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iA,Pl,rA,eh,Mm,sA,aA,oA;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in v))break t;v=v[P]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,P,j){for(var it=Array(arguments.length-2),St=2;St<arguments.length;St++)it[St-2]=arguments[St];return p.prototype[P].apply(S,it)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function W(c,p){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let it=0;it<j;it++)c[v+it]=P[it]}else c.push(P)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,v){const S=rt.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new $(()=>new At,c=>c.reset());class At{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,It=!1,D=new et,b=()=>{const c=Promise.resolve(void 0);Ct=()=>{c.then(R)}};function R(){for(var c;c=nt();){try{c.h.call(c.g)}catch(v){K(v)}var p=rt;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}It=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function re(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(re,O),re.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(c,p,v,S,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=P,this.key=++G,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function x(c){const p={};for(const v in c)p[v]=c[v];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,p){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)c[v]=S[v];for(let j=0;j<X.length;j++)v=X[j],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,p,v,S,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const it=wt(c,p,S,P);return it>-1?(p=c[it],v||(p.fa=!1)):(p=new st(p,this.src,j,!!S,P),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var S=c.g[v],P=Array.prototype.indexOf.call(S,p,void 0),j;(j=P>=0)&&Array.prototype.splice.call(S,P,1),j&&(mt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function wt(c,p,v,S){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==S)return P}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(c,p,v,S,P){if(Array.isArray(p)){for(let j=0;j<p.length;j++)se(c,p[j],v,S,P);return null}return v=No(v),c&&c[De]?c.J(p,v,m(S)?!!S.capture:!1,P):hs(c,p,v,!1,S,P)}function hs(c,p,v,S,P,j){if(!p)throw Error("Invalid event type");const it=m(P)?!!P.capture:!!P;let St=fs(c);if(St||(c[kt]=St=new ut(c)),v=St.add(p,v,S,it,j),v.proxy)return v;if(S=la(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(P=it),P===void 0&&(P=!1),c.addEventListener(p.toString(),S,P);else if(c.attachEvent)c.attachEvent(li(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return p.call(c.src,c.listener,v)}const p=Co;return c}function ua(c,p,v,S,P){if(Array.isArray(p))for(var j=0;j<p.length;j++)ua(c,p[j],v,S,P);else S=m(S)?!!S.capture:!!S,v=No(v),c&&c[De]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=wt(p,v,S,P),v>-1&&(mt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=fs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=wt(p,v,S,P)),(v=c>-1?p[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[De])_t(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(li(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=fs(p))?(_t(v,c),v.h==0&&(v.src=null,p[kt]=null)):mt(c)}}}function li(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function Co(c,p){if(c.da)c=!0;else{p=new re(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&ca(c),c=v.call(S,p)}return c}function fs(c){return c=c[kt],c instanceof ut?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(p){return c.handleEvent(p)}),c[Do])}function ye(){M.call(this),this.i=new ut(this),this.M=this,this.G=null}A(ye,M),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(c,p,v,S){ua(this,c,p,v,S)};function Oe(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var P=p;p=new O(S,c),at(p,P)}P=!0;let j,it;if(v)for(it=v.length-1;it>=0;it--)j=p.g=v[it],P=dr(j,S,!0,p)&&P;if(j=p.g=c,P=dr(j,S,!0,p)&&P,P=dr(j,S,!1,p)&&P,v)for(it=0;it<v.length;it++)j=p.g=v[it],P=dr(j,S,!1,p)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)mt(v[S]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},ye.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function dr(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let j=0;j<p.length;++j){const it=p[j];if(it&&!it.da&&it.capture==v){const St=it.listener,de=it.ha||it.src;it.fa&&_t(c.i,it),P=St.call(de,S)!==!1&&P}}return P&&!S.defaultPrevented}function Wh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function fu(c){c.g=Wh(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class tn extends M{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){M.call(this),this.h=c,this.g={}}A(ds,M);var Oo=[];function xo(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&ca(p)},c),c.g={}}ds.prototype.N=function(){ds.Z.N.call(this),xo(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=f.JSON.stringify,tf=f.JSON.parse,du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function pu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}A(ze,O);function bn(){O.call(this,"c")}A(bn,O);var fe={},gu=null;function ha(){return gu=gu||new ye}fe.Ia="serverreachability";function yu(c){O.call(this,fe.Ia,c)}A(yu,O);function ui(c){const p=ha();Oe(p,new yu(p))}fe.STAT_EVENT="statevent";function ms(c,p){O.call(this,fe.STAT_EVENT,c),this.stat=p}A(ms,O);function _e(c){const p=ha();Oe(p,new ms(p,c))}fe.Ja="timingevent";function ci(c,p){O.call(this,fe.Ja,c),this.size=p}A(ci,O);function hi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function ef(c,p,v,S,P,j){c.info(function(){if(c.g)if(j){var it="",St=j.split("&");for(let qt=0;qt<St.length;qt++){var de=St[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Cn=ae.split("_");it=Cn.length>=2&&Cn[1]=="type"?it+(ae+"="+de+"&"):it+(ae+"=redacted&")}}}else it=null;else it=j;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+p+`
`+v+`
`+it})}function _u(c,p,v,S,P,j,it){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+p+`
`+v+`
`+j+" "+it})}function fi(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+nf(c,v)+(S?" "+S:"")})}function ps(c,p){c.info(function(){return"TIMEOUT: "+p})}jn.prototype.info=function(){};function nf(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return mr(j)}catch{return p}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vo;function ys(){}A(ys,mu),ys.prototype.g=function(){return new XMLHttpRequest},Vo=new ys;function Ui(c){return encodeURIComponent(String(c))}function vu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function qn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function di(c,p,v){c.M=1,c.A=_s(Te(p)),c.u=v,c.R=!0,fa(c,null)}function fa(c,p){c.F=Date.now(),mi(c),c.B=Te(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ga(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Hn,c.g=Vu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Oo[0]=P.toString()),P=Oo);for(let j=0;j<P.length;j++){const it=se(v,P[j],S||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ui(),ef(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Kn(c)==3?p.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Kn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||de==7||(de==8||qt<=0?ui(3):ui(2)),pi(this);var p=this.g.ca();this.X=p;var v=rf(this);if(this.o=p==200,_u(this.i,this.v,this.B,this.l,this.S,St,p),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var j=S;break e}}j=null}if(c=j)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,_e(12),dn(this),wn(this);break t}}if(this.R){c=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=Tu(this,v),ae==Ve){St==4&&(this.m=4,_e(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ae,null),gi(this,ae);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(it),it.P=!0,_e(11))}}else fi(this.i,this.l,v,null),gi(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?Nu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),wn(this)}}}catch{}};function rf(c){if(!Eu(c))return c.g.la();const p=Be(c.g);if(p==="")return"";let v="";const S=p.length,P=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<S;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(P&&j==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Eu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Ve:(v=Number(p.substring(v,S)),isNaN(v)?ve:(S+=1,S+v>p.length?Ve:(p=p.slice(S,S+v),c.C=S+v,p)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function mi(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(y(c.aa,c),p)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ps(this.i,this.B),this.M!=2&&(ui(),_e(17)),dn(this),this.m=2,wn(this)):da(this,this.T-c)};function wn(c){c.j.I==0||c.K||Nu(c.j,c)}function dn(c){pi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,xo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function gi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Ar(v);else break t;ws(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(y(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Ta(v),!I(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let qt=P[p];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const wi=qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Qn=qt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(S=1.5*Qn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Yn=c.g;if(Yn){const Rs=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var j=S.h;j.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ko(j,j.h),j.h=null))}if(S.G){const Aa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(S.wa=Aa,Kt(S.J,S.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=c;if(S.na=Mu(S,S.L?S.ba:null,S.W),it.L){Uo(S.h,it);var St=it,de=S.O;de&&(St.H=de),St.D&&(pi(St),mi(St)),S.g=it}else Cu(S);v.i.length>0&&Si(v)}else qt[0]!="stop"&&qt[0]!="close"||bi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?bi(v,7):Qo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ui(4)}catch{}}var Ee=class{constructor(c,p){this.g=c,this.map=p}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ko(c,p){c.g?c.g.add(p):c.h=p}function Uo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return z(c.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let P,j=null;S>=0?(P=c[v].substring(0,S),j=c[v].substring(S+1)):P=c[v],p(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof mn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.u),this.h=c.h,Bo(this,Ru(c.i)),this.m=c.m):c&&(p=String(c).match(Au))?(this.l=!1,Le(this,p[1]||"",!0),this.o=vi(p[2]||""),this.g=vi(p[3]||"",!0),pr(this,p[4]),this.h=vi(p[5]||"",!0),Bo(this,p[6]||"",!0),this.m=vi(p[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}mn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(vs(p,pa,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vs(p,pa,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?jo:Su,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,bu)),c.join("")},mn.prototype.resolve=function(c){const p=Te(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)pr(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=p.h.lastIndexOf("/");P!=-1&&(S=p.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let it=0;it<P.length;){const St=P[it++];St=="."?S&&it==P.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),S&&it==P.length&&j.push("")):(j.push(St),S=!0)}S=j.join("/")}else S=P}return v?p.h=S:v=c.i.toString()!=="",v?Bo(p,Ru(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Te(c){return new mn(c)}function Le(c,p,v){c.j=v?vi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Bo(c,p,v){p instanceof yr?(c.i=p,ya(c.i,c.l)):(v||(p=vs(p,gr)),c.i=new yr(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function _s(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,Su=/[#\?:]/g,jo=/[#\?]/g,gr=/[#\?@]/g,bu=/#/g;function yr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=yr.prototype,r.add=function(c,p){an(this),this.i=null,c=_r(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){an(c),p=_r(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function qo(c,p){return an(c),p=_r(c,p),c.g.has(p)}r.forEach=function(c,p){an(this),this.g.forEach(function(v,S){v.forEach(function(P){c.call(p,P,S,this)},this)},this)};function Ho(c,p){an(c);let v=[];if(typeof p=="string")qo(c,p)&&(v=v.concat(c.g.get(_r(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return an(this),this.i=null,c=_r(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Ho(this,c),c.length>0?String(c[0]):p):p};function ga(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(_r(c,p),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const P=Ui(v);v=Ho(this,v);for(let j=0;j<v.length;j++){let it=P;v[j]!==""&&(it+="="+Ui(v[j])),c.push(it)}}return this.i=c.join("&")};function Ru(c){const p=new yr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function _r(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ya(c,p){p&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(wu(this,S),ga(this,P,v))},c)),c.j=p}function Fn(c,p){const v=new jn;if(f.Image){const S=new Image;S.onload=E(Rn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=E(Rn,v,"TestLoadImage: error",!1,p,S),S.onabort=E(Rn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Fo(c,p){const v=new jn,S=new AbortController,P=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(j=>{clearTimeout(P),j.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function vr(){this.g=new du}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ei,mu),Ei.prototype.g=function(){return new Es(this.i,this.h)};function Es(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Es,ye),r=Es.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Er(this):Gn(this),this.readyState==3&&_a(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let p="";return zt(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Ts(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&Ui(v):Kt(c,p,v))}function $t(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,ye);var Ti=/^https?$/i,Go=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){As(this,j);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())v.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Go,p,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,it]of v)this.g.setRequestHeader(j,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){As(this,j)}};function As(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Ko(c),zi(c)}function Ko(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ss(this):this.Xa())},r.Xa=function(){Ss(this)};function Ss(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=j===0){let it=String(c.D).match(Au)[1]||null;!it&&f.self&&f.self.location&&(it=f.self.location.protocol.slice(0,-1)),S=!Ti.test(it?it.toLowerCase():"")}v=S}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=Kn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Ko(c)}}finally{zi(c)}}}}function zi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),tf(p)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const p={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=vu(c[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[P]||[];p[P]=j,j.push(v)}Gt(p,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Tr(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Tr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,S){_e(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),Si(this)};function Qo(c){if(va(c),c.I==3){var p=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),bs(c,v),p=new qn(c,c.j,p),p.M=2,p.A=_s(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Vu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),mi(p)}xu(c)}function Ar(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function va(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Po(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ct||b(),It||(Ct(),It=!0),D.add(p,c),c.D=0}}function Ea(c,p){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(y(c.Ea,c,p),Ou(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=x(j),at(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Iu(this,P,p),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),bs(this,v),j&&(this.R?p="headers="+Ui(In(j))+"&"+p:this.u&&Ts(v,this.u,j)),ko(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),P.U=!0,di(P,v,null)):di(P,v,p),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Po(this.h)||Yo(this))};function Yo(c,p){var v;p?v=p.l:v=c.V++;const S=Te(c.J);Kt(S,"SID",c.M),Kt(S,"RID",v),Kt(S,"AID",c.K),bs(c,S),c.u&&c.o&&Ts(S,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),di(v,S,p)}function bs(c,p){c.H&&zt(c.H,function(v,S){Kt(p,S,v)}),c.l&&zt({},function(v,S){Kt(p,S,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=P[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let qt=!0;for(let ae=0;ae<v;ae++){var j=P[ae].g;const Cn=P[ae].map;if(j-=St,j<0)St=Math.max(0,P[ae].g-100),qt=!1;else try{j="req"+j+"_"||"";try{var it=Cn instanceof Map?Cn:Object.entries(Cn);for(const[wi,Qn]of it){let Yn=Qn;m(Qn)&&(Yn=mr(Qn)),de.push(j+wi+"="+encodeURIComponent(Yn))}}catch(wi){throw de.push(j+"type="+encodeURIComponent("_badmap")),wi}}catch{S&&S(Cn)}}if(qt){it=de.join("&");break t}}it=void 0}return c=c.i.splice(0,v),p.G=c,it}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ct||b(),It||(Ct(),It=!0),D.add(p,c),c.A=0}}function ws(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(y(c.Da,c),Ou(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Ar(this),Du(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Te(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),bs(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=_s(Te(p)),v.u=null,v.R=!0,fa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),ws(this),_e(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,p){var v=null;if(c.g==p){Ta(c),$o(c),c.g=null;var S=2}else if(_i(c.h,p))v=p.G,Uo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;S=ha(),Oe(S,new ci(S,v)),Si(c)}else Cu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(S==1&&Ea(c,p)||S==2&&ws(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ou(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function bi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const P=!S;S=new mn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(S,"https"),_s(S),P?Fn(S.toString(),v):Fo(S.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(p),xu(c),va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const p=zo(c.h);(p.length!=0||c.i.length!=0)&&(W(c.ja,p),W(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Mu(c,p,v){var S=v instanceof mn?Te(v):new mn(v);if(S.g!="")p&&(S.g=p+"."+S.g),pr(S,S.u);else{var P=f.location;S=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const j=new mn(null);S&&Le(j,S),p&&(j.g=p),P&&pr(j,P),v&&(j.h=v),S=j}return v=c.G,p=c.wa,v&&p&&Kt(S,v,p),Kt(S,"VER",c.ka),bs(c,S),S}function Vu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $t(new Ei({ab:v})):new $t(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,p){return new en(c,p)};function en(c,p){ye.call(this),this.g=new Tr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!I(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ji(this)}A(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Qo(this.g)},en.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=mr(c),c=v);p.i.push(new Ee(p.Ya++,c)),p.I==3&&Si(p)},en.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,en.Z.N.call(this)};function Pu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Pu,ze);function ku(){bn.call(this),this.status=1}A(ku,bn);function ji(c){this.g=c}A(ji,Lu),ji.prototype.ra=function(){Oe(this.g,"a")},ji.prototype.qa=function(c){Oe(this.g,new Pu(c))},ji.prototype.pa=function(c){Oe(this.g,new ku)},ji.prototype.oa=function(){Oe(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,oA=function(){return new Sr},aA=function(){return ha()},sA=fe,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,eh=gs,Mo.COMPLETE="complete",rA=Mo,pu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Pl=pu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,iA=$t}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let So="12.9.0";function uN(r){So=r}const Js=new Mh("@firebase/firestore");function Za(){return Js.logLevel}function lt(r,...t){if(Js.logLevel<=Mt.DEBUG){const n=t.map(Sp);Js.debug(`Firestore (${So}): ${r}`,...n)}}function hr(r,...t){if(Js.logLevel<=Mt.ERROR){const n=t.map(Sp);Js.error(`Firestore (${So}): ${r}`,...n)}}function Zs(r,...t){if(Js.logLevel<=Mt.WARN){const n=t.map(Sp);Js.warn(`Firestore (${So}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,lA(r,s,n)}function lA(r,t,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||lA(t,o,s)}function Tt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends oi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class uA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Xe.UNAUTHENTICATED)))}shutdown(){}}class hN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class fN{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new uA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class dN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new dN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new SE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new SE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gN(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class bp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=gN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(r,t){return r<t?-1:r>t?1:0}function Vm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return ym(o)===ym(u)?Vt(o,u):ym(o)?1:-1}return Vt(r.length,t.length)}const yN=55296,_N=57343;function ym(r){const t=r.charCodeAt(0);return t>=yN&&t<=_N}function ho(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const bE="__name__";class Ni{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ni.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ni?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Ni.isNumericId(t),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(t).compare(Ni.extractNumericId(n)):Vm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ts.fromString(t.substring(4,t.length-2))}}class te extends Ni{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new te(n)}static emptyPath(){return new te([])}}const vN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ni{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return vN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Ke([bE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(te.fromString(t))}static fromName(t){return new dt(te.fromString(t).popFirst(5))}static empty(){return new dt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new te(t.slice()))}}function cA(r,t,n){if(!n)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function EN(r,t,n,s){if(t===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wE(r){if(!dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function RE(r){if(dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function _h(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function ou(r,t){if(!hA(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(J.INVALID_ARGUMENT,n);return!0}const IE=-62135596800,CE=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*CE);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<IE)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CE}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-IE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yl=-1;function TN(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new rs(o,dt.empty(),t)}function AN(r){return new rs(r.readTime,r.key,Yl)}class rs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(vt.min(),dt.empty(),Yl)}static max(){return new rs(vt.max(),dt.empty(),Yl)}}function SN(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Vt(r.largestBatchId,t.largestBatchId))}const bN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==bN)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RN(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class Bh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Bh.ce=-1;const wp=-1;function jh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function IN(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fA="";function CN(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=DE(t)),t=DN(r.get(n),t);return DE(t)}function DN(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case fA:n+="";break;default:n+=u}}return n}function DE(r){return r+fA+""}function NE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function na(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function dA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fc(this.root,t,this.comparator,!0)}}class Fc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(t){return new OE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class OE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new ti([])}unionWith(t){let n=new Me(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ti(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class mA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mA("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=NN.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const pA="server_timestamp",gA="__type__",yA="__previous_value__",_A="__local_write_time__";function Rp(r){return(r?.mapValue?.fields||{})[gA]?.stringValue===pA}function qh(r){const t=r.mapValue.fields[yA];return Rp(t)?qh(t):t}function $l(r){const t=ss(r.mapValue.fields[_A].timestampValue);return new ie(t.seconds,t.nanos)}class ON{constructor(t,n,s,o,u,f,m,g,y,E,A){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=A}}const Eh="(default)";class Xl{constructor(t,n){this.projectId=t,this.database=n||Eh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(t){return t instanceof Xl&&t.projectId===this.projectId&&t.database===this.database}}function xN(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(r.options.projectId,t)}const vA="__type__",MN="__max__",Gc={mapValue:{}},EA="__vector__",Th="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rp(r)?4:LN(r)?9007199254740991:VN(r)?10:11:gt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=os(r);if(n!==os(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return $l(r).isEqual($l(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return ho(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(NE(f)!==NE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Jl(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function fo(r,t){if(r===t)return 0;const n=os(r),s=os(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return xE(r.timestampValue,t.timestampValue);case 4:return xE($l(r),$l(t));case 5:return Vm(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=as(u),g=as(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Vt(m[y],g[y]);if(E!==0)return E}return Vt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Vt(ge(u.latitude),ge(f.latitude));return m!==0?m:Vt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return ME(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Th]?.arrayValue,E=g[Th]?.arrayValue,A=Vt(y?.values?.length||0,E?.values?.length||0);return A!==0?A:ME(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Gc.mapValue&&f===Gc.mapValue)return 0;if(u===Gc.mapValue)return 1;if(f===Gc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const w=Vm(g[A],E[A]);if(w!==0)return w;const z=fo(m[g[A]],y[E[A]]);if(z!==0)return z}return Vt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function xE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const n=ss(r),s=ss(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function ME(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function mo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function nh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qh(r);return t?16+nh(t):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+nh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((u,f)=>{o+=u.length+nh(f)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function VE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function LE(r){return!!r&&"nullValue"in r}function PE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function VN(r){return(r?.mapValue?.fields||{})[vA]?.stringValue===EA}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return na(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=jl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jl(r.arrayValue.values[n]);return t}return{...r}}function LN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MN}class kn{constructor(t){this.value=t}static empty(){return new kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){na(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new kn(jl(this.value))}}function TA(r){const t=[];return na(r.fields,((n,s)=>{const o=new Ke([n]);if(ih(s)){const u=TA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new ti(t)}class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),kn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,vt.min(),vt.min(),kn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,vt.min(),vt.min(),kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(t,n){this.position=t,this.inclusive=n}}function kE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}class Zl{constructor(t,n="asc"){this.field=t,this.dir=n}}function PN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class AA{}class Ie extends AA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new UN(t,n,s):n==="array-contains"?new jN(t,s):n==="in"?new qN(t,s):n==="not-in"?new HN(t,s):n==="array-contains-any"?new FN(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new zN(t,s):new BN(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends AA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new si(t,n)}matches(t){return SA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SA(r){return r.op==="and"}function bA(r){return kN(r)&&SA(r)}function kN(r){for(const t of r.filters)if(t instanceof si)return!1;return!0}function km(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(bA(r))return r.filters.map((t=>km(t))).join(",");{const t=r.filters.map((n=>km(n))).join(",");return`${r.op}(${t})`}}function wA(r,t){return r instanceof Ie?(function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,t):r instanceof si?(function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&wA(f,o.filters[m])),!0):!1})(r,t):void gt(19439)}function RA(r){return r instanceof Ie?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof si?(function(n){return n.op.toString()+" {"+n.getFilters().map(RA).join(" ,")+"}"})(r):"Filter"}class UN extends Ie{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class zN extends Ie{constructor(t,n){super(t,"in",n),this.keys=IA("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class BN extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=IA("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function IA(r,t){return(t.arrayValue?.values||[]).map((n=>dt.fromName(n.referenceValue)))}class jN extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ip(n)&&Jl(n.arrayValue,this.value)}}class qN extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class HN extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jl(this.value.arrayValue,n)}}class FN extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Jl(this.value.arrayValue,s)))}}class GN{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function zE(r,t=null,n=[],s=[],o=null,u=null,f=null){return new GN(r,t,n,s,o,u,f)}function Cp(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>km(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),jh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>mo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>mo(s))).join(",")),t.Te=n}return t.Te}function Dp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!PN(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wA(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!UE(r.startAt,t.startAt)&&UE(r.endAt,t.endAt)}function Um(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KN(r,t,n,s,o,u,f,m){return new Ro(r,t,n,s,o,u,f,m)}function CA(r){return new Ro(r)}function BE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QN(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function DA(r){return r.collectionGroup!==null}function ql(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Me(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Zl(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new Zl(Ke.keyField(),s))}return t.Ie}function xi(r){const t=Tt(r);return t.Ee||(t.Ee=YN(t,ql(r))),t.Ee}function YN(r,t){if(r.limitType==="F")return zE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Zl(o.field,u)}));const n=r.endAt?new Ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ah(r.startAt.position,r.startAt.inclusive):null;return zE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function zm(r,t){const n=r.filters.concat([t]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $N(r,t){const n=r.explicitOrderBy.concat([t]);return new Ro(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,t,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Hh(r,t){return Dp(xi(r),xi(t))&&r.limitType===t.limitType}function NA(r){return`${Cp(xi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>RA(o))).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function Fh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=kE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,m,g){const y=kE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,ql(s),o))})(r,t)}function XN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OA(r){return(t,n)=>{let s=!1;for(const o of ql(r)){const u=JN(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JN(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?fo(g,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class ia{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}const ZN=new ue(dt.comparator);function fr(){return ZN}const xA=new ue(dt.comparator);function kl(...r){let t=xA;for(const n of r)t=t.insert(n.key,n);return t}function MA(r){let t=xA;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Ks(){return Hl()}function VA(){return Hl()}function Hl(){return new ia((r=>r.toString()),((r,t)=>r.isEqual(t)))}const WN=new ue(dt.comparator),tO=new Me(dt.comparator);function Lt(...r){let t=tO;for(const n of r)t=t.add(n);return t}const eO=new Me(Vt);function nO(){return eO}function Np(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(t)?"-0":t}}function LA(r){return{integerValue:""+r}}function iO(r,t){return IN(t)?LA(t):Np(r,t)}class Gh{constructor(){this._=void 0}}function rO(r,t,n){return r instanceof Sh?(function(o,u){const f={fields:{[gA]:{stringValue:pA},[_A]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Rp(u)&&(u=qh(u)),u&&(f.fields[yA]=u),{mapValue:f}})(n,t):r instanceof Wl?kA(r,t):r instanceof tu?UA(r,t):(function(o,u){const f=PA(o,u),m=jE(f)+jE(o.Ae);return Pm(f)&&Pm(o.Ae)?LA(m):Np(o.serializer,m)})(r,t)}function sO(r,t,n){return r instanceof Wl?kA(r,t):r instanceof tu?UA(r,t):n}function PA(r,t){return r instanceof bh?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Sh extends Gh{}class Wl extends Gh{constructor(t){super(),this.elements=t}}function kA(r,t){const n=zA(t);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class tu extends Gh{constructor(t){super(),this.elements=t}}function UA(r,t){let n=zA(t);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class bh extends Gh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function jE(r){return ge(r.integerValue||r.doubleValue)}function zA(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function aO(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof tu&&o instanceof tu?ho(s.elements,o.elements,ki):s instanceof bh&&o instanceof bh?ki(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,t.transform)}class oO{constructor(t,n){this.version=t,this.transformResults=n}}class or{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kh{}function BA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qA(r.key,or.none()):new lu(r.key,r.data,or.none());{const n=r.data,s=kn.empty();let o=new Me(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new ti(o.toArray()),or.none())}}function lO(r,t,n){r instanceof lu?(function(o,u,f){const m=o.value.clone(),g=HE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ra?(function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=HE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(jA(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Fl(r,t,n,s){return r instanceof lu?(function(u,f,m,g){if(!rh(u.precondition,f))return m;const y=u.value.clone(),E=FE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof ra?(function(u,f,m,g){if(!rh(u.precondition,f))return m;const y=FE(u.fieldTransforms,g,f),E=f.data;return E.setAll(jA(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function uO(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=PA(s.transform,o||null);u!=null&&(n===null&&(n=kn.empty()),n.set(s.field,u))}return n||null}function qE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>aO(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class lu extends Kh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Kh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jA(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function HE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,sO(f,m,n[o]))}return s}function FE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,rO(u,f,t))}return s}class qA extends Kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cO extends Kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hO{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&lO(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Fl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Fl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=VA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=BA(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,((n,s)=>qE(n,s)))&&ho(this.baseMutations,t.baseMutations,((n,s)=>qE(n,s)))}}class Op{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return WN})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(t,n,s,o)}}class fO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dO{constructor(t,n){this.count=t,this.unchangedNames=n}}var Re,Ut;function mO(r){switch(r){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function HA(r){if(r===void 0)return hr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function pO(){return new TextEncoder}const gO=new ts([4294967295,4294967295],0);function GE(r){const t=pO().encode(r),n=new nA;return n.update(t),new Uint8Array(n.digest())}function KE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ts([n,s],0),new ts([o,u],0)]}class xp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ts.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ts.fromNumber(s)));return o.compare(gO)===1&&(o=new ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=GE(t),[s,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=GE(t),[s,o]=KE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Qh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Qh(vt.min(),o,new ue(Vt),fr(),Lt())}}class uu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new uu(s,n,Lt(),Lt(),Lt())}}class sh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class FA{constructor(t,n){this.targetId=t,this.Ce=n}}class GA{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class QE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}})),new uu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=YE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yO{constructor(t){this.Ge=t,this.ze=new Map,this.je=fr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ue(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new dt(u.path);this.et(n,f,Je.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof mA)return Zs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new xp(f,o,u)}catch(g){return Zs(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const g=new dt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Qh(t,n,this.Ze,this.je,s);return this.je=fr(),this.He=Kc(),this.Je=Kc(),this.Ze=new ue(Vt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new QE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Me(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Me(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new QE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Kc(){return new ue(dt.comparator)}function YE(){return new ue(dt.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},vO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class TO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function jm(r,t){return r.useProto3Json||jh(t)?t:{value:t}}function wh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function AO(r,t){return wh(r,t.toTimestamp())}function Mi(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=ss(n);return new ie(s.seconds,s.nanos)})(r))}function Mp(r,t){return qm(r,t).canonicalString()}function qm(r,t){const n=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function QA(r){const t=te.fromString(r);return Ft(ZA(t),10190,{key:t.toString()}),t}function Hm(r,t){return Mp(r.databaseId,t.path)}function _m(r,t){const n=QA(t);if(n.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt($A(n))}function YA(r,t){return Mp(r.databaseId,t)}function SO(r){const t=QA(r);return t.length===4?te.emptyPath():$A(t)}function Fm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $A(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $E(r,t,n){return{name:Hm(r,t),fields:n.value.mapValue.fields}}function bO(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:HA(y.code);return new ot(E,y.message||"")})(f);n=new GA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):vt.min(),m=new kn({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Mi(s.readTime):vt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new dO(o,u),m=s.targetId;n=new FA(m,f)}}return n}function wO(r,t){let n;if(t instanceof lu)n={update:$E(r,t.key,t.value)};else if(t instanceof qA)n={delete:Hm(r,t.key)};else if(t instanceof ra)n={update:$E(r,t.key,t.data),updateMask:VO(t.fieldMask)};else{if(!(t instanceof cO))return gt(16599,{dt:t.type});n={verify:Hm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof tu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw gt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:AO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function RO(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(vt.min())&&(f=Mi(u)),new oO(f,o.transformResults||[])})(n,t)))):[]}function IO(r,t){return{documents:[YA(r,t.path)]}}function CO(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YA(r,o);const u=(function(y){if(y.length!==0)return JA(si.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:to(w.field),direction:OO(w.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function DO(r){let t=SO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const w=XA(A);return w instanceof si&&bA(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(W){return new Zl(eo(W.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,jh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(A){const w=!!A.before,z=A.values||[];return new Ah(z,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,z=A.values||[];return new Ah(z,w)})(n.endAt)),KN(t,o,f,u,m,"F",g,y)}function NO(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function XA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ie.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return si.create(n.compositeFilter.filters.map((s=>XA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function OO(r){return _O[r]}function xO(r){return vO[r]}function MO(r){return EO[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return Ke.fromServerFormat(r.fieldPath)}function JA(r){return r instanceof Ie?(function(n){if(n.op==="=="){if(PE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:xO(n.op),value:n.value}}})(r):r instanceof si?(function(n){const s=n.getFilters().map((o=>JA(o)));return s.length===1?s[0]:{compositeFilter:{op:MO(n.op),filters:s}}})(r):gt(54877,{filter:r})}function VO(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ZA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function WA(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Jr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),m=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class LO{constructor(t){this.yt=t}}function PO(r){const t=DO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(t,t.limit,"L"):t}class kO{constructor(){this.Sn=new UO}addToCollectionParentIndex(t,n){return this.Sn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(rs.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class UO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Me(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Me(te.comparator)).toArray()}}const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(tS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class po{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new po(0)}static ar(){return new po(-1)}}const JE="LruGarbageCollector",zO=1048576;function ZE([r,t],[n,s]){const o=Vt(r,n);return o===0?Vt(t,s):o}class BO{constructor(t){this.Pr=t,this.buffer=new Me(ZE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ZE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(JE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?lt(JE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Ar(3e5)}))}}class qO{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Bh.ce);const s=new BO(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(XE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(y=Date.now(),Za()<=Mt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function HO(r,t){return new qO(r,t)}class FO{constructor(){this.changes=new ia((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class GO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class KO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Fl(s.mutation,o,ti.empty(),ie.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Ks();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=kl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Ks();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=fr();const f=Hl(),m=(function(){return Hl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Fl(E.mutation,y,E.mutation.getFieldMask(),ie.now())):f.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new GO(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Hl();let o=new ue(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||ti.empty();E=m.applyToLocalView(y,E),s.set(g,E);const A=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=VA();E.forEach((w=>{if(!u.has(w)){const z=BA(n.get(w),s.get(w));z!==null&&A.set(w,z),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return tt.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return QN(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):DA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(Ks());let m=Yl,g=u;return f.next((y=>tt.forEach(y,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:MA(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(g=>{const y=(function(A,w){return new Ro(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=kl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Fl(E.mutation,y,ti.empty(),ie.now()),Fh(n,y)&&(m=m.insert(g,y))})),m}))}}class QO{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return tt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:PO(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),tt.resolve()}}class YO{constructor(){this.overlays=new ue(dt.comparator),this.Lr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ks();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=Ks(),u=n.length+1,f=new dt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ks(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ks(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return tt.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fO(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class $O{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class Vp{constructor(){this.kr=new Me(ke.Kr),this.qr=new Me(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new dt(new te([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new dt(new te([])),s=new ke(n,t),o=new ke(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return dt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}class XO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(ke.Kr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?wp:this.Yn-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Me(Vt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),tt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new dt(u),0);let m=new Me(Vt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),tt.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return tt.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new ke(n,0),o=this.Jr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JO{constructor(t){this.ti=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=fr();const f=n.path,m=new dt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||SN(AN(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ni(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new ZO(this)}getSize(t){return tt.resolve(this.size)}}class ZO extends FO{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class WO{constructor(t){this.persistence=t,this.ri=new ia((n=>Cp(n)),Dp),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Vp,this.targetCount=0,this.oi=po._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),tt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new po(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.lr(n),tt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.si.containsKey(n))}}class eS{constructor(t,n){this._i={},this.overlays={},this.ai=new Bh(0),this.ui=!1,this.ui=!0,this.ci=new $O,this.referenceDelegate=t(this),this.li=new WO(this),this.indexManager=new kO,this.remoteDocumentCache=(function(o){return new JO(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new LO(n),this.Pi=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new YO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new XO(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new tx(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return tt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class tx extends wN{constructor(t){super(),this.currentSequenceNumber=t}}class Lp{constructor(t){this.persistence=t,this.Ri=new Vp,this.Ai=null}static Vi(t){return new Lp(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(s=>{const o=dt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Rh{constructor(t,n){this.persistence=t,this.fi=new ia((s=>CN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=HO(this,n)}static Vi(t,n){return new Rh(t,n)}Ti(){}Ii(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return tt.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),tt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=nh(t.data.value)),n}wr(t,n,s){return tt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(t,n.fromCache,s,o)}}class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ER()?8:RN(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new ex;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(Za()<=Mt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(Za()<=Mt.DEBUG&&lt("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Za()<=Mt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):tt.resolve())}gs(t,n){if(BE(n))return tt.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(t,Bm(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,o){return BE(n)||o.isEqual(vt.min())?tt.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?tt.resolve(null):(Za()<=Mt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.Ds(t,f,n,TN(o,Yl)).next((m=>m)))}))}bs(t,n){let s=new Me(OA(t));return n.forEach(((o,u)=>{Fh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return Za()<=Mt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.fs.getDocumentsMatchingQuery(t,n,rs.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const kp="LocalStore",ix=3e8;class rx{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(Vt),this.Fs=new ia((u=>Cp(u)),Dp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function sx(r,t,n,s){return new rx(r,t,n,s)}async function nS(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ax(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const A=y.batch,w=A.keys();let z=tt.resolve();return w.forEach((W=>{z=z.next((()=>E.getEntry(g,W))).next(($=>{const K=y.docVersions.get(W);Ft(K!==null,48541),$.version.compareTo(K)<0&&(A.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function iS(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function ox(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,A))));let z=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?z=z.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),o=o.insert(A,z),(function($,K,nt){return $.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=ix?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(w,z,E)&&m.push(n.li.updateTargetData(u,z))}));let g=fr(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(lx(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((A=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function lx(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):lt(kp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function ux(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function cx(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Gm(r,t,n){const s=Tt(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;lt(kp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function WE(r,t,n){const s=Tt(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const A=Tt(g),w=A.Fs.get(E);return w!==void 0?tt.resolve(A.vs.get(w)):A.li.getTargetData(y,E)})(s,f,xi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((m=>(hx(s,XN(t),m),{documents:m,ks:u})))))}function hx(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class tT{constructor(){this.activeTargetIds=nO()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class fx{constructor(){this.vo=new tT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new tT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class dx{Mo(t){}shutdown(){}}const eT="ConnectivityMonitor";class nT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(eT,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(eT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Km(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const vm="RestConnection",mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class px{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Km(),m=this.Qo(t,n.toUriEncodedString());lt(vm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=Eo(y);return this.zo(t,m,g,s,E).then((A=>(lt(vm,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw Zs(vm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=mx[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class gx{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const $e="WebChannelConnection",Ll=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ao extends px{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ao.c_){const t=aA();Ll(t,sA.STAT_EVENT,(n=>{n.stat===Mm.PROXY?lt($e,"STAT_EVENT: detected buffering proxy"):n.stat===Mm.NOPROXY&&lt($e,"STAT_EVENT: detected no buffering proxy")})),ao.c_=!0}}zo(t,n,s,o,u){const f=Km();return new Promise(((m,g)=>{const y=new iA;y.setWithCredentials(!0),y.listenOnce(rA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const A=y.getResponseJson();lt($e,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case eh.TIMEOUT:lt($e,`RPC '${t}' ${f} timed out`),g(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const w=y.getStatus();if(lt($e,`RPC '${t}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const W=z?.error;if(W&&W.status&&W.message){const $=(function(nt){const et=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN})(W.status);g(new ot($,W.message))}else g(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ot(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt($e,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);lt($e,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Km(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");lt($e,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let A=!1,w=!1;const z=new gx({Ho:W=>{w?lt($e,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(A||(lt($e,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),lt($e,`RPC '${t}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return Ll(E,Pl.EventType.OPEN,(()=>{w||(lt($e,`RPC '${t}' stream ${o} transport opened.`),z.i_())})),Ll(E,Pl.EventType.CLOSE,(()=>{w||(w=!0,lt($e,`RPC '${t}' stream ${o} transport closed`),z.o_(),this.E_(E))})),Ll(E,Pl.EventType.ERROR,(W=>{w||(w=!0,Zs($e,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),z.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),Ll(E,Pl.EventType.MESSAGE,(W=>{if(!w){const $=W.data[0];Ft(!!$,16349);const K=$,nt=K?.error||K[0]?.error;if(nt){lt($e,`RPC '${t}' stream ${o} received error:`,nt);const et=nt.status;let rt=(function(It){const D=Re[It];if(D!==void 0)return HA(D)})(et),At=nt.message;et==="NOT_FOUND"&&At.includes("database")&&At.includes("does not exist")&&At.includes(this.databaseId.database)&&Zs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),rt===void 0&&(rt=J.INTERNAL,At="Unknown error status: "+et+" with message "+nt.message),w=!0,z.o_(new ot(rt,At)),E.close()}else lt($e,`RPC '${t}' stream ${o} received:`,$),z.__($)}})),ao.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oA()}}function yx(r){return new ao(r)}function Em(){return typeof document<"u"?document:null}function Yh(r){return new TO(r,!0)}ao.c_=!1;class rS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iT="PersistentStream";class sS{constructor(t,n,s,o,u,f,m,g){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(iT,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(lt(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _x extends sS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=bO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Mi(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Um(g)?{documents:IO(u,g)}:{query:CO(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KA(u,f.resumeToken);const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=NO(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Fm(this.serializer),n.removeTarget=t,this.K_(n)}}class vx extends sS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=RO(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Fm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>wO(this.serializer,s)))};this.K_(n)}}class Ex{}class Tx extends Ex{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(J.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Ax(r,t,n,s){return new Tx(r,t,n,s)}class Sx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ws="RemoteStore";class bx{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(lt(Ws,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await cu(y),y.Va.set("Unknown"),y.Ea.delete(4),await $h(y)})(this))}))})),this.Va=new Sx(s,o)}}async function $h(r){if(sa(r))for(const t of r.Ra)await t(!0)}async function cu(r){for(const t of r.Ra)await t(!1)}function aS(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),jp(n)?Bp(n):Io(n).O_()&&zp(n,t))}function Up(r,t){const n=Tt(r),s=Io(n);n.Ia.delete(t),s.O_()&&oS(n,t),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Va.set("Unknown"))}function zp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Io(r).Z_(t)}function oS(r,t){r.da.$e(t),Io(r).X_(t)}function Bp(r){r.da=new yO({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Va.ua()}function jp(r){return sa(r)&&!Io(r).x_()&&r.Ia.size>0}function sa(r){return Tt(r).Ea.size===0}function lS(r){r.da=void 0}async function wx(r){r.Va.set("Online")}async function Rx(r){r.Ia.forEach(((t,n)=>{zp(r,t)}))}async function Ix(r,t){lS(r),jp(r)?(r.Va.ha(t),Bp(r)):r.Va.set("Unknown")}async function Cx(r,t,n){if(r.Va.set("Online"),t instanceof GA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,t)}catch(s){lt(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Ih(r,s)}else if(t instanceof sh?r.da.Xe(t):t instanceof FA?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await iS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),oS(u,g);const A=new Jr(E.target,g,y,E.sequenceNumber);zp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){lt(Ws,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,t,n){if(!wo(t))throw t;r.Ea.add(1),await cu(r),r.Va.set("Offline"),n||(n=()=>iS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function uS(r,t){return t().catch((n=>Ih(r,n,t)))}async function Xh(r){const t=Tt(r),n=ls(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:wp;for(;Dx(t);)try{const o=await ux(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,Nx(t,o)}catch(o){await Ih(t,o)}cS(t)&&hS(t)}function Dx(r){return sa(r)&&r.Ta.length<10}function Nx(r,t){r.Ta.push(t);const n=ls(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function cS(r){return sa(r)&&!ls(r).x_()&&r.Ta.length>0}function hS(r){ls(r).start()}async function Ox(r){ls(r).ra()}async function xx(r){const t=ls(r);for(const n of r.Ta)t.ea(n.mutations)}async function Mx(r,t,n){const s=r.Ta.shift(),o=Op.from(s,t,n);await uS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Xh(r)}async function Vx(r,t){t&&ls(r).Y_&&await(async function(s,o){if((function(f){return mO(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await uS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(s)}})(r,t),cS(r)&&hS(r)}async function rT(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),lt(Ws,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await cu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $h(n)}async function Lx(r,t){const n=Tt(r);t?(n.Ea.delete(2),await $h(n)):t||(n.Ea.add(2),await cu(n),n.Va.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=Tt(n);return u.sa(),new _x(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:wx.bind(null,r),Yo:Rx.bind(null,r),t_:Ix.bind(null,r),J_:Cx.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),jp(r)?Bp(r):r.Va.set("Unknown")):(await r.ma.stop(),lS(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=Tt(n);return u.sa(),new vx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ox.bind(null,r),t_:Vx.bind(null,r),ta:xx.bind(null,r),na:Mx.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Xh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new qp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,t){if(hr("AsyncQueue",`${t}: ${r}`),wo(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class sT{constructor(){this.ga=new ue(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class go{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new go(t,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class Px{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kx{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=aT(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function aT(){return new ia((r=>NA(r)),Hh)}async function Ux(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new Px,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Hp(f,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Fp(n)}async function zx(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Bx(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&Fp(n)}function jx(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function Fp(r){r.Ca.forEach((t=>{t.next()}))}var Qm,oT;(oT=Qm||(Qm={})).Ma="default",oT.Cache="cache";class qx{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new go(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=go.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qm.Cache}}class fS{constructor(t){this.key=t}}class dS{constructor(t){this.key=t}}class Hx{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=OA(t),this.tu=new oo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new sT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const w=o.get(E),z=Fh(this.query,A)?A:null,W=!!w&&this.mutatedKeys.has(w.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let K=!1;w&&z?w.data.isEqual(z.data)?W!==$&&(s.track({type:3,doc:z}),K=!0):this.su(w,z)||(s.track({type:2,doc:z}),K=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(m=!0)):!w&&z?(s.track({type:0,doc:z}),K=!0):w&&!z&&(s.track({type:1,doc:w}),K=!0,(g||y)&&(m=!0)),K&&(z?(f=f.add(z),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(z,W){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:K})}};return $(z)-$(W)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new go(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new dS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new fS(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gp="SyncEngine";class Fx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Gx{constructor(t){this.key=t,this.hu=!1}}class Kx{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>NA(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(dt.comparator),this.Au=new Map,this.Vu=new Vp,this.du={},this.mu=new Map,this.fu=po.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qx(r,t,n=!0){const s=vS(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await mS(s,t,n,!0),o}async function Yx(r,t){const n=vS(r);await mS(n,t,!0,!1)}async function mS(r,t,n,s){const o=await cx(r.localStore,xi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $x(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&aS(r.remoteStore,o),m}async function $x(r,t,n,s,o){r.pu=(A,w,z)=>(async function($,K,nt,et){let rt=K.view.ru(nt);rt.Ss&&(rt=await WE($.localStore,K.query,!1).then((({documents:D})=>K.view.ru(D,rt))));const At=et&&et.targetChanges.get(K.targetId),Ct=et&&et.targetMismatches.get(K.targetId)!=null,It=K.view.applyChanges(rt,$.isPrimaryClient,At,Ct);return uT($,K.targetId,It.au),It.snapshot})(r,A,w,z);const u=await WE(r.localStore,t,!0),f=new Hx(t,u.ks),m=f.ru(u.documents),g=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);uT(r,n,y.au);const E=new Fx(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function Xx(r,t,n){const s=Tt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Up(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(bo)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function Jx(r,t){const n=Tt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Up(n.remoteStore,s.targetId))}async function Zx(r,t,n){const s=sM(r);try{const o=await(function(f,m){const g=Tt(f),y=ie.now(),E=m.reduce(((z,W)=>z.add(W.key)),Lt());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let W=fr(),$=Lt();return g.xs.getEntries(z,E).next((K=>{W=K,W.forEach(((nt,et)=>{et.isValidDocument()||($=$.add(nt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,W))).next((K=>{A=K;const nt=[];for(const et of m){const rt=uO(et,A.get(et.key).overlayedDocument);rt!=null&&nt.push(new ra(et.key,rt,TA(rt.value.mapValue),or.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,nt,m)})).next((K=>{w=K;const nt=K.applyToLocalDocumentSet(A,$);return g.documentOverlayCache.saveOverlays(z,K.batchId,nt)}))})).then((()=>({batchId:w.batchId,changes:MA(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await hu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function pS(r,t){const n=Tt(r);try{const s=await ox(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await hu(n,s,t)}catch(s){await bo(s)}}function lT(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Tt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,A)=>{for(const w of A.ba)w.va(m)&&(y=!0)})),y&&Fp(g)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Wx(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(dt.comparator);f=f.insert(u,Je.newNoDocument(u,vt.min()));const m=Lt().add(u),g=new Qh(vt.min(),new Map,new ue(Vt),f,m);await pS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),Kp(s)}else await Gm(s.localStore,t,!1).then((()=>Ym(s,t,n))).catch(bo)}async function tM(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await ax(n.localStore,t);yS(n,s,null),gS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,o)}catch(o){await bo(o)}}async function eM(r,t,n){const s=Tt(r);try{const o=await(function(f,m){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ft(A!==null,37113),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);yS(s,t,n),gS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await hu(s,o)}catch(o){await bo(o)}}function gS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function yS(r,t,n){const s=Tt(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||_S(r,s)}))}function _S(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(Up(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Kp(r))}function uT(r,t,n){for(const s of n)s instanceof fS?(r.Vu.addReference(s.key,t),nM(r,s)):s instanceof dS?(lt(Gp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||_S(r,s.key)):gt(19791,{wu:s})}function nM(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(lt(Gp,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(te.fromString(t)),s=r.fu.next();r.Au.set(s,new Gx(n)),r.Ru=r.Ru.insert(n,s),aS(r.remoteStore,new Jr(xi(CA(n.path)),s,"TargetPurposeLimboResolution",Bh.ce))}}async function hu(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Pp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>tt.forEach(y,(w=>tt.forEach(w.Ts,(z=>E.persistence.referenceDelegate.addReference(A,w.targetId,z))).next((()=>tt.forEach(w.Is,(z=>E.persistence.referenceDelegate.removeReference(A,w.targetId,z)))))))))}catch(A){if(!wo(A))throw A;lt(kp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const z=E.vs.get(w),W=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(w,$)}}})(s.localStore,u))}async function iM(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){lt(Gp,"User change. New user:",t.toKey());const s=await nS(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ot(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ns)}}function rM(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function vS(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=pS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wx.bind(null,t),t.Pu.J_=Bx.bind(null,t.eventManager),t.Pu.yu=jx.bind(null,t.eventManager),t}function sM(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eM.bind(null,t),t}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return sx(this.persistence,new nx,t.initialUser,this.serializer)}Cu(t){return new eS(Lp.Vi,this.serializer)}Du(t){return new fx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class aM extends Ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new eS((s=>Rh.Vi(s,n)),this.serializer)}}class $m{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iM.bind(null,this.syncEngine),await Lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kx})()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=yx(t.databaseInfo);return Ax(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new bx(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>lT(this.syncEngine,n,0)),(function(){return nT.v()?new nT:new dx})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const A=new Kx(o,u,f,m,g,y);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);lt(Ws,"RemoteStore shutting down."),s.Ea.add(5),await cu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};class oM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const us="FirestoreClient";class lM{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Tm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(us,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await nS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function cT(r,t){r.asyncQueue.verifyOperationInProgress();const n=await uM(r);lt(us,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>rT(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>rT(t.remoteStore,o))),r._onlineComponents=t}async function uM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(us,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Zs("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Ch)}}else lt(us,"Using default OfflineComponentProvider"),await Tm(r,new aM(void 0));return r._offlineComponents}async function ES(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(us,"Using user provided OnlineComponentProvider"),await cT(r,r._uninitializedComponentsProvider._online)):(lt(us,"Using default OnlineComponentProvider"),await cT(r,new $m))),r._onlineComponents}function cM(r){return ES(r).then((t=>t.syncEngine))}async function hM(r){const t=await ES(r),n=t.eventManager;return n.onListen=Qx.bind(null,t.syncEngine),n.onUnlisten=Xx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Yx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Jx.bind(null,t.syncEngine),n}function fM(r,t,n={}){const s=new es;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new oM({next:w=>{E.Nu(),f.enqueueAndForget((()=>zx(u,A))),w.fromCache&&g.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new qx(m,E,{includeMetadataChanges:!0,Ka:!0});return Ux(u,A)})(await hM(r),r.asyncQueue,t,n,s))),s.promise}function dM(r,t){const n=new es;return r.asyncQueue.enqueueAndForget((async()=>Zx(await cM(r),t,n))),n.promise}function TS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const mM="ComponentProvider",hT=new Map;function pM(r,t,n,s,o){return new ON(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,TS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const AS="firestore.googleapis.com",fT=!0;class dT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AS,this.ssl=fT}else this.host=t.host,this.ssl=t.ssl??fT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zO)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new cN;switch(s.type){case"firstParty":return new mN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=hT.get(n);s&&(lt(mM,"Removing Datastore"),hT.delete(n),s.terminate())})(this),Promise.resolve()}}function gM(r,t,n,s={}){r=_h(r,Jh);const o=Eo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(YT(`https://${m}`),$T("Firestore",!0)),u.host!==AS&&u.host!==m&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!is(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Xe.MOCK_USER;else{y=fR(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(A)}r._authCredentials=new hN(new uA(y,E))}}class aa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class Ue{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ue(this.firestore,t,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ou(n,Ue._jsonSchema))return new Ue(t,s||null,new dt(te.fromString(n.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:Ce("string",Ue._jsonSchemaVersion),referencePath:Ce("string")};class ns extends aa{constructor(t,n,s){super(t,n,CA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ue(this.firestore,null,new dt(t))}withConverter(t){return new ns(this.firestore,t,this._path)}}function mT(r,t,...n){if(r=We(r),cA("collection","path",t),r instanceof Jh){const s=te.fromString(t,...n);return RE(s),new ns(r,null,s)}{if(!(r instanceof Ue||r instanceof ns))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return RE(s),new ns(r.firestore,null,s)}}function yM(r,t,...n){if(r=We(r),arguments.length===1&&(t=bp.newId()),cA("doc","path",t),r instanceof Jh){const s=te.fromString(t,...n);return wE(s),new Ue(r,null,new dt(s))}{if(!(r instanceof Ue||r instanceof ns))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return wE(s),new Ue(r.firestore,r instanceof ns?r.converter:null,new dt(s))}}const pT="AsyncQueue";class gT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rS(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&lt(pT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;lt(pT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",yT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=qp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:yT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function yT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Qp extends Jh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new gT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gT(t),this._firestoreClient=void 0,await t}}}function _M(r,t){const n=typeof r=="object"?r:ap(),s=typeof r=="string"?r:Eh,o=ea(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=cR("firestore");u&&gM(o,...u)}return o}function SS(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vM(r),r._firestoreClient}function vM(r){const t=r._freezeSettings(),n=pM(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(n){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class bS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wS{constructor(t){this._methodName=t}}class Vi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(ou(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ce("string",Vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ni(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Ce("string",ni._jsonSchemaVersion),vectorValues:Ce("object")};const EM=/^__.*__$/;class TM{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new lu(t,this.data,n,this.fieldTransforms)}}function RS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class Yp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Yp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Dh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(RS(this.dataSource)&&EM.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class AM{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}createContext(t,n,s,o=!1){return new Yp({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IS(r){const t=r._freezeSettings(),n=Yh(r._databaseId);return new AM(r._databaseId,!!t.ignoreUndefinedProperties,n)}function SM(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);NS("Data must be an object, but it was:",f,s);const m=CS(s,f);let g,y;if(u.merge)g=new ti(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=Zh(t,A,n);if(!f.contains(w))throw new ot(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);IM(E,w)||E.push(w)}g=new ti(E),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new TM(new kn(m),g,y)}function bM(r,t,n,s=!1){return $p(n,r.createContext(s?4:3,t))}function $p(r,t){if(DS(r=We(r)))return NS("Unsupported field value:",t,r),CS(r,t);if(r instanceof wS)return(function(s,o){if(!RS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=$p(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=We(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:KA(o.serializer,s._byteString)};if(s instanceof Ue){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ni)return(function(f,m){const g=f instanceof ni?f.toArray():f;return{mapValue:{fields:{[vA]:{stringValue:EA},[Th]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Np(m.serializer,E)}))}}}}}})(s,o);if(WA(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${zh(s)}`)})(r,t)}function CS(r,t){const n={};return dA(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(r,((s,o)=>{const u=$p(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function DS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Vi||r instanceof Un||r instanceof Ue||r instanceof wS||r instanceof ni||WA(r))}function NS(r,t,n){if(!DS(n)||!hA(n)){const s=zh(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Zh(r,t,n){if((t=We(t))instanceof bS)return t._internalPath;if(typeof t=="string")return RM(r,t);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const wM=new RegExp("[~\\*/\\[\\]]");function RM(r,t,n){if(t.search(wM)>=0)throw Dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bS(...t.split("."))._internalPath}catch{throw Dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ot(J.INVALID_ARGUMENT,m+r+g)}function IM(r,t){return r.some((n=>n.isEqual(t)))}class CM{convertValue(t,n="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return na(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Th].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new ni(n)}convertGeoPoint(t){return new Vi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(t));default:return null}}convertTimestamp(t){const n=ss(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ft(ZA(s),9688,{name:t});const o=new Xl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class DM extends CM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}const _T="@firebase/firestore",vT="4.11.0";class OS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NM extends OS{data(){return super.data()}}function OM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class xS extends Xp{}function xM(r,t,...n){let s=[];t instanceof Xp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Zp)).length,m=u.filter((g=>g instanceof Jp)).length;if(f>1||f>0&&m>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jp extends xS{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Jp(t,n,s)}_apply(t){const n=this._parse(t);return MS(t._query,n),new aa(t.firestore,t.converter,zm(t._query,n))}_parse(t){const n=IS(t.firestore);return(function(u,f,m,g,y,E,A){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TT(A,E);const W=[];for(const $ of A)W.push(ET(g,u,$));w={arrayValue:{values:W}}}else w=ET(g,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TT(A,E),w=bM(m,f,A,E==="in"||E==="not-in");return Ie.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Zp extends Xp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Zp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)MS(f,g),f=zm(f,g)})(t._query,n),new aa(t.firestore,t.converter,zm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends xS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Wp(t,n)}_apply(t){const n=(function(o,u,f){if(o.startAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zl(u,f)})(t._query,this._field,this._direction);return new aa(t.firestore,t.converter,$N(t._query,n))}}function MM(r,t="asc"){const n=t,s=Zh("orderBy",r);return Wp._create(s,n)}function ET(r,t,n){if(typeof(n=We(n))=="string"){if(n==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DA(t)&&n.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!dt.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return VE(r,new dt(s))}if(n instanceof Ue)return VE(r,n._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function TT(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MS(r,t){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function VM(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Yc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lo extends OS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=lo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:Ce("string",lo._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ah extends lo{data(t={}){return super.data(t)}}class uo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new Yc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:LM(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=uo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Ce("string",uo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function PM(r){r=_h(r,aa);const t=_h(r.firestore,Qp),n=SS(t),s=new DM(t);return OM(r._query),fM(n,r._query).then((o=>new uo(t,s,r,o)))}function kM(r,t){const n=_h(r.firestore,Qp),s=yM(r),o=VM(r.converter,t),u=IS(r.firestore);return UM(n,[SM(u,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,or.exists(!1))]).then((()=>s))}function UM(r,t){const n=SS(r);return dM(n,t)}(function(t,n=!0){uN(To),Li(new ri("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Qp(new fN(s.getProvider("auth-internal")),new pN(f,s.getProvider("app-check-internal")),xN(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),zn(_T,vT,t),zn(_T,vT,"esm2020")})();const zM={apiKey:"AIzaSyA1bfervGERxLbR7OZUAkqGNo4PA6C7gIk",authDomain:"atomo-quantico-2f81f.firebaseapp.com",projectId:"atomo-quantico-2f81f",storageBucket:"atomo-quantico-2f81f.firebasestorage.app",messagingSenderId:"434005661",appId:"1:434005661:web:25d362c018cec19ef49674",measurementId:"G-04H8W8HC2G"},tg=n0(zM);rN(tg);const AT=_M(tg),eg=U2(tg),VS=H.createContext({user:null,loading:!0}),BM=({children:r})=>{const[t,n]=H.useState(null),[s,o]=H.useState(!0);return H.useEffect(()=>{const u=IC(eg,f=>{n(f),o(!1)});return()=>u()},[]),Z.jsx(VS.Provider,{value:{user:t,loading:s},children:r})},ng=()=>H.useContext(VS);const LS=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const jM=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const qM=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const ST=r=>{const t=qM(r);return t.charAt(0).toUpperCase()+t.slice(1)};var HM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FM=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const GM=H.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>H.createElement("svg",{ref:g,...HM,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:LS("lucide",o),...!u&&!FM(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>H.createElement(y,E)),...Array.isArray(u)?u:[u]]));const oa=(r,t)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(GM,{ref:u,iconNode:t,className:LS(`lucide-${jM(ST(r))}`,`lucide-${r}`,s),...o}));return n.displayName=ST(r),n};const KM=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],QM=oa("feather",KM);const YM=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$M=oa("heart",YM);const XM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JM=oa("log-out",XM);const ZM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],WM=oa("mail",ZM);const t4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e4=oa("phone",t4);const n4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],i4=oa("square-pen",n4);const r4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],s4=oa("target",r4);function a4(){const{user:r}=ng(),t=()=>{eg.signOut()};return Z.jsx("header",{className:"bg-transparent py-4",children:Z.jsxs("nav",{className:"container mx-auto px-6 flex items-center justify-between",children:[Z.jsxs(Qr,{to:"/",className:"flex items-center space-x-3",children:[Z.jsx(jT,{}),Z.jsx("span",{className:"text-xl font-semibold text-text-primary",children:"tomo Quntico"})]}),Z.jsxs("ul",{className:"flex space-x-8 items-center text-text-secondary font-medium",children:[Z.jsx("li",{children:Z.jsx(Qr,{to:"/",className:"hover:text-text-primary transition-colors",children:"Home"})}),Z.jsx("li",{children:Z.jsx(Qr,{to:"/about",className:"hover:text-text-primary transition-colors",children:"Sobre"})}),Z.jsx("li",{children:Z.jsx(Qr,{to:"/gratitude-journal",className:"hover:text-text-primary transition-colors",children:"Dirio"})}),r?Z.jsxs("li",{className:"flex items-center",children:[Z.jsxs("span",{className:"mr-4 text-sm",children:["Ol, ",r.displayName]}),Z.jsx("button",{onClick:t,className:"flex items-center space-x-2 text-text-secondary hover:text-text-primary transition-colors",title:"Sair",children:Z.jsx(JM,{size:20})})]}):Z.jsx("li",{children:Z.jsx(Qr,{to:"/login",className:"bg-secondary text-text-primary font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity",children:"Login"})})]})]})})}function o4(){return Z.jsx("footer",{className:"bg-gray-800 text-white py-4 mt-auto",children:Z.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:Z.jsxs("p",{children:[" ",new Date().getFullYear()," Quantum. Todos os direitos reservados."]})})})}function l4(){return Z.jsxs("div",{className:"flex flex-col min-h-screen",children:[Z.jsx(a4,{}),Z.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:Z.jsx(Ew,{})}),Z.jsx(o4,{})]})}function u4(){return Z.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-20",children:[Z.jsx("div",{className:"bg-accent rounded-full p-4 mb-6",children:Z.jsx(QM,{size:40,className:"text-secondary"})}),Z.jsx("h1",{className:"text-5xl font-bold text-text-primary mb-4",children:"Seu Santurio Pessoal de Gratido"}),Z.jsx("p",{className:"text-lg text-text-secondary max-w-2xl mx-auto mb-8",children:"O tomo Quntico  um espao para cultivar a gratido, refletir sobre suas alegrias e encontrar a beleza nos pequenos momentos da vida."}),Z.jsx(Qr,{to:"/gratitude-journal",className:"bg-secondary text-text-primary font-semibold py-3 px-8 rounded-full hover:opacity-90 transition-all inline-flex items-center space-x-2 text-lg",children:Z.jsx("span",{children:"Comece a Escrever"})})]})}function c4(){return Z.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[Z.jsx("h1",{className:"text-4xl font-bold text-center text-text-primary mb-12",children:"Sobre o tomo Quntico"}),Z.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"flex items-start space-x-4",children:[Z.jsx("div",{className:"bg-accent rounded-full p-3",children:Z.jsx($M,{size:24,className:"text-secondary"})}),Z.jsxs("div",{children:[Z.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Nossa Filosofia"}),Z.jsx("p",{className:"text-text-secondary leading-relaxed mt-2",children:"Acreditamos que a gratido  uma semente. Quando a cultivamos, ela floresce em uma vida mais positiva e alegre. O tomo Quntico nasceu do desejo de criar um espao simples e belo para essa prtica transformadora."})]})]}),Z.jsxs("div",{className:"flex items-start space-x-4",children:[Z.jsx("div",{className:"bg-accent rounded-full p-3",children:Z.jsx(s4,{size:24,className:"text-secondary"})}),Z.jsxs("div",{children:[Z.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Nossa Misso"}),Z.jsx("p",{className:"text-text-secondary leading-relaxed mt-2",children:'Nossa misso  fornecer uma ferramenta intuitiva e acolhedora que inspire a reflexo e a apreciao pelas pequenas coisas. Queremos que cada "tomo" de gratido contribua para o seu bem-estar quntico.'})]})]})]}),Z.jsx("div",{className:"flex justify-center",children:Z.jsx("div",{className:"w-64 h-64 bg-accent rounded-full flex items-center justify-center",children:Z.jsx("p",{className:"text-text-secondary italic",children:'"A gratido d sentido ao nosso passado, traz paz para o hoje e cria uma viso para o amanh."'})})})]})]})}function h4(){return Z.jsxs("div",{children:[Z.jsx("h1",{className:"text-3xl font-bold text-quantum-blue mb-4",children:"Entre em Contato"}),Z.jsx("p",{className:"text-gray-700 mb-6",children:"Adoraramos ouvir de voc! Entre em contato conosco atravs dos canais abaixo."}),Z.jsxs("div",{className:"space-y-4",children:[Z.jsxs("div",{className:"flex items-center space-x-3",children:[Z.jsx(WM,{className:"text-quantum-violet"}),Z.jsx("a",{href:"mailto:contato@quantum.com",className:"text-gray-700 hover:text-quantum-blue",children:"contato@quantum.com"})]}),Z.jsxs("div",{className:"flex items-center space-x-3",children:[Z.jsx(e4,{className:"text-quantum-violet"}),Z.jsx("span",{className:"text-gray-700",children:"+55 (11) 99999-9999"})]})]})]})}const f4=()=>{const[r,t]=H.useState(""),[n,s]=H.useState([]),{user:o}=ng(),u=async()=>{if(!o)return;const m=xM(mT(AT,"gratitude-journal",o.uid,"entries"),MM("timestamp","desc")),y=(await PM(m)).docs.map(E=>({id:E.id,...E.data()}));s(y)};H.useEffect(()=>{o&&u()},[o]);const f=async m=>{if(m.preventDefault(),!(r.trim()===""||!o))try{await kM(mT(AT,"gratitude-journal",o.uid,"entries"),{text:r,timestamp:new Date}),t(""),u()}catch(g){console.error("Error adding document: ",g)}};return o?Z.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4",children:[Z.jsx("h1",{className:"text-4xl font-bold text-center text-text-primary mb-12",children:"Meu Dirio de Gratido"}),Z.jsx("div",{className:"bg-background rounded-2xl shadow-lg p-8 mb-12",children:Z.jsxs("form",{onSubmit:f,children:[Z.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-4",children:"Pelo que voc  grato hoje?"}),Z.jsx("textarea",{className:"w-full p-4 border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-secondary focus:outline-none transition-shadow",rows:5,placeholder:"Comece a escrever...",value:r,onChange:m=>t(m.target.value)}),Z.jsxs("button",{type:"submit",className:"bg-secondary text-text-primary font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity mt-4 inline-flex items-center space-x-2",children:[Z.jsx(i4,{size:20}),Z.jsx("span",{children:"Registrar Gratido"})]})]})}),Z.jsxs("div",{children:[Z.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-8",children:"Suas Memrias de Gratido"}),Z.jsx("div",{className:"space-y-6",children:n.length>0?n.map(m=>Z.jsxs("div",{className:"bg-background rounded-xl shadow-md p-6 border-l-4 border-accent",children:[Z.jsx("p",{className:"text-text-secondary leading-relaxed mb-3",children:m.text}),Z.jsx("p",{className:"text-sm text-gray-400 font-light",children:new Date(m.timestamp.seconds*1e3).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})})]},m.id)):Z.jsx("p",{className:"text-center text-text-secondary",children:"Voc ainda no tem nenhuma entrada. Comece a escrever acima!"})})]})]}):Z.jsx("div",{className:"text-center py-20",children:Z.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Por favor, faa login para ver seu dirio."})})};function d4(){const r=tp(),t=new ir,n=()=>{QC(eg,t).then(s=>{console.log("Usurio logado:",s.user.displayName),r("/gratitude-journal")}).catch(s=>{console.error("Erro no login com Google:",s)})};return Z.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] py-12",children:Z.jsxs("div",{className:"bg-background p-10 rounded-2xl shadow-lg text-center max-w-sm w-full",children:[Z.jsx("div",{className:"flex justify-center mb-6",children:Z.jsx(jT,{})}),Z.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"Bem-vindo de volta!"}),Z.jsx("p",{className:"text-text-secondary mb-8",children:"Faa login para continuar sua jornada de gratido."}),Z.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center bg-white border border-gray-200 rounded-lg shadow-sm px-6 py-3 text-text-primary font-medium hover:bg-gray-50 transition-colors",children:[Z.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"h-6 w-6 mr-4"}),"Entrar com Google"]})]})})}const m4=({children:r})=>{const{user:t,loading:n}=ng();return n?Z.jsx("div",{children:"Carregando..."}):t?Z.jsx(Z.Fragment,{children:r}):Z.jsx(vw,{to:"/login"})};function p4(){return Z.jsx(Kw,{children:Z.jsx(BM,{children:Z.jsxs(Aw,{children:[Z.jsxs(qs,{path:"/",element:Z.jsx(l4,{}),children:[Z.jsx(qs,{index:!0,element:Z.jsx(u4,{})}),Z.jsx(qs,{path:"about",element:Z.jsx(c4,{})}),Z.jsx(qs,{path:"contact",element:Z.jsx(h4,{})}),Z.jsx(qs,{path:"/gratitude-journal",element:Z.jsx(m4,{children:Z.jsx(f4,{})})})]}),Z.jsx(qs,{path:"/login",element:Z.jsx(d4,{})})]})})})}T1.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx(p4,{})}));

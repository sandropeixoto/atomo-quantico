(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function pw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Z2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var $p={exports:{}},Ou={};var $E;function tD(){if($E)return Ou;$E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Ou.Fragment=t,Ou.jsx=n,Ou.jsxs=n,Ou}var YE;function eD(){return YE||(YE=1,$p.exports=tD()),$p.exports}var w=eD(),Yp={exports:{}},Nt={};var QE;function nD(){if(QE)return Nt;QE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,U={};function z(M,W,lt){this.props=M,this.context=W,this.refs=U,this.updater=lt||D}z.prototype.isReactComponent={},z.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=z.prototype;function O(M,W,lt){this.props=M,this.context=W,this.refs=U,this.updater=lt||D}var q=O.prototype=new B;q.constructor=O,j(q,z.prototype),q.isPureReactComponent=!0;var X=Array.isArray;function ot(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(M,W,lt){var ct=lt.ref;return{$$typeof:e,type:M,key:W,ref:ct!==void 0?ct:null,props:lt}}function P(M,W){return I(M.type,W,M.props)}function L(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function H(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return W[lt]})}var N=/\/+/g;function It(M,W){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):W.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ot,ot):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function tt(M,W,lt,ct,yt){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case e:case t:xt=!0;break;case y:return xt=M._init,tt(xt(M._payload),W,lt,ct,yt)}}if(xt)return yt=yt(M),xt=ct===""?"."+It(M,0):ct,X(yt)?(lt="",xt!=null&&(lt=xt.replace(N,"$&/")+"/"),tt(yt,W,lt,"",function(Mt){return Mt})):yt!=null&&(L(yt)&&(yt=P(yt,lt+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(N,"$&/")+"/")+xt)),W.push(yt)),1;xt=0;var ae=ct===""?".":ct+":";if(X(M))for(var St=0;St<M.length;St++)ct=M[St],bt=ae+It(ct,St),xt+=tt(ct,W,lt,bt,yt);else if(St=R(M),typeof St=="function")for(M=St.call(M),St=0;!(ct=M.next()).done;)ct=ct.value,bt=ae+It(ct,St++),xt+=tt(ct,W,lt,bt,yt);else if(bt==="object"){if(typeof M.then=="function")return tt(Dt(M),W,lt,ct,yt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(M,W,lt){if(M==null)return M;var ct=[],yt=0;return tt(M,ct,"","",function(bt){return W.call(lt,bt,yt++)}),ct}function ft(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Ct=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Vt={map:et,forEach:function(M,W,lt){et(M,function(){W.apply(this,arguments)},lt)},count:function(M){var W=0;return et(M,function(){W++}),W},toArray:function(M){return et(M,function(W){return W})||[]},only:function(M){if(!L(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=_,Nt.Children=Vt,Nt.Component=z,Nt.Fragment=n,Nt.Profiler=a,Nt.PureComponent=O,Nt.StrictMode=s,Nt.Suspense=m,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,W,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ct=j({},M.props),yt=M.key;if(W!=null)for(bt in W.key!==void 0&&(yt=""+W.key),W)!A.call(W,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&W.ref===void 0||(ct[bt]=W[bt]);var bt=arguments.length-2;if(bt===1)ct.children=lt;else if(1<bt){for(var xt=Array(bt),ae=0;ae<bt;ae++)xt[ae]=arguments[ae+2];ct.children=xt}return I(M.type,yt,ct)},Nt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Nt.createElement=function(M,W,lt){var ct,yt={},bt=null;if(W!=null)for(ct in W.key!==void 0&&(bt=""+W.key),W)A.call(W,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(yt[ct]=W[ct]);var xt=arguments.length-2;if(xt===1)yt.children=lt;else if(1<xt){for(var ae=Array(xt),St=0;St<xt;St++)ae[St]=arguments[St+2];yt.children=ae}if(M&&M.defaultProps)for(ct in xt=M.defaultProps,xt)yt[ct]===void 0&&(yt[ct]=xt[ct]);return I(M,bt,yt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:d,render:M}},Nt.isValidElement=L,Nt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:ft}},Nt.memo=function(M,W){return{$$typeof:g,type:M,compare:W===void 0?null:W}},Nt.startTransition=function(M){var W=C.T,lt={};C.T=lt;try{var ct=M(),yt=C.S;yt!==null&&yt(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ot,Ct)}catch(bt){Ct(bt)}finally{W!==null&&lt.types!==null&&(W.types=lt.types),C.T=W}},Nt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Nt.use=function(M){return C.H.use(M)},Nt.useActionState=function(M,W,lt){return C.H.useActionState(M,W,lt)},Nt.useCallback=function(M,W){return C.H.useCallback(M,W)},Nt.useContext=function(M){return C.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,W){return C.H.useDeferredValue(M,W)},Nt.useEffect=function(M,W){return C.H.useEffect(M,W)},Nt.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Nt.useId=function(){return C.H.useId()},Nt.useImperativeHandle=function(M,W,lt){return C.H.useImperativeHandle(M,W,lt)},Nt.useInsertionEffect=function(M,W){return C.H.useInsertionEffect(M,W)},Nt.useLayoutEffect=function(M,W){return C.H.useLayoutEffect(M,W)},Nt.useMemo=function(M,W){return C.H.useMemo(M,W)},Nt.useOptimistic=function(M,W){return C.H.useOptimistic(M,W)},Nt.useReducer=function(M,W,lt){return C.H.useReducer(M,W,lt)},Nt.useRef=function(M){return C.H.useRef(M)},Nt.useState=function(M){return C.H.useState(M)},Nt.useSyncExternalStore=function(M,W,lt){return C.H.useSyncExternalStore(M,W,lt)},Nt.useTransition=function(){return C.H.useTransition()},Nt.version="19.2.4",Nt}var XE;function My(){return XE||(XE=1,Yp.exports=nD()),Yp.exports}var V=My();const cf=pw(V);var Qp={exports:{}},Pu={},Xp={exports:{}},Wp={};var WE;function iD(){return WE||(WE=1,(function(e){function t(tt,et){var ft=tt.length;tt.push(et);t:for(;0<ft;){var Ct=ft-1>>>1,Vt=tt[Ct];if(0<a(Vt,et))tt[Ct]=et,tt[ft]=Vt,ft=Ct;else break t}}function n(tt){return tt.length===0?null:tt[0]}function s(tt){if(tt.length===0)return null;var et=tt[0],ft=tt.pop();if(ft!==et){tt[0]=ft;t:for(var Ct=0,Vt=tt.length,M=Vt>>>1;Ct<M;){var W=2*(Ct+1)-1,lt=tt[W],ct=W+1,yt=tt[ct];if(0>a(lt,ft))ct<Vt&&0>a(yt,lt)?(tt[Ct]=yt,tt[ct]=ft,Ct=ct):(tt[Ct]=lt,tt[W]=ft,Ct=W);else if(ct<Vt&&0>a(yt,ft))tt[Ct]=yt,tt[ct]=ft,Ct=ct;else break t}}return et}function a(tt,et){var ft=tt.sortIndex-et.sortIndex;return ft!==0?ft:tt.id-et.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,_=null,T=3,R=!1,D=!1,j=!1,U=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function q(tt){for(var et=n(g);et!==null;){if(et.callback===null)s(g);else if(et.startTime<=tt)s(g),et.sortIndex=et.expirationTime,t(m,et);else break;et=n(g)}}function X(tt){if(j=!1,q(tt),!D)if(n(m)!==null)D=!0,ot||(ot=!0,H());else{var et=n(g);et!==null&&Dt(X,et.startTime-tt)}}var ot=!1,C=-1,A=5,I=-1;function P(){return U?!0:!(e.unstable_now()-I<A)}function L(){if(U=!1,ot){var tt=e.unstable_now();I=tt;var et=!0;try{t:{D=!1,j&&(j=!1,B(C),C=-1),R=!0;var ft=T;try{e:{for(q(tt),_=n(m);_!==null&&!(_.expirationTime>tt&&P());){var Ct=_.callback;if(typeof Ct=="function"){_.callback=null,T=_.priorityLevel;var Vt=Ct(_.expirationTime<=tt);if(tt=e.unstable_now(),typeof Vt=="function"){_.callback=Vt,q(tt),et=!0;break e}_===n(m)&&s(m),q(tt)}else s(m);_=n(m)}if(_!==null)et=!0;else{var M=n(g);M!==null&&Dt(X,M.startTime-tt),et=!1}}break t}finally{_=null,T=ft,R=!1}et=void 0}}finally{et?H():ot=!1}}}var H;if(typeof O=="function")H=function(){O(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,It=N.port2;N.port1.onmessage=L,H=function(){It.postMessage(null)}}else H=function(){z(L,0)};function Dt(tt,et){C=z(function(){tt(e.unstable_now())},et)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(tt){switch(T){case 1:case 2:case 3:var et=3;break;default:et=T}var ft=T;T=et;try{return tt()}finally{T=ft}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(tt,et){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=T;T=tt;try{return et()}finally{T=ft}},e.unstable_scheduleCallback=function(tt,et,ft){var Ct=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ct+ft:Ct):ft=Ct,tt){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=ft+Vt,tt={id:y++,callback:et,priorityLevel:tt,startTime:ft,expirationTime:Vt,sortIndex:-1},ft>Ct?(tt.sortIndex=ft,t(g,tt),n(m)===null&&tt===n(g)&&(j?(B(C),C=-1):j=!0,Dt(X,ft-Ct))):(tt.sortIndex=Vt,t(m,tt),D||R||(D=!0,ot||(ot=!0,H()))),tt},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(tt){var et=T;return function(){var ft=T;T=et;try{return tt.apply(this,arguments)}finally{T=ft}}}})(Wp)),Wp}var JE;function sD(){return JE||(JE=1,Xp.exports=iD()),Xp.exports}var Jp={exports:{}},hn={};var ZE;function rD(){if(ZE)return hn;ZE=1;var e=My();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},hn.flushSync=function(m){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=y,s.d.f()}},hn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},hn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},hn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},hn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},hn.requestFormReset=function(m){s.d.r(m)},hn.unstable_batchedUpdates=function(m,g){return m(g)},hn.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var tb;function aD(){if(tb)return Jp.exports;tb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Jp.exports=rD(),Jp.exports}var eb;function oD(){if(eb)return Pu;eb=1;var e=sD(),t=My(),n=aD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),i;if(p===u)return m(f),r;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=p;break}if(S===u){E=!0,u=f,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=f;break}if(S===u){E=!0,u=p,o=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),O=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function It(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case X:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case O:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case q:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return r=i.displayName||null,r!==null?r:It(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return It(i(r))}catch{}}return null}var Dt=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ct=[],Vt=-1;function M(i){return{current:i}}function W(i){0>Vt||(i.current=Ct[Vt],Ct[Vt]=null,Vt--)}function lt(i,r){Vt++,Ct[Vt]=i.current,i.current=r}var ct=M(null),yt=M(null),bt=M(null),xt=M(null);function ae(i,r){switch(lt(bt,r),lt(yt,i),lt(ct,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?gE(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=gE(r),i=yE(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(ct),lt(ct,i)}function St(){W(ct),W(yt),W(bt)}function Mt(i){i.memoizedState!==null&&lt(xt,i);var r=ct.current,o=yE(r,i.type);r!==o&&(lt(yt,i),lt(ct,o))}function Vn(i){yt.current===i&&(W(ct),W(yt)),xt.current===i&&(W(xt),Du._currentValue=ft)}var be,Ke;function gn(i){if(be===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);be=r&&r[1]||"",Ke=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+i+Ke}var Zs=!1;function Li(i,r){if(!i||Zs)return"";Zs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(Z){var Q=Z}Reflect.construct(i,[],rt)}else{try{rt.call()}catch(Z){Q=Z}i.call(rt.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(rt=i())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var k=E.split(`
`),Y=S.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===Y.length)for(u=k.length-1,f=Y.length-1;1<=u&&0<=f&&k[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==Y[f]){var nt=`
`+k[u].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=u&&0<=f);break}}}finally{Zs=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gn(o):""}function tr(i,r){switch(i.tag){case 26:case 27:case 5:return gn(i.type);case 16:return gn("Lazy");case 13:return i.child!==r&&r!==null?gn("Suspense Fallback"):gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Li(i.type,!1);case 11:return Li(i.type.render,!1);case 1:return Li(i.type,!0);case 31:return gn("Activity");default:return""}}function sa(i){try{var r="",o=null;do r+=tr(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ye=Object.prototype.hasOwnProperty,ve=e.unstable_scheduleCallback,Yn=e.unstable_cancelCallback,ra=e.unstable_shouldYield,Ui=e.unstable_requestPaint,yn=e.unstable_now,aa=e.unstable_getCurrentPriorityLevel,Vl=e.unstable_ImmediatePriority,Ol=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Xd=e.unstable_LowPriority,Pc=e.unstable_IdlePriority,kc=e.log,Lc=e.unstable_setDisableYieldValue,fi=null,Je=null;function Qn(i){if(typeof kc=="function"&&Lc(i),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(fi,i)}catch{}}var Se=Math.clz32?Math.clz32:jc,Uc=Math.log,io=Math.LN2;function jc(i){return i>>>=0,i===0?32:31-(Uc(i)/io|0)|0}var ji=256,oa=262144,Ie=4194304;function zi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Bi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,p=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=zi(u):(E&=S,E!==0?f=zi(E):o||(o=S&~i,o!==0&&(f=zi(o))))):(S=u&~p,S!==0?f=zi(S):E!==0?f=zi(E):o||(o=u&~i,o!==0&&(f=zi(o)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:f}function di(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Wd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var i=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),i}function Fi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function la(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jd(i,r,o,u,f,p){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,k=i.expirationTimes,Y=i.hiddenUpdates;for(o=E&~o;0<o;){var nt=31-Se(o),rt=1<<nt;S[nt]=0,k[nt]=-1;var Q=Y[nt];if(Q!==null)for(Y[nt]=null,nt=0;nt<Q.length;nt++){var Z=Q[nt];Z!==null&&(Z.lane&=-536870913)}o&=~rt}u!==0&&ua(i,u,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(E&~r))}function ua(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-Se(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Pl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-Se(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function kl(i,r){var o=r&-r;return o=(o&42)!==0?1:ca(o),(o&(i.suspendedLanes|r))!==0?0:o}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bc(){var i=et.p;return i!==0?i:(i=window.event,i===void 0?32:zE(i.type))}function mi(i,r){var o=et.p;try{return et.p=i,r()}finally{et.p=o}}var pi=Math.random().toString(36).slice(2),De="__reactFiber$"+pi,$e="__reactProps$"+pi,qi="__reactContainer$"+pi,so="__reactEvents$"+pi,Zd="__reactListeners$"+pi,Fc="__reactHandles$"+pi,qc="__reactResources$"+pi,Hi="__reactMarker$"+pi;function ro(i){delete i[De],delete i[$e],delete i[so],delete i[Zd],delete i[Fc]}function Gi(i){var r=i[De];if(r)return r;for(var o=i.parentNode;o;){if(r=o[qi]||o[De]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=wE(i);i!==null;){if(o=i[De])return o;i=wE(i)}return r}i=o,o=i.parentNode}return null}function Xn(i){if(i=i[De]||i[qi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function On(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ki(i){var r=i[qc];return r||(r=i[qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ne(i){i[Hi]=!0}var Ll=new Set,Ul={};function $i(i,r){Yi(i,r),Yi(i+"Capture",r)}function Yi(i,r){for(Ul[i]=r,i=0;i<r.length;i++)Ll.add(r[i])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Hc(i){return ye.call(Bl,i)?!0:ye.call(zl,i)?!1:jl.test(i)?Bl[i]=!0:(zl[i]=!0,!1)}function ao(i,r,o){if(Hc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Pn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Me(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function Ye(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function nr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){o=""+E,p.call(this,E)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Jt(i){if(!i._valueTracker){var r=nr(i)?"checked":"value";i._valueTracker=Fl(i,r,""+i[r])}}function ha(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=nr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Qi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fa=/[\n"\\]/g;function An(i){return i.replace(fa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function oo(i,r,o,u,f,p,E,S){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Ye(r)):i.value!==""+Ye(r)&&(i.value=""+Ye(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?ql(i,E,Ye(r)):o!=null?ql(i,E,Ye(o)):u!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Ye(S):i.removeAttribute("name")}function Gc(i,r,o,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Jt(i);return}o=o!=null?""+Ye(o):"",r=r!=null?""+Ye(r):o,S||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Jt(i)}function ql(i,r,o){r==="number"&&Qi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ir(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ye(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Kc(i,r,o){if(r!=null&&(r=""+Ye(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Ye(o):""}function sr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Dt(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Ye(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Jt(i)}function xn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||$c.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Gl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Hl(i,f,u)}else for(var p in r)r.hasOwnProperty(p)&&Hl(i,p,r[p])}function lo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(i){return rr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function gi(){}var Kl=null;function Wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ar=null,Xi=null;function da(i){var r=Xn(i);if(r&&(i=r.stateNode)){var o=i[$e]||null;t:switch(i=r.stateNode,r.type){case"input":if(oo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[$e]||null;if(!f)throw Error(s(90));oo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&ha(u)}break t;case"textarea":Kc(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&ir(i,!!o.multiple,r,!1)}}}var co=!1;function or(i,r,o){if(co)return i(r,o);co=!0;try{var u=i(r);return u}finally{if(co=!1,(ar!==null||Xi!==null)&&(Bh(),ar&&(r=ar,i=Xi,Xi=ar=null,da(r),i)))for(r=0;r<i.length;r++)da(i[r])}}function yi(i,r){var o=i.stateNode;if(o===null)return null;var u=o[$e]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Jn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ma=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ma=!1}var Wi=null,$l=null,pa=null;function Yl(){if(pa)return pa;var i,r=$l,o=r.length,u,f="value"in Wi?Wi.value:Wi.textContent,p=f.length;for(i=0;i<o&&r[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&r[o-u]===f[p-u];u++);return pa=f.slice(i,1<u?1-u:void 0)}function ga(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ts(){return!0}function vi(){return!1}function Ze(i){function r(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ts:vi,this.isPropagationStopped=vi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),r}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Ze(Es),lr=_({},Es,{view:0,detail:0}),Ql=Ze(lr),ur,ho,Zi,fo=_({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Zi&&(Zi&&i.type==="mousemove"?(ur=i.screenX-Zi.screenX,ho=i.screenY-Zi.screenY):ho=ur=0,Zi=i),ur)},movementY:function(i){return"movementY"in i?i.movementY:ho}}),Xl=Ze(fo),ya=_({},fo,{dataTransfer:0}),Qc=Ze(ya),Xc=_({},lr,{relatedTarget:0}),va=Ze(Xc),Wl=_({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Wc=Ze(Wl),mo=_({},Es,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Jc=Ze(mo),Zc=_({},Es,{data:0}),ts=Ze(Zc),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=nh[i])?!!r[i]:!1}function cr(){return ih}var vn=_({},lr,{key:function(i){if(i.key){var r=th[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),sh=Ze(vn),rh=_({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bs=Ze(rh),h=_({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),v=Ze(h),b=_({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ze(b),K=_({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Ze(K),ut=_({},Es,{newState:0,oldState:0}),Ot=Ze(ut),we=[9,13,27,32],Xt=Jn&&"CompositionEvent"in window,fe=null;Jn&&"documentMode"in document&&(fe=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!fe,es=Jn&&(!Xt||fe&&8<fe&&11>=fe),_i=" ",Ti=!1;function _a(i,r){switch(i){case"keyup":return we.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function SI(i,r){switch(i){case"compositionend":return po(r);case"keypress":return r.which!==32?null:(Ti=!0,_i);case"textInput":return i=r.data,i===_i&&Ti?null:i;default:return null}}function wI(i,r){if(go)return i==="compositionend"||!Xt&&_a(i,r)?(i=Yl(),pa=$l=Wi=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return es&&r.locale!=="ko"?null:r.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!AI[i.type]:r==="textarea"}function C_(i,r,o,u){ar?Xi?Xi.push(u):Xi=[u]:ar=u,r=Yh(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Jl=null,Zl=null;function xI(i){cE(i,0)}function ah(i){var r=On(i);if(ha(r))return i}function I_(i,r){if(i==="change")return r}var D_=!1;if(Jn){var tm;if(Jn){var em="oninput"in document;if(!em){var N_=document.createElement("div");N_.setAttribute("oninput","return;"),em=typeof N_.oninput=="function"}tm=em}else tm=!1;D_=tm&&(!document.documentMode||9<document.documentMode)}function M_(){Jl&&(Jl.detachEvent("onpropertychange",V_),Zl=Jl=null)}function V_(i){if(i.propertyName==="value"&&ah(Zl)){var r=[];C_(r,Zl,i,Wn(i)),or(xI,r)}}function RI(i,r,o){i==="focusin"?(M_(),Jl=r,Zl=o,Jl.attachEvent("onpropertychange",V_)):i==="focusout"&&M_()}function CI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ah(Zl)}function II(i,r){if(i==="click")return ah(r)}function DI(i,r){if(i==="input"||i==="change")return ah(r)}function NI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:NI;function tu(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ye.call(r,f)||!kn(i[f],r[f]))return!1}return!0}function O_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function P_(i,r){var o=O_(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=O_(o)}}function k_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?k_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function L_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Qi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Qi(i.document)}return r}function nm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var MI=Jn&&"documentMode"in document&&11>=document.documentMode,yo=null,im=null,eu=null,sm=!1;function U_(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sm||yo==null||yo!==Qi(u)||(u=yo,"selectionStart"in u&&nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),eu&&tu(eu,u)||(eu=u,u=Yh(im,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=yo)))}function Ta(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var vo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},rm={},j_={};Jn&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ea(i){if(rm[i])return rm[i];if(!vo[i])return i;var r=vo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in j_)return rm[i]=r[o];return i}var z_=Ea("animationend"),B_=Ea("animationiteration"),F_=Ea("animationstart"),VI=Ea("transitionrun"),OI=Ea("transitionstart"),PI=Ea("transitioncancel"),q_=Ea("transitionend"),H_=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function Ei(i,r){H_.set(i,r),$i(r,[i])}var oh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],_o=0,om=0;function lh(){for(var i=_o,r=om=_o=0;r<i;){var o=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var f=ti[r];ti[r++]=null;var p=ti[r];if(ti[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&G_(o,f,p)}}function uh(i,r,o,u){ti[_o++]=i,ti[_o++]=r,ti[_o++]=o,ti[_o++]=u,om|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function lm(i,r,o,u){return uh(i,r,o,u),ch(i)}function ba(i,r){return uh(i,null,null,r),ch(i)}function G_(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&r!==null&&(f=31-Se(o),i=p.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),p):null}function ch(i){if(50<Su)throw Su=0,yp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var To={};function kI(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,r,o,u){return new kI(i,r,o,u)}function um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ss(i,r){var o=i.alternate;return o===null?(o=Ln(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function K_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hh(i,r,o,u,f,p){var E=0;if(u=i,typeof i=="function")um(i)&&(E=1);else if(typeof i=="string")E=B2(i,o,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Ln(31,o,r,f),i.elementType=I,i.lanes=p,i;case j:return Sa(o.children,f,p,r);case U:E=8,f|=24;break;case z:return i=Ln(12,o,r,f|2),i.elementType=z,i.lanes=p,i;case X:return i=Ln(13,o,r,f),i.elementType=X,i.lanes=p,i;case ot:return i=Ln(19,o,r,f),i.elementType=ot,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:E=10;break t;case B:E=9;break t;case q:E=11;break t;case C:E=14;break t;case A:E=16,u=null;break t}E=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Ln(E,o,r,f),r.elementType=i,r.type=u,r.lanes=p,r}function Sa(i,r,o,u){return i=Ln(7,i,u,r),i.lanes=o,i}function cm(i,r,o){return i=Ln(6,i,null,r),i.lanes=o,i}function $_(i){var r=Ln(18,null,null,0);return r.stateNode=i,r}function hm(i,r,o){return r=Ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Y_=new WeakMap;function ei(i,r){if(typeof i=="object"&&i!==null){var o=Y_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:sa(r)},Y_.set(i,r),r)}return{value:i,source:r,stack:sa(r)}}var Eo=[],bo=0,fh=null,nu=0,ni=[],ii=0,hr=null,ns=1,is="";function ws(i,r){Eo[bo++]=nu,Eo[bo++]=fh,fh=i,nu=r}function Q_(i,r,o){ni[ii++]=ns,ni[ii++]=is,ni[ii++]=hr,hr=i;var u=ns;i=is;var f=32-Se(u)-1;u&=~(1<<f),o+=1;var p=32-Se(r)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,ns=1<<32-Se(r)+f|o<<f|u,is=p+i}else ns=1<<p|o<<f|u,is=i}function fm(i){i.return!==null&&(ws(i,1),Q_(i,1,0))}function dm(i){for(;i===fh;)fh=Eo[--bo],Eo[bo]=null,nu=Eo[--bo],Eo[bo]=null;for(;i===hr;)hr=ni[--ii],ni[ii]=null,is=ni[--ii],ni[ii]=null,ns=ni[--ii],ni[ii]=null}function X_(i,r){ni[ii++]=ns,ni[ii++]=is,ni[ii++]=hr,ns=r.id,is=r.overflow,hr=i}var tn=null,ue=null,Ht=!1,fr=null,si=!1,mm=Error(s(519));function dr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw iu(ei(r,i)),mm}function W_(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[De]=i,r[$e]=u,o){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(o=0;o<Au.length;o++)Ut(Au[o],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":Ut("invalid",r),Gc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ut("invalid",r);break;case"textarea":Ut("invalid",r),sr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||mE(r.textContent,o)?(u.popover!=null&&(Ut("beforetoggle",r),Ut("toggle",r)),u.onScroll!=null&&Ut("scroll",r),u.onScrollEnd!=null&&Ut("scrollend",r),u.onClick!=null&&(r.onclick=gi),r=!0):r=!1,r||dr(i,!0)}function J_(i){for(tn=i.return;tn;)switch(tn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:tn=tn.return}}function So(i){if(i!==tn)return!1;if(!Ht)return J_(i),Ht=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Mp(i.type,i.memoizedProps)),o=!o),o&&ue&&dr(i),J_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ue=SE(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ue=SE(i)}else r===27?(r=ue,Rr(i.type)?(i=Lp,Lp=null,ue=i):ue=r):ue=tn?ai(i.stateNode.nextSibling):null;return!0}function wa(){ue=tn=null,Ht=!1}function pm(){var i=fr;return i!==null&&(Dn===null?Dn=i:Dn.push.apply(Dn,i),fr=null),i}function iu(i){fr===null?fr=[i]:fr.push(i)}var gm=M(null),Aa=null,As=null;function mr(i,r,o){lt(gm,r._currentValue),r._currentValue=o}function xs(i){i._currentValue=gm.current,W(gm)}function ym(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function vm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=f;for(var k=0;k<r.length;k++)if(S.context===r[k]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),ym(p.return,o,i),u||(E=null);break t}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),ym(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function wo(i,r,o,u){i=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;kn(f.pendingProps.value,E.value)||(i!==null?i.push(S):i=[S])}}else if(f===xt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Du):i=[Du])}f=f.return}i!==null&&vm(r,i,o,u),r.flags|=262144}function dh(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xa(i){Aa=i,As=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return Z_(Aa,i)}function mh(i,r){return Aa===null&&xa(i),Z_(i,r)}function Z_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},As===null){if(i===null)throw Error(s(308));As=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else As=As.next=r;return o}var LI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},UI=e.unstable_scheduleCallback,jI=e.unstable_NormalPriority,Ve={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new LI,data:new Map,refCount:0}}function su(i){i.refCount--,i.refCount===0&&UI(jI,function(){i.controller.abort()})}var ru=null,Tm=0,Ao=0,xo=null;function zI(i,r){if(ru===null){var o=ru=[];Tm=0,Ao=Sp(),xo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Tm++,r.then(t0,t0),r}function t0(){if(--Tm===0&&ru!==null){xo!==null&&(xo.status="fulfilled");var i=ru;ru=null,Ao=0,xo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function BI(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var e0=tt.S;tt.S=function(i,r){UT=yn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&zI(i,r),e0!==null&&e0(i,r)};var Ra=M(null);function Em(){var i=Ra.current;return i!==null?i:oe.pooledCache}function ph(i,r){r===null?lt(Ra,Ra.current):lt(Ra,r.pool)}function n0(){var i=Em();return i===null?null:{parent:Ve._currentValue,pool:i}}var Ro=Error(s(460)),bm=Error(s(474)),gh=Error(s(542)),yh={then:function(){}};function i0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function s0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(gi,gi),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a0(i),i;default:if(typeof r.status=="string")r.then(gi,gi);else{if(i=oe,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,a0(i),i}throw Ia=r,Ro}}function Ca(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ia=o,Ro):o}}var Ia=null;function r0(){if(Ia===null)throw Error(s(459));var i=Ia;return Ia=null,i}function a0(i){if(i===Ro||i===gh)throw Error(s(483))}var Co=null,au=0;function vh(i){var r=au;return au+=1,Co===null&&(Co=[]),s0(Co,i,r)}function ou(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function _h(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function o0(i){function r(G,F){if(i){var $=G.deletions;$===null?(G.deletions=[F],G.flags|=16):$.push(F)}}function o(G,F){if(!i)return null;for(;F!==null;)r(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function f(G,F){return G=Ss(G,F),G.index=0,G.sibling=null,G}function p(G,F,$){return G.index=$,i?($=G.alternate,$!==null?($=$.index,$<F?(G.flags|=67108866,F):$):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function E(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function S(G,F,$,st){return F===null||F.tag!==6?(F=cm($,G.mode,st),F.return=G,F):(F=f(F,$),F.return=G,F)}function k(G,F,$,st){var _t=$.type;return _t===j?nt(G,F,$.props.children,st,$.key):F!==null&&(F.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Ca(_t)===F.type)?(F=f(F,$.props),ou(F,$),F.return=G,F):(F=hh($.type,$.key,$.props,null,G.mode,st),ou(F,$),F.return=G,F)}function Y(G,F,$,st){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=hm($,G.mode,st),F.return=G,F):(F=f(F,$.children||[]),F.return=G,F)}function nt(G,F,$,st,_t){return F===null||F.tag!==7?(F=Sa($,G.mode,st,_t),F.return=G,F):(F=f(F,$),F.return=G,F)}function rt(G,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=cm(""+F,G.mode,$),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return $=hh(F.type,F.key,F.props,null,G.mode,$),ou($,F),$.return=G,$;case D:return F=hm(F,G.mode,$),F.return=G,F;case A:return F=Ca(F),rt(G,F,$)}if(Dt(F)||H(F))return F=Sa(F,G.mode,$,null),F.return=G,F;if(typeof F.then=="function")return rt(G,vh(F),$);if(F.$$typeof===O)return rt(G,mh(G,F),$);_h(G,F)}return null}function Q(G,F,$,st){var _t=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return _t!==null?null:S(G,F,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===_t?k(G,F,$,st):null;case D:return $.key===_t?Y(G,F,$,st):null;case A:return $=Ca($),Q(G,F,$,st)}if(Dt($)||H($))return _t!==null?null:nt(G,F,$,st,null);if(typeof $.then=="function")return Q(G,F,vh($),st);if($.$$typeof===O)return Q(G,F,mh(G,$),st);_h(G,$)}return null}function Z(G,F,$,st,_t){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return G=G.get($)||null,S(F,G,""+st,_t);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case R:return G=G.get(st.key===null?$:st.key)||null,k(F,G,st,_t);case D:return G=G.get(st.key===null?$:st.key)||null,Y(F,G,st,_t);case A:return st=Ca(st),Z(G,F,$,st,_t)}if(Dt(st)||H(st))return G=G.get($)||null,nt(F,G,st,_t,null);if(typeof st.then=="function")return Z(G,F,$,vh(st),_t);if(st.$$typeof===O)return Z(G,F,$,mh(F,st),_t);_h(F,st)}return null}function mt(G,F,$,st){for(var _t=null,$t=null,gt=F,kt=F=0,zt=null;gt!==null&&kt<$.length;kt++){gt.index>kt?(zt=gt,gt=null):zt=gt.sibling;var Yt=Q(G,gt,$[kt],st);if(Yt===null){gt===null&&(gt=zt);break}i&&gt&&Yt.alternate===null&&r(G,gt),F=p(Yt,F,kt),$t===null?_t=Yt:$t.sibling=Yt,$t=Yt,gt=zt}if(kt===$.length)return o(G,gt),Ht&&ws(G,kt),_t;if(gt===null){for(;kt<$.length;kt++)gt=rt(G,$[kt],st),gt!==null&&(F=p(gt,F,kt),$t===null?_t=gt:$t.sibling=gt,$t=gt);return Ht&&ws(G,kt),_t}for(gt=u(gt);kt<$.length;kt++)zt=Z(gt,G,kt,$[kt],st),zt!==null&&(i&&zt.alternate!==null&&gt.delete(zt.key===null?kt:zt.key),F=p(zt,F,kt),$t===null?_t=zt:$t.sibling=zt,$t=zt);return i&&gt.forEach(function(Mr){return r(G,Mr)}),Ht&&ws(G,kt),_t}function Et(G,F,$,st){if($==null)throw Error(s(151));for(var _t=null,$t=null,gt=F,kt=F=0,zt=null,Yt=$.next();gt!==null&&!Yt.done;kt++,Yt=$.next()){gt.index>kt?(zt=gt,gt=null):zt=gt.sibling;var Mr=Q(G,gt,Yt.value,st);if(Mr===null){gt===null&&(gt=zt);break}i&&gt&&Mr.alternate===null&&r(G,gt),F=p(Mr,F,kt),$t===null?_t=Mr:$t.sibling=Mr,$t=Mr,gt=zt}if(Yt.done)return o(G,gt),Ht&&ws(G,kt),_t;if(gt===null){for(;!Yt.done;kt++,Yt=$.next())Yt=rt(G,Yt.value,st),Yt!==null&&(F=p(Yt,F,kt),$t===null?_t=Yt:$t.sibling=Yt,$t=Yt);return Ht&&ws(G,kt),_t}for(gt=u(gt);!Yt.done;kt++,Yt=$.next())Yt=Z(gt,G,kt,Yt.value,st),Yt!==null&&(i&&Yt.alternate!==null&&gt.delete(Yt.key===null?kt:Yt.key),F=p(Yt,F,kt),$t===null?_t=Yt:$t.sibling=Yt,$t=Yt);return i&&gt.forEach(function(J2){return r(G,J2)}),Ht&&ws(G,kt),_t}function re(G,F,$,st){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:t:{for(var _t=$.key;F!==null;){if(F.key===_t){if(_t=$.type,_t===j){if(F.tag===7){o(G,F.sibling),st=f(F,$.props.children),st.return=G,G=st;break t}}else if(F.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===A&&Ca(_t)===F.type){o(G,F.sibling),st=f(F,$.props),ou(st,$),st.return=G,G=st;break t}o(G,F);break}else r(G,F);F=F.sibling}$.type===j?(st=Sa($.props.children,G.mode,st,$.key),st.return=G,G=st):(st=hh($.type,$.key,$.props,null,G.mode,st),ou(st,$),st.return=G,G=st)}return E(G);case D:t:{for(_t=$.key;F!==null;){if(F.key===_t)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){o(G,F.sibling),st=f(F,$.children||[]),st.return=G,G=st;break t}else{o(G,F);break}else r(G,F);F=F.sibling}st=hm($,G.mode,st),st.return=G,G=st}return E(G);case A:return $=Ca($),re(G,F,$,st)}if(Dt($))return mt(G,F,$,st);if(H($)){if(_t=H($),typeof _t!="function")throw Error(s(150));return $=_t.call($),Et(G,F,$,st)}if(typeof $.then=="function")return re(G,F,vh($),st);if($.$$typeof===O)return re(G,F,mh(G,$),st);_h(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(o(G,F.sibling),st=f(F,$),st.return=G,G=st):(o(G,F),st=cm($,G.mode,st),st.return=G,G=st),E(G)):o(G,F)}return function(G,F,$,st){try{au=0;var _t=re(G,F,$,st);return Co=null,_t}catch(gt){if(gt===Ro||gt===gh)throw gt;var $t=Ln(29,gt,null,G.mode);return $t.lanes=st,$t.return=G,$t}}}var Da=o0(!0),l0=o0(!1),pr=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=ch(i),G_(i,null,o),r}return uh(i,u,r,o),ch(i)}function lu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}function Am(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var xm=!1;function uu(){if(xm){var i=xo;if(i!==null)throw i}}function cu(i,r,o,u){xm=!1;var f=i.updateQueue;pr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,Y=k.next;k.next=null,E===null?p=Y:E.next=Y,E=k;var nt=i.alternate;nt!==null&&(nt=nt.updateQueue,S=nt.lastBaseUpdate,S!==E&&(S===null?nt.firstBaseUpdate=Y:S.next=Y,nt.lastBaseUpdate=k))}if(p!==null){var rt=f.baseState;E=0,nt=Y=k=null,S=p;do{var Q=S.lane&-536870913,Z=Q!==S.lane;if(Z?(jt&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ao&&(xm=!0),nt!==null&&(nt=nt.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=i,Et=S;Q=r;var re=o;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){rt=mt.call(re,rt,Q);break t}rt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,Q=typeof mt=="function"?mt.call(re,rt,Q):mt,Q==null)break t;rt=_({},rt,Q);break t;case 2:pr=!0}}Q=S.callback,Q!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},nt===null?(Y=nt=Z,k=rt):nt=nt.next=Z,E|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);nt===null&&(k=rt),f.baseState=k,f.firstBaseUpdate=Y,f.lastBaseUpdate=nt,p===null&&(f.shared.lanes=0),br|=E,i.lanes=E,i.memoizedState=rt}}function u0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function c0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)u0(o[i],r)}var Io=M(null),Th=M(0);function h0(i,r){i=Ps,lt(Th,i),lt(Io,r),Ps=i|r.baseLanes}function Rm(){lt(Th,Ps),lt(Io,Io.current)}function Cm(){Ps=Th.current,W(Io),W(Th)}var Un=M(null),ri=null;function vr(i){var r=i.alternate;lt(Ae,Ae.current&1),lt(Un,i),ri===null&&(r===null||Io.current!==null||r.memoizedState!==null)&&(ri=i)}function Im(i){lt(Ae,Ae.current),lt(Un,i),ri===null&&(ri=i)}function f0(i){i.tag===22?(lt(Ae,Ae.current),lt(Un,i),ri===null&&(ri=i)):_r()}function _r(){lt(Ae,Ae.current),lt(Un,Un.current)}function jn(i){W(Un),ri===i&&(ri=null),W(Ae)}var Ae=M(0);function Eh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Pp(o)||kp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Rs=0,Pt=null,ie=null,Oe=null,bh=!1,Do=!1,Na=!1,Sh=0,hu=0,No=null,FI=0;function _e(){throw Error(s(321))}function Dm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function Nm(i,r,o,u,f,p){return Rs=p,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,tt.H=i===null||i.memoizedState===null?Q0:Km,Na=!1,p=o(u,f),Na=!1,Do&&(p=m0(r,o,u,f)),d0(i),p}function d0(i){tt.H=mu;var r=ie!==null&&ie.next!==null;if(Rs=0,Oe=ie=Pt=null,bh=!1,hu=0,No=null,r)throw Error(s(300));i===null||Pe||(i=i.dependencies,i!==null&&dh(i)&&(Pe=!0))}function m0(i,r,o,u){Pt=i;var f=0;do{if(Do&&(No=null),hu=0,Do=!1,25<=f)throw Error(s(301));if(f+=1,Oe=ie=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}tt.H=X0,p=r(o,u)}while(Do);return p}function qI(){var i=tt.H,r=i.useState()[0];return r=typeof r.then=="function"?fu(r):r,i=i.useState()[0],(ie!==null?ie.memoizedState:null)!==i&&(Pt.flags|=1024),r}function Mm(){var i=Sh!==0;return Sh=0,i}function Vm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Om(i){if(bh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}bh=!1}Rs=0,Oe=ie=Pt=null,Do=!1,hu=Sh=0,No=null}function _n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Pt.memoizedState=Oe=i:Oe=Oe.next=i,Oe}function xe(){if(ie===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=ie.next;var r=Oe===null?Pt.memoizedState:Oe.next;if(r!==null)Oe=r,ie=i;else{if(i===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));ie=i,i={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Oe===null?Pt.memoizedState=Oe=i:Oe=Oe.next=i}return Oe}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(i){var r=hu;return hu+=1,No===null&&(No=[]),i=s0(No,i,r),r=Pt,(Oe===null?r.memoizedState:Oe.next)===null&&(r=r.alternate,tt.H=r===null||r.memoizedState===null?Q0:Km),i}function Ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return fu(i);if(i.$$typeof===O)return en(i)}throw Error(s(438,String(i)))}function Pm(i){var r=null,o=Pt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=wh(),Pt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=P;return r.index++,o}function Cs(i,r){return typeof r=="function"?r(i):r}function xh(i){var r=xe();return km(r,ie,i)}function km(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}r.baseQueue=f=p,u.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{r=f.next;var S=E=null,k=null,Y=r,nt=!1;do{var rt=Y.lane&-536870913;if(rt!==Y.lane?(jt&rt)===rt:(Rs&rt)===rt){var Q=Y.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),rt===Ao&&(nt=!0);else if((Rs&Q)===Q){Y=Y.next,Q===Ao&&(nt=!0);continue}else rt={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=rt,E=p):k=k.next=rt,Pt.lanes|=Q,br|=Q;rt=Y.action,Na&&o(p,rt),p=Y.hasEagerState?Y.eagerState:o(p,rt)}else Q={lane:rt,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=Q,E=p):k=k.next=Q,Pt.lanes|=rt,br|=rt;Y=Y.next}while(Y!==null&&Y!==r);if(k===null?E=p:k.next=S,!kn(p,i.memoizedState)&&(Pe=!0,nt&&(o=xo,o!==null)))throw o;i.memoizedState=p,i.baseState=E,i.baseQueue=k,u.lastRenderedState=p}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lm(i){var r=xe(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=i(p,E.action),E=E.next;while(E!==f);kn(p,r.memoizedState)||(Pe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function p0(i,r,o){var u=Pt,f=xe(),p=Ht;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!kn((ie||f).memoizedState,o);if(E&&(f.memoizedState=o,Pe=!0),f=f.queue,zm(v0.bind(null,u,f,i),[i]),f.getSnapshot!==r||E||Oe!==null&&Oe.memoizedState.tag&1){if(u.flags|=2048,Mo(9,{destroy:void 0},y0.bind(null,u,f,o,r),null),oe===null)throw Error(s(349));p||(Rs&127)!==0||g0(u,r,o)}return o}function g0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Pt.updateQueue,r===null?(r=wh(),Pt.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function y0(i,r,o,u){r.value=o,r.getSnapshot=u,_0(r)&&T0(i)}function v0(i,r,o){return o(function(){_0(r)&&T0(i)})}function _0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function T0(i){var r=ba(i,2);r!==null&&Nn(r,i,2)}function Um(i){var r=_n();if(typeof i=="function"){var o=i;if(i=o(),Na){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:i},r}function E0(i,r,o,u){return i.baseState=o,km(i,ie,typeof u=="function"?u:Cs)}function HI(i,r,o,u,f){if(Ih(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};tt.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,b0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function b0(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var p=tt.T,E={};tt.T=E;try{var S=o(f,u),k=tt.S;k!==null&&k(E,S),S0(i,r,S)}catch(Y){jm(i,r,Y)}finally{p!==null&&E.types!==null&&(p.types=E.types),tt.T=p}}else try{p=o(f,u),S0(i,r,p)}catch(Y){jm(i,r,Y)}}function S0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){w0(i,r,u)},function(u){return jm(i,r,u)}):w0(i,r,o)}function w0(i,r,o){r.status="fulfilled",r.value=o,A0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,b0(i,o)))}function jm(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,A0(r),r=r.next;while(r!==u)}i.action=null}function A0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function x0(i,r){return r}function R0(i,r){if(Ht){var o=oe.formState;if(o!==null){t:{var u=Pt;if(Ht){if(ue){e:{for(var f=ue,p=si;f.nodeType!==8;){if(!p){f=null;break e}if(f=ai(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ue=ai(f.nextSibling),u=f.data==="F!";break t}}dr(u)}u=!1}u&&(r=o[0])}}return o=_n(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:r},o.queue=u,o=K0.bind(null,Pt,u),u.dispatch=o,u=Um(!1),p=Gm.bind(null,Pt,!1,u.queue),u=_n(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=HI.bind(null,Pt,f,p,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function C0(i){var r=xe();return I0(r,ie,i)}function I0(i,r,o){if(r=km(i,r,x0)[0],i=xh(Cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=fu(r)}catch(E){throw E===Ro?gh:E}else u=r;r=xe();var f=r.queue,p=f.dispatch;return o!==r.memoizedState&&(Pt.flags|=2048,Mo(9,{destroy:void 0},GI.bind(null,f,o),null)),[u,p,i]}function GI(i,r){i.action=r}function D0(i){var r=xe(),o=ie;if(o!==null)return I0(r,o,i);xe(),r=r.memoizedState,o=xe();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Mo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Pt.updateQueue,r===null&&(r=wh(),Pt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function N0(){return xe().memoizedState}function Rh(i,r,o,u){var f=_n();Pt.flags|=i,f.memoizedState=Mo(1|r,{destroy:void 0},o,u===void 0?null:u)}function Ch(i,r,o,u){var f=xe();u=u===void 0?null:u;var p=f.memoizedState.inst;ie!==null&&u!==null&&Dm(u,ie.memoizedState.deps)?f.memoizedState=Mo(r,p,o,u):(Pt.flags|=i,f.memoizedState=Mo(1|r,p,o,u))}function M0(i,r){Rh(8390656,8,i,r)}function zm(i,r){Ch(2048,8,i,r)}function KI(i){Pt.flags|=4;var r=Pt.updateQueue;if(r===null)r=wh(),Pt.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function V0(i){var r=xe().memoizedState;return KI({ref:r,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function O0(i,r){return Ch(4,2,i,r)}function P0(i,r){return Ch(4,4,i,r)}function k0(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function L0(i,r,o){o=o!=null?o.concat([i]):null,Ch(4,4,k0.bind(null,r,i),o)}function Bm(){}function U0(i,r){var o=xe();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Dm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function j0(i,r){var o=xe();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Dm(r,u[1]))return u[0];if(u=i(),Na){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u}function Fm(i,r,o){return o===void 0||(Rs&1073741824)!==0&&(jt&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=zT(),Pt.lanes|=i,br|=i,o)}function z0(i,r,o,u){return kn(o,r)?o:Io.current!==null?(i=Fm(i,o,u),kn(i,r)||(Pe=!0),i):(Rs&42)===0||(Rs&1073741824)!==0&&(jt&261930)===0?(Pe=!0,i.memoizedState=o):(i=zT(),Pt.lanes|=i,br|=i,r)}function B0(i,r,o,u,f){var p=et.p;et.p=p!==0&&8>p?p:8;var E=tt.T,S={};tt.T=S,Gm(i,!1,r,o);try{var k=f(),Y=tt.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var nt=BI(k,u);du(i,r,nt,Fn(i))}else du(i,r,u,Fn(i))}catch(rt){du(i,r,{then:function(){},status:"rejected",reason:rt},Fn())}finally{et.p=p,E!==null&&S.types!==null&&(E.types=S.types),tt.T=E}}function $I(){}function qm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=F0(i).queue;B0(i,f,r,ft,o===null?$I:function(){return q0(i),o(u)})}function F0(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:ft},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function q0(i){var r=F0(i);r.next===null&&(r=i.alternate.memoizedState),du(i,r.next.queue,{},Fn())}function Hm(){return en(Du)}function H0(){return xe().memoizedState}function G0(){return xe().memoizedState}function YI(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Fn();i=gr(o);var u=yr(r,i,o);u!==null&&(Nn(u,r,o),lu(u,r,o)),r={cache:_m()},i.payload=r;return}r=r.return}}function QI(i,r,o){var u=Fn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(i)?$0(r,o):(o=lm(i,r,o,u),o!==null&&(Nn(o,i,u),Y0(o,r,u)))}function K0(i,r,o){var u=Fn();du(i,r,o,u)}function du(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(i))$0(r,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,S=p(E,o);if(f.hasEagerState=!0,f.eagerState=S,kn(S,E))return uh(i,r,f,0),oe===null&&lh(),!1}catch{}if(o=lm(i,r,f,u),o!==null)return Nn(o,i,u),Y0(o,r,u),!0}return!1}function Gm(i,r,o,u){if(u={lane:2,revertLane:Sp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ih(i)){if(r)throw Error(s(479))}else r=lm(i,o,u,2),r!==null&&Nn(r,i,2)}function Ih(i){var r=i.alternate;return i===Pt||r!==null&&r===Pt}function $0(i,r){Do=bh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Y0(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Pl(i,o)}}var mu={readContext:en,use:Ah,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};mu.useEffectEvent=_e;var Q0={readContext:en,use:Ah,useCallback:function(i,r){return _n().memoizedState=[i,r===void 0?null:r],i},useContext:en,useEffect:M0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rh(4194308,4,k0.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rh(4194308,4,i,r)},useInsertionEffect:function(i,r){Rh(4,2,i,r)},useMemo:function(i,r){var o=_n();r=r===void 0?null:r;var u=i();if(Na){Qn(!0);try{i()}finally{Qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=_n();if(o!==void 0){var f=o(r);if(Na){Qn(!0);try{o(r)}finally{Qn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=QI.bind(null,Pt,i),[u.memoizedState,i]},useRef:function(i){var r=_n();return i={current:i},r.memoizedState=i},useState:function(i){i=Um(i);var r=i.queue,o=K0.bind(null,Pt,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Bm,useDeferredValue:function(i,r){var o=_n();return Fm(o,i,r)},useTransition:function(){var i=Um(!1);return i=B0.bind(null,Pt,i.queue,!0,!1),_n().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Pt,f=_n();if(Ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),oe===null)throw Error(s(349));(jt&127)!==0||g0(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,M0(v0.bind(null,u,p,i),[i]),u.flags|=2048,Mo(9,{destroy:void 0},y0.bind(null,u,p,o,r),null),o},useId:function(){var i=_n(),r=oe.identifierPrefix;if(Ht){var o=is,u=ns;o=(u&~(1<<32-Se(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Sh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=FI++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Hm,useFormState:R0,useActionState:R0,useOptimistic:function(i){var r=_n();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Gm.bind(null,Pt,!0,o),o.dispatch=r,[i,r]},useMemoCache:Pm,useCacheRefresh:function(){return _n().memoizedState=YI.bind(null,Pt)},useEffectEvent:function(i){var r=_n(),o={impl:i};return r.memoizedState=o,function(){if((Wt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Km={readContext:en,use:Ah,useCallback:U0,useContext:en,useEffect:zm,useImperativeHandle:L0,useInsertionEffect:O0,useLayoutEffect:P0,useMemo:j0,useReducer:xh,useRef:N0,useState:function(){return xh(Cs)},useDebugValue:Bm,useDeferredValue:function(i,r){var o=xe();return z0(o,ie.memoizedState,i,r)},useTransition:function(){var i=xh(Cs)[0],r=xe().memoizedState;return[typeof i=="boolean"?i:fu(i),r]},useSyncExternalStore:p0,useId:H0,useHostTransitionStatus:Hm,useFormState:C0,useActionState:C0,useOptimistic:function(i,r){var o=xe();return E0(o,ie,i,r)},useMemoCache:Pm,useCacheRefresh:G0};Km.useEffectEvent=V0;var X0={readContext:en,use:Ah,useCallback:U0,useContext:en,useEffect:zm,useImperativeHandle:L0,useInsertionEffect:O0,useLayoutEffect:P0,useMemo:j0,useReducer:Lm,useRef:N0,useState:function(){return Lm(Cs)},useDebugValue:Bm,useDeferredValue:function(i,r){var o=xe();return ie===null?Fm(o,i,r):z0(o,ie.memoizedState,i,r)},useTransition:function(){var i=Lm(Cs)[0],r=xe().memoizedState;return[typeof i=="boolean"?i:fu(i),r]},useSyncExternalStore:p0,useId:H0,useHostTransitionStatus:Hm,useFormState:D0,useActionState:D0,useOptimistic:function(i,r){var o=xe();return ie!==null?E0(o,ie,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Pm,useCacheRefresh:G0};X0.useEffectEvent=V0;function $m(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Ym={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Fn(),f=gr(u);f.payload=r,o!=null&&(f.callback=o),r=yr(i,f,u),r!==null&&(Nn(r,i,u),lu(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Fn(),f=gr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=yr(i,f,u),r!==null&&(Nn(r,i,u),lu(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Fn(),u=gr(o);u.tag=2,r!=null&&(u.callback=r),r=yr(i,u,o),r!==null&&(Nn(r,i,o),lu(r,i,o))}};function W0(i,r,o,u,f,p,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,p,E):r.prototype&&r.prototype.isPureReactComponent?!tu(o,u)||!tu(f,p):!0}function J0(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Ym.enqueueReplaceState(r,r.state,null)}function Ma(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=_({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function Z0(i){oh(i)}function tT(i){console.error(i)}function eT(i){oh(i)}function Dh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function nT(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qm(i,r,o){return o=gr(o),o.tag=3,o.payload={element:null},o.callback=function(){Dh(i,r)},o}function iT(i){return i=gr(i),i.tag=3,i}function sT(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;i.payload=function(){return f(p)},i.callback=function(){nT(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){nT(r,o,u),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function XI(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&wo(r,o,f,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return ri===null?Fh():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===yh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),Tp(i,u,f)),!1;case 22:return o.flags|=65536,u===yh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),Tp(i,u,f)),!1}throw Error(s(435,o.tag))}return Tp(i,u,f),Fh(),!1}if(Ht)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==mm&&(i=Error(s(422),{cause:u}),iu(ei(i,o)))):(u!==mm&&(r=Error(s(423),{cause:u}),iu(ei(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=ei(u,o),f=Qm(i.stateNode,u,f),Am(i,f),Te!==4&&(Te=2)),!1;var p=Error(s(520),{cause:u});if(p=ei(p,o),bu===null?bu=[p]:bu.push(p),Te!==4&&(Te=2),r===null)return!0;u=ei(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Qm(o.stateNode,u,i),Am(o,i),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sr===null||!Sr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=iT(f),sT(f,i,o,u),Am(o,f),!1}o=o.return}while(o!==null);return!1}var Xm=Error(s(461)),Pe=!1;function nn(i,r,o,u){r.child=i===null?l0(r,null,o,u):Da(r,i.child,o,u)}function rT(i,r,o,u,f){o=o.render;var p=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return xa(r),u=Nm(i,r,o,E,p,f),S=Mm(),i!==null&&!Pe?(Vm(i,r,f),Is(i,r,f)):(Ht&&S&&fm(r),r.flags|=1,nn(i,r,u,f),r.child)}function aT(i,r,o,u,f){if(i===null){var p=o.type;return typeof p=="function"&&!um(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,oT(i,r,p,u,f)):(i=hh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!sp(i,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:tu,o(E,u)&&i.ref===r.ref)return Is(i,r,f)}return r.flags|=1,i=Ss(p,u),i.ref=r.ref,i.return=r,r.child=i}function oT(i,r,o,u,f){if(i!==null){var p=i.memoizedProps;if(tu(p,u)&&i.ref===r.ref)if(Pe=!1,r.pendingProps=u=p,sp(i,f))(i.flags&131072)!==0&&(Pe=!0);else return r.lanes=i.lanes,Is(i,r,f)}return Wm(i,r,o,u,f)}function lT(i,r,o,u){var f=u.children,p=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,r.child=null;return uT(i,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ph(r,p!==null?p.cachePool:null),p!==null?h0(r,p):Rm(),f0(r);else return u=r.lanes=536870912,uT(i,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(ph(r,p.cachePool),h0(r,p),_r(),r.memoizedState=null):(i!==null&&ph(r,null),Rm(),_r());return nn(i,r,f,o),r.child}function pu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function uT(i,r,o,u,f){var p=Em();return p=p===null?null:{parent:Ve._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},i!==null&&ph(r,null),Rm(),f0(r),i!==null&&wo(i,r,u,!0),r.childLanes=f,null}function Nh(i,r){return r=Vh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function cT(i,r,o){return Da(r,i.child,null,o),i=Nh(r,r.pendingProps),i.flags|=2,jn(r),r.memoizedState=null,i}function WI(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ht){if(u.mode==="hidden")return i=Nh(r,u),r.lanes=536870912,pu(null,i);if(Im(r),(i=ue)?(i=bE(i,si),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:hr!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},o=$_(i),o.return=r,r.child=o,tn=r,ue=null)):i=null,i===null)throw dr(r);return r.lanes=536870912,null}return Nh(r,u)}var p=i.memoizedState;if(p!==null){var E=p.dehydrated;if(Im(r),f)if(r.flags&256)r.flags&=-257,r=cT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Pe||wo(i,r,o,!1),f=(o&i.childLanes)!==0,Pe||f){if(u=oe,u!==null&&(E=kl(u,o),E!==0&&E!==p.retryLane))throw p.retryLane=E,ba(i,E),Nn(u,i,E),Xm;Fh(),r=cT(i,r,o)}else i=p.treeContext,ue=ai(E.nextSibling),tn=r,Ht=!0,fr=null,si=!1,i!==null&&X_(r,i),r=Nh(r,u),r.flags|=4096;return r}return i=Ss(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Mh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Wm(i,r,o,u,f){return xa(r),o=Nm(i,r,o,u,void 0,f),u=Mm(),i!==null&&!Pe?(Vm(i,r,f),Is(i,r,f)):(Ht&&u&&fm(r),r.flags|=1,nn(i,r,o,f),r.child)}function hT(i,r,o,u,f,p){return xa(r),r.updateQueue=null,o=m0(r,u,o,f),d0(i),u=Mm(),i!==null&&!Pe?(Vm(i,r,p),Is(i,r,p)):(Ht&&u&&fm(r),r.flags|=1,nn(i,r,o,p),r.child)}function fT(i,r,o,u,f){if(xa(r),r.stateNode===null){var p=To,E=o.contextType;typeof E=="object"&&E!==null&&(p=en(E)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ym,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Sm(r),E=o.contextType,p.context=typeof E=="object"&&E!==null?en(E):To,p.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&($m(r,o,E,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Ym.enqueueReplaceState(p,p.state,null),cu(r,u,p,f),uu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){p=r.stateNode;var S=r.memoizedProps,k=Ma(o,S);p.props=k;var Y=p.context,nt=o.contextType;E=To,typeof nt=="object"&&nt!==null&&(E=en(nt));var rt=o.getDerivedStateFromProps;nt=typeof rt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&J0(r,p,u,E),pr=!1;var Q=r.memoizedState;p.state=Q,cu(r,u,p,f),uu(),Y=r.memoizedState,S||Q!==Y||pr?(typeof rt=="function"&&($m(r,o,rt,u),Y=r.memoizedState),(k=pr||W0(r,o,k,u,Q,Y,E))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=E,u=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,wm(i,r),E=r.memoizedProps,nt=Ma(o,E),p.props=nt,rt=r.pendingProps,Q=p.context,Y=o.contextType,k=To,typeof Y=="object"&&Y!==null&&(k=en(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==rt||Q!==k)&&J0(r,p,u,k),pr=!1,Q=r.memoizedState,p.state=Q,cu(r,u,p,f),uu();var Z=r.memoizedState;E!==rt||Q!==Z||pr||i!==null&&i.dependencies!==null&&dh(i.dependencies)?(typeof S=="function"&&($m(r,o,S,u),Z=r.memoizedState),(nt=pr||W0(r,o,nt,u,Q,Z,k)||i!==null&&i.dependencies!==null&&dh(i.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),p.props=u,p.state=Z,p.context=k,u=nt):(typeof p.componentDidUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Q===i.memoizedState||(r.flags|=1024),u=!1)}return p=u,Mh(i,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&u?(r.child=Da(r,i.child,null,f),r.child=Da(r,null,o,f)):nn(i,r,o,f),r.memoizedState=p.state,i=r.child):i=Is(i,r,f),i}function dT(i,r,o,u){return wa(),r.flags|=256,nn(i,r,o,u),r.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(i){return{baseLanes:i,cachePool:n0()}}function tp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Bn),i}function mT(i,r,o){var u=r.pendingProps,f=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=i!==null&&i.memoizedState===null?!1:(Ae.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ht){if(f?vr(r):_r(),(i=ue)?(i=bE(i,si),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:hr!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},o=$_(i),o.return=r,r.child=o,tn=r,ue=null)):i=null,i===null)throw dr(r);return kp(i)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(_r(),f=r.mode,S=Vh({mode:"hidden",children:S},f),u=Sa(u,f,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Zm(o),u.childLanes=tp(i,E,o),r.memoizedState=Jm,pu(null,u)):(vr(r),ep(r,S))}var k=i.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)r.flags&256?(vr(r),r.flags&=-257,r=np(i,r,o)):r.memoizedState!==null?(_r(),r.child=i.child,r.flags|=128,r=null):(_r(),S=u.fallback,f=r.mode,u=Vh({mode:"visible",children:u.children},f),S=Sa(S,f,o,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Da(r,i.child,null,o),u=r.child,u.memoizedState=Zm(o),u.childLanes=tp(i,E,o),r.memoizedState=Jm,r=pu(null,u));else if(vr(r),kp(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(s(419)),u.stack="",u.digest=E,iu({value:u,source:null,stack:null}),r=np(i,r,o)}else if(Pe||wo(i,r,o,!1),E=(o&i.childLanes)!==0,Pe||E){if(E=oe,E!==null&&(u=kl(E,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,ba(i,u),Nn(E,i,u),Xm;Pp(S)||Fh(),r=np(i,r,o)}else Pp(S)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,ue=ai(S.nextSibling),tn=r,Ht=!0,fr=null,si=!1,i!==null&&X_(r,i),r=ep(r,u.children),r.flags|=4096);return r}return f?(_r(),S=u.fallback,f=r.mode,k=i.child,Y=k.sibling,u=Ss(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?S=Ss(Y,S):(S=Sa(S,f,o,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,pu(null,u),u=r.child,S=i.child.memoizedState,S===null?S=Zm(o):(f=S.cachePool,f!==null?(k=Ve._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=n0(),S={baseLanes:S.baseLanes|o,cachePool:f}),u.memoizedState=S,u.childLanes=tp(i,E,o),r.memoizedState=Jm,pu(i.child,u)):(vr(r),o=i.child,i=o.sibling,o=Ss(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=o,r.memoizedState=null,o)}function ep(i,r){return r=Vh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Vh(i,r){return i=Ln(22,i,null,r),i.lanes=0,i}function np(i,r,o){return Da(r,i.child,null,o),i=ep(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function pT(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),ym(i.return,r,o)}function ip(i,r,o,u,f,p){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=f,E.treeForkCount=p)}function gT(i,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var E=Ae.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,lt(Ae,E),nn(i,r,u,o),u=Ht?nu:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pT(i,o,r);else if(i.tag===19)pT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Eh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),ip(r,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Eh(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}ip(r,!0,o,null,p,u);break;case"together":ip(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Is(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),br|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(wo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ss(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ss(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function sp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&dh(i)))}function JI(i,r,o){switch(r.tag){case 3:ae(r,r.stateNode.containerInfo),mr(r,Ve,i.memoizedState.cache),wa();break;case 27:case 5:Mt(r);break;case 4:ae(r,r.stateNode.containerInfo);break;case 10:mr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Im(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(vr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?mT(i,r,o):(vr(r),i=Is(i,r,o),i!==null?i.sibling:null);vr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(wo(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return gT(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Ae,Ae.current),u)break;return null;case 22:return r.lanes=0,lT(i,r,o,r.pendingProps);case 24:mr(r,Ve,i.memoizedState.cache)}return Is(i,r,o)}function yT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Pe=!0;else{if(!sp(i,o)&&(r.flags&128)===0)return Pe=!1,JI(i,r,o);Pe=(i.flags&131072)!==0}else Pe=!1,Ht&&(r.flags&1048576)!==0&&Q_(r,nu,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(i=Ca(r.elementType),r.type=i,typeof i=="function")um(i)?(u=Ma(i,u),r.tag=1,r=fT(null,r,i,u,o)):(r.tag=0,r=Wm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===q){r.tag=11,r=rT(null,r,i,u,o);break t}else if(f===C){r.tag=14,r=aT(null,r,i,u,o);break t}}throw r=It(i)||i,Error(s(306,r,""))}}return r;case 0:return Wm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ma(u,r.pendingProps),fT(i,r,u,f,o);case 3:t:{if(ae(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var p=r.memoizedState;f=p.element,wm(i,r),cu(r,u,null,o);var E=r.memoizedState;if(u=E.cache,mr(r,Ve,u),u!==p.cache&&vm(r,[Ve],o,!0),uu(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=dT(i,r,u,o);break t}else if(u!==f){f=ei(Error(s(424)),r),iu(f),r=dT(i,r,u,o);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ue=ai(i.firstChild),tn=r,Ht=!0,fr=null,si=!0,o=l0(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wa(),u===f){r=Is(i,r,o);break t}nn(i,r,u,o)}r=r.child}return r;case 26:return Mh(i,r),i===null?(o=CE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ht||(o=r.type,i=r.pendingProps,u=Qh(bt.current).createElement(o),u[De]=r,u[$e]=i,sn(u,o,i),Ne(u),r.stateNode=u):r.memoizedState=CE(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Mt(r),i===null&&Ht&&(u=r.stateNode=AE(r.type,r.pendingProps,bt.current),tn=r,si=!0,f=ue,Rr(r.type)?(Lp=f,ue=ai(u.firstChild)):ue=f),nn(i,r,r.pendingProps.children,o),Mh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ht&&((f=u=ue)&&(u=C2(u,r.type,r.pendingProps,si),u!==null?(r.stateNode=u,tn=r,ue=ai(u.firstChild),si=!1,f=!0):f=!1),f||dr(r)),Mt(r),f=r.type,p=r.pendingProps,E=i!==null?i.memoizedProps:null,u=p.children,Mp(f,p)?u=null:E!==null&&Mp(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Nm(i,r,qI,null,null,o),Du._currentValue=f),Mh(i,r),nn(i,r,u,o),r.child;case 6:return i===null&&Ht&&((i=o=ue)&&(o=I2(o,r.pendingProps,si),o!==null?(r.stateNode=o,tn=r,ue=null,i=!0):i=!1),i||dr(r)),null;case 13:return mT(i,r,o);case 4:return ae(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Da(r,null,u,o):nn(i,r,u,o),r.child;case 11:return rT(i,r,r.type,r.pendingProps,o);case 7:return nn(i,r,r.pendingProps,o),r.child;case 8:return nn(i,r,r.pendingProps.children,o),r.child;case 12:return nn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,mr(r,r.type,u.value),nn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,xa(r),f=en(f),u=u(f),r.flags|=1,nn(i,r,u,o),r.child;case 14:return aT(i,r,r.type,r.pendingProps,o);case 15:return oT(i,r,r.type,r.pendingProps,o);case 19:return gT(i,r,o);case 31:return WI(i,r,o);case 22:return lT(i,r,o,r.pendingProps);case 24:return xa(r),u=en(Ve),i===null?(f=Em(),f===null&&(f=oe,p=_m(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),r.memoizedState={parent:u,cache:f},Sm(r),mr(r,Ve,f)):((i.lanes&o)!==0&&(wm(i,r),cu(r,null,null,o),uu()),f=i.memoizedState,p=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),mr(r,Ve,u)):(u=p.cache,mr(r,Ve,u),u!==f.cache&&vm(r,[Ve],o,!0))),nn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ds(i){i.flags|=4}function rp(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(HT())i.flags|=8192;else throw Ia=yh,bm}else i.flags&=-16777217}function vT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!VE(r))if(HT())i.flags|=8192;else throw Ia=yh,bm}function Oh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?zc():536870912,i.lanes|=r,ko|=r)}function gu(i,r){if(!Ht)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ce(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function ZI(i,r,o){var u=r.pendingProps;switch(dm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),xs(Ve),St(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(So(r)?Ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pm())),ce(r),null;case 26:var f=r.type,p=r.memoizedState;return i===null?(Ds(r),p!==null?(ce(r),vT(r,p)):(ce(r),rp(r,f,null,u,o))):p?p!==i.memoizedState?(Ds(r),ce(r),vT(r,p)):(ce(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ds(r),ce(r),rp(r,f,i,u,o)),null;case 27:if(Vn(r),o=bt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}i=ct.current,So(r)?W_(r):(i=AE(f,u,o),r.stateNode=i,Ds(r))}return ce(r),null;case 5:if(Vn(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ce(r),null}if(p=ct.current,So(r))W_(r);else{var E=Qh(bt.current);switch(p){case 1:p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=E.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?E.createElement(f,{is:u.is}):E.createElement(f)}}p[De]=r,p[$e]=u;t:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)p.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break t;for(;E.sibling===null;){if(E.return===null||E.return===r)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=p;t:switch(sn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Ds(r)}}return ce(r),rp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=bt.current,So(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[De]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||mE(i.nodeValue,o)),i||dr(r,!0)}else i=Qh(i).createTextNode(u),i[De]=r,r.stateNode=i}return ce(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=So(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[De]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),i=!1}else o=pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ce(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=So(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[De]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),f=!1}else f=pm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Oh(r,r.updateQueue),ce(r),null);case 4:return St(),i===null&&Rp(r.stateNode.containerInfo),ce(r),null;case 10:return xs(r.type),ce(r),null;case 19:if(W(Ae),u=r.memoizedState,u===null)return ce(r),null;if(f=(r.flags&128)!==0,p=u.rendering,p===null)if(f)gu(u,!1);else{if(Te!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=Eh(i),p!==null){for(r.flags|=128,gu(u,!1),i=p.updateQueue,r.updateQueue=i,Oh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)K_(o,i),o=o.sibling;return lt(Ae,Ae.current&1|2),Ht&&ws(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&yn()>jh&&(r.flags|=128,f=!0,gu(u,!1),r.lanes=4194304)}else{if(!f)if(i=Eh(p),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Oh(r,i),gu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ht)return ce(r),null}else 2*yn()-u.renderingStartTime>jh&&o!==536870912&&(r.flags|=128,f=!0,gu(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(i=u.last,i!==null?i.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=yn(),i.sibling=null,o=Ae.current,lt(Ae,f?o&1|2:o&1),Ht&&ws(r,u.treeForkCount),i):(ce(r),null);case 22:case 23:return jn(r),Cm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),o=r.updateQueue,o!==null&&Oh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&W(Ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),xs(Ve),ce(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function t2(i,r){switch(dm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return xs(Ve),St(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vn(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(jn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return W(Ae),null;case 4:return St(),null;case 10:return xs(r.type),null;case 22:case 23:return jn(r),Cm(),i!==null&&W(Ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return xs(Ve),null;case 25:return null;default:return null}}function _T(i,r){switch(dm(r),r.tag){case 3:xs(Ve),St();break;case 26:case 27:case 5:Vn(r);break;case 4:St();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:W(Ae);break;case 10:xs(r.type);break;case 22:case 23:jn(r),Cm(),i!==null&&W(Ra);break;case 24:xs(Ve)}}function yu(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){te(r,r.return,S)}}function Tr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&i)===i){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var k=o,Y=S;try{Y()}catch(nt){te(f,k,nt)}}}u=u.next}while(u!==p)}}catch(nt){te(r,r.return,nt)}}function TT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{c0(r,o)}catch(u){te(i,i.return,u)}}}function ET(i,r,o){o.props=Ma(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){te(i,r,u)}}function vu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){te(i,r,f)}}function ss(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){te(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){te(i,r,f)}else o.current=null}function bT(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){te(i,i.return,f)}}function ap(i,r,o){try{var u=i.stateNode;b2(u,i.type,o,r),u[$e]=r}catch(f){te(i,i.return,f)}}function ST(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Rr(i.type)||i.tag===4}function op(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ST(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=gi));else if(u!==4&&(u===27&&Rr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(lp(i,r,o),i=i.sibling;i!==null;)lp(i,r,o),i=i.sibling}function Ph(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Rr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ph(i,r,o),i=i.sibling;i!==null;)Ph(i,r,o),i=i.sibling}function wT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);sn(r,u,o),r[De]=i,r[$e]=o}catch(p){te(i,i.return,p)}}var Ns=!1,ke=!1,up=!1,AT=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function e2(i,r){if(i=i.containerInfo,Dp=nf,i=L_(i),nm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var E=0,S=-1,k=-1,Y=0,nt=0,rt=i,Q=null;e:for(;;){for(var Z;rt!==o||f!==0&&rt.nodeType!==3||(S=E+f),rt!==p||u!==0&&rt.nodeType!==3||(k=E+u),rt.nodeType===3&&(E+=rt.nodeValue.length),(Z=rt.firstChild)!==null;)Q=rt,rt=Z;for(;;){if(rt===i)break e;if(Q===o&&++Y===f&&(S=E),Q===p&&++nt===u&&(k=E),(Z=rt.nextSibling)!==null)break;rt=Q,Q=rt.parentNode}rt=Z}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Np={focusedElem:i,selectionRange:o},nf=!1,Qe=r;Qe!==null;)if(r=Qe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Qe=i;else for(;Qe!==null;){switch(r=Qe,p=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=r,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var mt=Ma(o.type,f);i=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=i}catch(Et){te(o,o.return,Et)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Qe=i;break}Qe=r.return}}function xT(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(i,o),u&4&&yu(5,o);break;case 1:if(Vs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(E){te(o,o.return,E)}else{var f=Ma(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){te(o,o.return,E)}}u&64&&TT(o),u&512&&vu(o,o.return);break;case 3:if(Vs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{c0(i,r)}catch(E){te(o,o.return,E)}}break;case 27:r===null&&u&4&&wT(o);case 26:case 5:Vs(i,o),r===null&&u&4&&bT(o),u&512&&vu(o,o.return);break;case 12:Vs(i,o);break;case 31:Vs(i,o),u&4&&IT(i,o);break;case 13:Vs(i,o),u&4&&DT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=c2.bind(null,o),D2(i,o))));break;case 22:if(u=o.memoizedState!==null||Ns,!u){r=r!==null&&r.memoizedState!==null||ke,f=Ns;var p=ke;Ns=u,(ke=r)&&!p?Os(i,o,(o.subtreeFlags&8772)!==0):Vs(i,o),Ns=f,ke=p}break;case 30:break;default:Vs(i,o)}}function RT(i){var r=i.alternate;r!==null&&(i.alternate=null,RT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ro(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var de=null,Rn=!1;function Ms(i,r,o){for(o=o.child;o!==null;)CT(i,r,o),o=o.sibling}function CT(i,r,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 26:ke||ss(o,r),Ms(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ke||ss(o,r);var u=de,f=Rn;Rr(o.type)&&(de=o.stateNode,Rn=!1),Ms(i,r,o),Ru(o.stateNode),de=u,Rn=f;break;case 5:ke||ss(o,r);case 6:if(u=de,f=Rn,de=null,Ms(i,r,o),de=u,Rn=f,de!==null)if(Rn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(p){te(o,r,p)}else try{de.removeChild(o.stateNode)}catch(p){te(o,r,p)}break;case 18:de!==null&&(Rn?(i=de,TE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ho(i)):TE(de,o.stateNode));break;case 4:u=de,f=Rn,de=o.stateNode.containerInfo,Rn=!0,Ms(i,r,o),de=u,Rn=f;break;case 0:case 11:case 14:case 15:Tr(2,o,r),ke||Tr(4,o,r),Ms(i,r,o);break;case 1:ke||(ss(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ET(o,r,u)),Ms(i,r,o);break;case 21:Ms(i,r,o);break;case 22:ke=(u=ke)||o.memoizedState!==null,Ms(i,r,o),ke=u;break;default:Ms(i,r,o)}}function IT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ho(i)}catch(o){te(r,r.return,o)}}}function DT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ho(i)}catch(o){te(r,r.return,o)}}function n2(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new AT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new AT),r;default:throw Error(s(435,i.tag))}}function kh(i,r){var o=n2(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=h2.bind(null,i,u);u.then(f,f)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=i,E=r,S=E;t:for(;S!==null;){switch(S.tag){case 27:if(Rr(S.type)){de=S.stateNode,Rn=!1;break t}break;case 5:de=S.stateNode,Rn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,Rn=!0;break t}S=S.return}if(de===null)throw Error(s(160));CT(p,E,f),de=null,Rn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)NT(r,i),r=r.sibling}var bi=null;function NT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),In(i),u&4&&(Tr(3,i,i.return),yu(3,i),Tr(5,i,i.return));break;case 1:Cn(r,i),In(i),u&512&&(ke||o===null||ss(o,o.return)),u&64&&Ns&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=bi;if(Cn(r,i),In(i),u&512&&(ke||o===null||ss(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Hi]||p[De]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),sn(p,u,o),p[De]=i,Ne(p),u=p;break t;case"link":var E=NE("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break e}}p=f.createElement(u),sn(p,u,o),f.head.appendChild(p);break;case"meta":if(E=NE("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break e}}p=f.createElement(u),sn(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[De]=i,Ne(p),u=p}i.stateNode=u}else ME(f,i.type,i.stateNode);else i.stateNode=DE(f,u,i.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?ME(f,i.type,i.stateNode):DE(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),In(i),u&512&&(ke||o===null||ss(o,o.return)),o!==null&&u&4&&ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),In(i),u&512&&(ke||o===null||ss(o,o.return)),i.flags&32){f=i.stateNode;try{xn(f,"")}catch(mt){te(i,i.return,mt)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,ap(i,f,o!==null?o.memoizedProps:f)),u&1024&&(up=!0);break;case 6:if(Cn(r,i),In(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){te(i,i.return,mt)}}break;case 3:if(Jh=null,f=bi,bi=Xh(r.containerInfo),Cn(r,i),bi=f,In(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ho(r.containerInfo)}catch(mt){te(i,i.return,mt)}up&&(up=!1,MT(i));break;case 4:u=bi,bi=Xh(i.stateNode.containerInfo),Cn(r,i),In(i),bi=u;break;case 12:Cn(r,i),In(i);break;case 31:Cn(r,i),In(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kh(i,u)));break;case 13:Cn(r,i),In(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Uh=yn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kh(i,u)));break;case 22:f=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Y=Ns,nt=ke;if(Ns=Y||f,ke=nt||k,Cn(r,i),ke=nt,Ns=Y,In(i),u&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||k||Ns||ke||Va(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(p=k.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=k.stateNode;var rt=k.memoizedProps.style,Q=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(mt){te(k,k.return,mt)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(mt){te(k,k.return,mt)}}}else if(r.tag===18){if(o===null){k=r;try{var Z=k.stateNode;f?EE(Z,!0):EE(k.stateNode,!1)}catch(mt){te(k,k.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,kh(i,o))));break;case 19:Cn(r,i),In(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,kh(i,u)));break;case 30:break;case 21:break;default:Cn(r,i),In(i)}}function In(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(ST(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=op(i);Ph(i,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(xn(E,""),o.flags&=-33);var S=op(i);Ph(i,S,E);break;case 3:case 4:var k=o.stateNode.containerInfo,Y=op(i);lp(i,Y,k);break;default:throw Error(s(161))}}catch(nt){te(i,i.return,nt)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function MT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;MT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Vs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xT(i,r.alternate,r),r=r.sibling}function Va(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Tr(4,r,r.return),Va(r);break;case 1:ss(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&ET(r,r.return,o),Va(r);break;case 27:Ru(r.stateNode);case 26:case 5:ss(r,r.return),Va(r);break;case 22:r.memoizedState===null&&Va(r);break;case 30:Va(r);break;default:Va(r)}i=i.sibling}}function Os(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Os(f,p,o),yu(4,p);break;case 1:if(Os(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){te(u,u.return,Y)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)u0(k[f],S)}catch(Y){te(u,u.return,Y)}}o&&E&64&&TT(p),vu(p,p.return);break;case 27:wT(p);case 26:case 5:Os(f,p,o),o&&u===null&&E&4&&bT(p),vu(p,p.return);break;case 12:Os(f,p,o);break;case 31:Os(f,p,o),o&&E&4&&IT(f,p);break;case 13:Os(f,p,o),o&&E&4&&DT(f,p);break;case 22:p.memoizedState===null&&Os(f,p,o),vu(p,p.return);break;case 30:break;default:Os(f,p,o)}r=r.sibling}}function cp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&su(o))}function hp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&su(i))}function Si(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)VT(i,r,o,u),r=r.sibling}function VT(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Si(i,r,o,u),f&2048&&yu(9,r);break;case 1:Si(i,r,o,u);break;case 3:Si(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&su(i)));break;case 12:if(f&2048){Si(i,r,o,u),i=r.stateNode;try{var p=r.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){te(r,r.return,k)}}else Si(i,r,o,u);break;case 31:Si(i,r,o,u);break;case 13:Si(i,r,o,u);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Si(i,r,o,u):_u(i,r):p._visibility&2?Si(i,r,o,u):(p._visibility|=2,Vo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&cp(E,r);break;case 24:Si(i,r,o,u),f&2048&&hp(r.alternate,r);break;default:Si(i,r,o,u)}}function Vo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=i,E=r,S=o,k=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Vo(p,E,S,k,f),yu(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?Vo(p,E,S,k,f):_u(p,E):(nt._visibility|=2,Vo(p,E,S,k,f)),f&&Y&2048&&cp(E.alternate,E);break;case 24:Vo(p,E,S,k,f),f&&Y&2048&&hp(E.alternate,E);break;default:Vo(p,E,S,k,f)}r=r.sibling}}function _u(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:_u(o,u),f&2048&&cp(u.alternate,u);break;case 24:_u(o,u),f&2048&&hp(u.alternate,u);break;default:_u(o,u)}r=r.sibling}}var Tu=8192;function Oo(i,r,o){if(i.subtreeFlags&Tu)for(i=i.child;i!==null;)OT(i,r,o),i=i.sibling}function OT(i,r,o){switch(i.tag){case 26:Oo(i,r,o),i.flags&Tu&&i.memoizedState!==null&&F2(o,bi,i.memoizedState,i.memoizedProps);break;case 5:Oo(i,r,o);break;case 3:case 4:var u=bi;bi=Xh(i.stateNode.containerInfo),Oo(i,r,o),bi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Tu,Tu=16777216,Oo(i,r,o),Tu=u):Oo(i,r,o));break;default:Oo(i,r,o)}}function PT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Eu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qe=u,LT(u,i)}PT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kT(i),i=i.sibling}function kT(i){switch(i.tag){case 0:case 11:case 15:Eu(i),i.flags&2048&&Tr(9,i,i.return);break;case 3:Eu(i);break;case 12:Eu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Lh(i)):Eu(i);break;default:Eu(i)}}function Lh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Qe=u,LT(u,i)}PT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Tr(8,r,r.return),Lh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Lh(r));break;default:Lh(r)}i=i.sibling}}function LT(i,r){for(;Qe!==null;){var o=Qe;switch(o.tag){case 0:case 11:case 15:Tr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:su(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qe=u;else t:for(o=i;Qe!==null;){u=Qe;var f=u.sibling,p=u.return;if(RT(u),u===o){Qe=null;break t}if(f!==null){f.return=p,Qe=f;break t}Qe=p}}}var i2={getCacheForType:function(i){var r=en(Ve),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return en(Ve).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,Wt=0,oe=null,Lt=null,jt=0,Zt=0,zn=null,Er=!1,Po=!1,fp=!1,Ps=0,Te=0,br=0,Oa=0,dp=0,Bn=0,ko=0,bu=null,Dn=null,mp=!1,Uh=0,UT=0,jh=1/0,zh=null,Sr=null,Fe=0,wr=null,Lo=null,ks=0,pp=0,gp=null,jT=null,Su=0,yp=null;function Fn(){return(Wt&2)!==0&&jt!==0?jt&-jt:tt.T!==null?Sp():Bc()}function zT(){if(Bn===0)if((jt&536870912)===0||Ht){var i=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Bn=i}else Bn=536870912;return i=Un.current,i!==null&&(i.flags|=32),Bn}function Nn(i,r,o){(i===oe&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)&&(Uo(i,0),Ar(i,jt,Bn,!1)),la(i,o),((Wt&2)===0||i!==oe)&&(i===oe&&((Wt&2)===0&&(Oa|=o),Te===4&&Ar(i,jt,Bn,!1)),rs(i))}function BT(i,r,o){if((Wt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||di(i,r),f=u?o2(i,r):_p(i,r,!0),p=u;do{if(f===0){Po&&!u&&Ar(i,r,0,!1);break}else{if(o=i.current.alternate,p&&!r2(o)){f=_p(i,r,!1),p=!1;continue}if(f===2){if(p=r,i.errorRecoveryDisabledLanes&p)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;t:{var S=i;f=bu;var k=S.current.memoizedState.isDehydrated;if(k&&(Uo(S,E).flags|=256),E=_p(S,E,!1),E!==2){if(fp&&!k){S.errorRecoveryDisabledLanes|=p,Oa|=p,f=4;break t}p=Dn,Dn=f,p!==null&&(Dn===null?Dn=p:Dn.push.apply(Dn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Uo(i,0),Ar(i,r,0,!0);break}t:{switch(u=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ar(u,r,Bn,!Er);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Uh+300-yn(),10<f)){if(Ar(u,r,Bn,!Er),Bi(u,0,!0)!==0)break t;ks=r,u.timeoutHandle=vE(FT.bind(null,u,o,Dn,zh,mp,r,Bn,Oa,ko,Er,p,"Throttled",-0,0),f);break t}FT(u,o,Dn,zh,mp,r,Bn,Oa,ko,Er,p,null,-0,0)}}break}while(!0);rs(i)}function FT(i,r,o,u,f,p,E,S,k,Y,nt,rt,Q,Z){if(i.timeoutHandle=-1,rt=r.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},OT(r,p,rt);var mt=(p&62914560)===p?Uh-yn():(p&4194048)===p?UT-yn():0;if(mt=q2(rt,mt),mt!==null){ks=p,i.cancelPendingCommit=mt(XT.bind(null,i,r,p,o,u,f,E,S,k,nt,rt,null,Q,Z)),Ar(i,p,E,!Y);return}}XT(i,r,p,o,u,f,E,S,k)}function r2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!kn(p(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(i,r,o,u){r&=~dp,r&=~Oa,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var p=31-Se(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&ua(i,o,r)}function Bh(){return(Wt&6)===0?(wu(0),!1):!0}function vp(){if(Lt!==null){if(Zt===0)var i=Lt.return;else i=Lt,As=Aa=null,Om(i),Co=null,au=0,i=Lt;for(;i!==null;)_T(i.alternate,i),i=i.return;Lt=null}}function Uo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,A2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ks=0,vp(),oe=i,Lt=o=Ss(i.current,null),jt=r,Zt=0,zn=null,Er=!1,Po=di(i,r),fp=!1,ko=Bn=dp=Oa=br=Te=0,Dn=bu=null,mp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-Se(u),p=1<<f;r|=i[f],u&=~p}return Ps=r,lh(),o}function qT(i,r){Pt=null,tt.H=mu,r===Ro||r===gh?(r=r0(),Zt=3):r===bm?(r=r0(),Zt=4):Zt=r===Xm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Lt===null&&(Te=1,Dh(i,ei(r,i.current)))}function HT(){var i=Un.current;return i===null?!0:(jt&4194048)===jt?ri===null:(jt&62914560)===jt||(jt&536870912)!==0?i===ri:!1}function GT(){var i=tt.H;return tt.H=mu,i===null?mu:i}function KT(){var i=tt.A;return tt.A=i2,i}function Fh(){Te=4,Er||(jt&4194048)!==jt&&Un.current!==null||(Po=!0),(br&134217727)===0&&(Oa&134217727)===0||oe===null||Ar(oe,jt,Bn,!1)}function _p(i,r,o){var u=Wt;Wt|=2;var f=GT(),p=KT();(oe!==i||jt!==r)&&(zh=null,Uo(i,r)),r=!1;var E=Te;t:do try{if(Zt!==0&&Lt!==null){var S=Lt,k=zn;switch(Zt){case 8:vp(),E=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var Y=Zt;if(Zt=0,zn=null,jo(i,S,k,Y),o&&Po){E=0;break t}break;default:Y=Zt,Zt=0,zn=null,jo(i,S,k,Y)}}a2(),E=Te;break}catch(nt){qT(i,nt)}while(!0);return r&&i.shellSuspendCounter++,As=Aa=null,Wt=u,tt.H=f,tt.A=p,Lt===null&&(oe=null,jt=0,lh()),E}function a2(){for(;Lt!==null;)$T(Lt)}function o2(i,r){var o=Wt;Wt|=2;var u=GT(),f=KT();oe!==i||jt!==r?(zh=null,jh=yn()+500,Uo(i,r)):Po=di(i,r);t:do try{if(Zt!==0&&Lt!==null){r=Lt;var p=zn;e:switch(Zt){case 1:Zt=0,zn=null,jo(i,r,p,1);break;case 2:case 9:if(i0(p)){Zt=0,zn=null,YT(r);break}r=function(){Zt!==2&&Zt!==9||oe!==i||(Zt=7),rs(i)},p.then(r,r);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:i0(p)?(Zt=0,zn=null,YT(r)):(Zt=0,zn=null,jo(i,r,p,7));break;case 5:var E=null;switch(Lt.tag){case 26:E=Lt.memoizedState;case 5:case 27:var S=Lt;if(E?VE(E):S.stateNode.complete){Zt=0,zn=null;var k=S.sibling;if(k!==null)Lt=k;else{var Y=S.return;Y!==null?(Lt=Y,qh(Y)):Lt=null}break e}}Zt=0,zn=null,jo(i,r,p,5);break;case 6:Zt=0,zn=null,jo(i,r,p,6);break;case 8:vp(),Te=6;break t;default:throw Error(s(462))}}l2();break}catch(nt){qT(i,nt)}while(!0);return As=Aa=null,tt.H=u,tt.A=f,Wt=o,Lt!==null?0:(oe=null,jt=0,lh(),Te)}function l2(){for(;Lt!==null&&!ra();)$T(Lt)}function $T(i){var r=yT(i.alternate,i,Ps);i.memoizedProps=i.pendingProps,r===null?qh(i):Lt=r}function YT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=hT(o,r,r.pendingProps,r.type,void 0,jt);break;case 11:r=hT(o,r,r.pendingProps,r.type.render,r.ref,jt);break;case 5:Om(r);default:_T(o,r),r=Lt=K_(r,Ps),r=yT(o,r,Ps)}i.memoizedProps=i.pendingProps,r===null?qh(i):Lt=r}function jo(i,r,o,u){As=Aa=null,Om(r),Co=null,au=0;var f=r.return;try{if(XI(i,f,r,o,jt)){Te=1,Dh(i,ei(o,i.current)),Lt=null;return}}catch(p){if(f!==null)throw Lt=f,p;Te=1,Dh(i,ei(o,i.current)),Lt=null;return}r.flags&32768?(Ht||u===1?i=!0:Po||(jt&536870912)!==0?i=!1:(Er=i=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),QT(r,i)):qh(r)}function qh(i){var r=i;do{if((r.flags&32768)!==0){QT(r,Er);return}i=r.return;var o=ZI(r.alternate,r,Ps);if(o!==null){Lt=o;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=i}while(r!==null);Te===0&&(Te=5)}function QT(i,r){do{var o=t2(i.alternate,i);if(o!==null){o.flags&=32767,Lt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Lt=i;return}Lt=i=o}while(i!==null);Te=6,Lt=null}function XT(i,r,o,u,f,p,E,S,k){i.cancelPendingCommit=null;do Hh();while(Fe!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(p=r.lanes|r.childLanes,p|=om,Jd(i,o,p,E,S,k),i===oe&&(Lt=oe=null,jt=0),Lo=r,wr=i,ks=o,pp=p,gp=f,jT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f2(er,function(){return eE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=tt.T,tt.T=null,f=et.p,et.p=2,E=Wt,Wt|=4;try{e2(i,r,o)}finally{Wt=E,et.p=f,tt.T=u}}Fe=1,WT(),JT(),ZT()}}function WT(){if(Fe===1){Fe=0;var i=wr,r=Lo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var u=et.p;et.p=2;var f=Wt;Wt|=4;try{NT(r,i);var p=Np,E=L_(i.containerInfo),S=p.focusedElem,k=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&k_(S.ownerDocument.documentElement,S)){if(k!==null&&nm(S)){var Y=k.start,nt=k.end;if(nt===void 0&&(nt=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(nt,S.value.length);else{var rt=S.ownerDocument||document,Q=rt&&rt.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),mt=S.textContent.length,Et=Math.min(k.start,mt),re=k.end===void 0?Et:Math.min(k.end,mt);!Z.extend&&Et>re&&(E=re,re=Et,Et=E);var G=P_(S,Et),F=P_(S,re);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=rt.createRange();$.setStart(G.node,G.offset),Z.removeAllRanges(),Et>re?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(rt=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&rt.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<rt.length;S++){var st=rt[S];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}nf=!!Dp,Np=Dp=null}finally{Wt=f,et.p=u,tt.T=o}}i.current=r,Fe=2}}function JT(){if(Fe===2){Fe=0;var i=wr,r=Lo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var u=et.p;et.p=2;var f=Wt;Wt|=4;try{xT(i,r.alternate,r)}finally{Wt=f,et.p=u,tt.T=o}}Fe=3}}function ZT(){if(Fe===4||Fe===3){Fe=0,Ui();var i=wr,r=Lo,o=ks,u=jT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,Lo=wr=null,tE(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Sr=null),_s(o),r=r.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(fi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=tt.T,f=et.p,et.p=2,tt.T=null;try{for(var p=i.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{tt.T=r,et.p=f}}(ks&3)!==0&&Hh(),rs(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===yp?Su++:(Su=0,yp=i):Su=0,wu(0)}}function tE(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,su(r)))}function Hh(){return WT(),JT(),ZT(),eE()}function eE(){if(Fe!==5)return!1;var i=wr,r=pp;pp=0;var o=_s(ks),u=tt.T,f=et.p;try{et.p=32>o?32:o,tt.T=null,o=gp,gp=null;var p=wr,E=ks;if(Fe=0,Lo=wr=null,ks=0,(Wt&6)!==0)throw Error(s(331));var S=Wt;if(Wt|=4,kT(p.current),VT(p,p.current,E,o),Wt=S,wu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(fi,p)}catch{}return!0}finally{et.p=f,tt.T=u,tE(i,r)}}function nE(i,r,o){r=ei(o,r),r=Qm(i.stateNode,r,2),i=yr(i,r,2),i!==null&&(la(i,2),rs(i))}function te(i,r,o){if(i.tag===3)nE(i,i,o);else for(;r!==null;){if(r.tag===3){nE(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Sr===null||!Sr.has(u))){i=ei(o,i),o=iT(2),u=yr(r,o,2),u!==null&&(sT(o,u,r,i),la(u,2),rs(u));break}}r=r.return}}function Tp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new s2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(fp=!0,f.add(o),i=u2.bind(null,i,r,o),r.then(i,i))}function u2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,oe===i&&(jt&o)===o&&(Te===4||Te===3&&(jt&62914560)===jt&&300>yn()-Uh?(Wt&2)===0&&Uo(i,0):dp|=o,ko===jt&&(ko=0)),rs(i)}function iE(i,r){r===0&&(r=zc()),i=ba(i,r),i!==null&&(la(i,r),rs(i))}function c2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),iE(i,o)}function h2(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),iE(i,o)}function f2(i,r){return ve(i,r)}var Gh=null,zo=null,Ep=!1,Kh=!1,bp=!1,xr=0;function rs(i){i!==zo&&i.next===null&&(zo===null?Gh=zo=i:zo=zo.next=i),Kh=!0,Ep||(Ep=!0,m2())}function wu(i,r){if(!bp&&Kh){bp=!0;do for(var o=!1,u=Gh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Se(42|i)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,oE(u,p))}else p=jt,p=Bi(u,u===oe?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||di(u,p)||(o=!0,oE(u,p));u=u.next}while(o);bp=!1}}function d2(){sE()}function sE(){Kh=Ep=!1;var i=0;xr!==0&&w2()&&(i=xr);for(var r=yn(),o=null,u=Gh;u!==null;){var f=u.next,p=rE(u,r);p===0?(u.next=null,o===null?Gh=f:o.next=f,f===null&&(zo=o)):(o=u,(i!==0||(p&3)!==0)&&(Kh=!0)),u=f}Fe!==0&&Fe!==5||wu(i),xr!==0&&(xr=0)}function rE(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var E=31-Se(p),S=1<<E,k=f[E];k===-1?((S&o)===0||(S&u)!==0)&&(f[E]=Wd(S,r)):k<=r&&(i.expiredLanes|=S),p&=~S}if(r=oe,o=jt,o=Bi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Zt===2||Zt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Yn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||di(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Yn(u),_s(o)){case 2:case 8:o=Ol;break;case 32:o=er;break;case 268435456:o=Pc;break;default:o=er}return u=aE.bind(null,i),o=ve(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Yn(u),i.callbackPriority=2,i.callbackNode=null,2}function aE(i,r){if(Fe!==0&&Fe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Hh()&&i.callbackNode!==o)return null;var u=jt;return u=Bi(i,i===oe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(BT(i,u,r),rE(i,yn()),i.callbackNode!=null&&i.callbackNode===o?aE.bind(null,i):null)}function oE(i,r){if(Hh())return null;BT(i,r,!0)}function m2(){x2(function(){(Wt&6)!==0?ve(Vl,d2):sE()})}function Sp(){if(xr===0){var i=Ao;i===0&&(i=ji,ji<<=1,(ji&261888)===0&&(ji=256)),xr=i}return xr}function lE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:uo(""+i)}function uE(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function p2(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var p=lE((f[$e]||null).action),E=u.submitter;E&&(r=(r=E[$e]||null)?lE(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var S=new Ji("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xr!==0){var k=E?uE(f,E):new FormData(f);qm(o,{pending:!0,data:k,method:f.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=E?uE(f,E):new FormData(f),qm(o,{pending:!0,data:k,method:f.method,action:p},p,k))},currentTarget:f}]})}}for(var wp=0;wp<am.length;wp++){var Ap=am[wp],g2=Ap.toLowerCase(),y2=Ap[0].toUpperCase()+Ap.slice(1);Ei(g2,"on"+y2)}Ei(z_,"onAnimationEnd"),Ei(B_,"onAnimationIteration"),Ei(F_,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(VI,"onTransitionRun"),Ei(OI,"onTransitionStart"),Ei(PI,"onTransitionCancel"),Ei(q_,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function cE(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=Y;try{p(f)}catch(nt){oh(nt)}f.currentTarget=null,p=k}else for(E=0;E<u.length;E++){if(S=u[E],k=S.instance,Y=S.currentTarget,S=S.listener,k!==p&&f.isPropagationStopped())break t;p=S,f.currentTarget=Y;try{p(f)}catch(nt){oh(nt)}f.currentTarget=null,p=k}}}}function Ut(i,r){var o=r[so];o===void 0&&(o=r[so]=new Set);var u=i+"__bubble";o.has(u)||(hE(r,i,2,!1),o.add(u))}function xp(i,r,o){var u=0;r&&(u|=4),hE(o,i,u,r)}var $h="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[$h]){i[$h]=!0,Ll.forEach(function(o){o!=="selectionchange"&&(v2.has(o)||xp(o,!1,i),xp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[$h]||(r[$h]=!0,xp("selectionchange",!1,r))}}function hE(i,r,o,u){switch(zE(r)){case 2:var f=K2;break;case 8:f=$2;break;default:f=Fp}o=f.bind(null,r,o,i),f=void 0,!ma||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Cp(i,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Gi(S),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=p=E;continue t}S=S.parentNode}}u=u.return}or(function(){var Y=p,nt=Wn(o),rt=[];t:{var Q=H_.get(i);if(Q!==void 0){var Z=Ji,mt=i;switch(i){case"keypress":if(ga(o)===0)break t;case"keydown":case"keyup":Z=sh;break;case"focusin":mt="focus",Z=va;break;case"focusout":mt="blur",Z=va;break;case"beforeblur":case"afterblur":Z=va;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case z_:case B_:case F_:Z=Wc;break;case q_:Z=x;break;case"scroll":case"scrollend":Z=Ql;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bs;break;case"toggle":case"beforetoggle":Z=Ot}var Et=(r&4)!==0,re=!Et&&(i==="scroll"||i==="scrollend"),G=Et?Q!==null?Q+"Capture":null:Q;Et=[];for(var F=Y,$;F!==null;){var st=F;if($=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||$===null||G===null||(st=yi(F,G),st!=null&&Et.push(xu(F,st,$))),re)break;F=F.return}0<Et.length&&(Q=new Z(Q,mt,null,o,nt),rt.push({event:Q,listeners:Et}))}}if((r&7)===0){t:{if(Q=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",Q&&o!==Kl&&(mt=o.relatedTarget||o.fromElement)&&(Gi(mt)||mt[qi]))break t;if((Z||Q)&&(Q=nt.window===nt?nt:(Q=nt.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(mt=o.relatedTarget||o.toElement,Z=Y,mt=mt?Gi(mt):null,mt!==null&&(re=l(mt),Et=mt.tag,mt!==re||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(Z=null,mt=Y),Z!==mt)){if(Et=Xl,st="onMouseLeave",G="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Et=bs,st="onPointerLeave",G="onPointerEnter",F="pointer"),re=Z==null?Q:On(Z),$=mt==null?Q:On(mt),Q=new Et(st,F+"leave",Z,o,nt),Q.target=re,Q.relatedTarget=$,st=null,Gi(nt)===Y&&(Et=new Et(G,F+"enter",mt,o,nt),Et.target=$,Et.relatedTarget=re,st=Et),re=st,Z&&mt)e:{for(Et=_2,G=Z,F=mt,$=0,st=G;st;st=Et(st))$++;st=0;for(var _t=F;_t;_t=Et(_t))st++;for(;0<$-st;)G=Et(G),$--;for(;0<st-$;)F=Et(F),st--;for(;$--;){if(G===F||F!==null&&G===F.alternate){Et=G;break e}G=Et(G),F=Et(F)}Et=null}else Et=null;Z!==null&&fE(rt,Q,Z,Et,!1),mt!==null&&re!==null&&fE(rt,re,mt,Et,!0)}}t:{if(Q=Y?On(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var $t=I_;else if(R_(Q))if(D_)$t=DI;else{$t=CI;var gt=RI}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&lo(Y.elementType)&&($t=I_):$t=II;if($t&&($t=$t(i,Y))){C_(rt,$t,o,nt);break t}gt&&gt(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&ql(Q,"number",Q.value)}switch(gt=Y?On(Y):window,i){case"focusin":(R_(gt)||gt.contentEditable==="true")&&(yo=gt,im=Y,eu=null);break;case"focusout":eu=im=yo=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,U_(rt,o,nt);break;case"selectionchange":if(MI)break;case"keydown":case"keyup":U_(rt,o,nt)}var kt;if(Xt)t:{switch(i){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else go?_a(i,o)&&(zt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(zt="onCompositionStart");zt&&(es&&o.locale!=="ko"&&(go||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&go&&(kt=Yl()):(Wi=nt,$l="value"in Wi?Wi.value:Wi.textContent,go=!0)),gt=Yh(Y,zt),0<gt.length&&(zt=new ts(zt,i,null,o,nt),rt.push({event:zt,listeners:gt}),kt?zt.data=kt:(kt=po(o),kt!==null&&(zt.data=kt)))),(kt=Zn?SI(i,o):wI(i,o))&&(zt=Yh(Y,"onBeforeInput"),0<zt.length&&(gt=new ts("onBeforeInput","beforeinput",null,o,nt),rt.push({event:gt,listeners:zt}),gt.data=kt)),p2(rt,i,Y,o,nt)}cE(rt,r)})}function xu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Yh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=yi(i,o),f!=null&&u.unshift(xu(i,f,p)),f=yi(i,r),f!=null&&u.push(xu(i,f,p))),i.tag===3)return u;i=i.return}return[]}function _2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function fE(i,r,o,u,f){for(var p=r._reactName,E=[];o!==null&&o!==u;){var S=o,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,f?(Y=yi(o,p),Y!=null&&E.unshift(xu(o,Y,k))):f||(Y=yi(o,p),Y!=null&&E.push(xu(o,Y,k)))),o=o.return}E.length!==0&&i.push({event:r,listeners:E})}var T2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function dE(i){return(typeof i=="string"?i:""+i).replace(T2,`
`).replace(E2,"")}function mE(i,r){return r=dE(r),dE(i)===r}function se(i,r,o,u,f,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||xn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&xn(i,""+u);break;case"className":Pn(i,"class",u);break;case"tabIndex":Pn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,o,u);break;case"style":Gl(i,u,p);break;case"data":if(r!=="object"){Pn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=uo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&se(i,r,"name",f.name,f,null),se(i,r,"formEncType",f.formEncType,f,null),se(i,r,"formMethod",f.formMethod,f,null),se(i,r,"formTarget",f.formTarget,f,null)):(se(i,r,"encType",f.encType,f,null),se(i,r,"method",f.method,f,null),se(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=uo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=gi);break;case"onScroll":u!=null&&Ut("scroll",i);break;case"onScrollEnd":u!=null&&Ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=uo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ut("beforetoggle",i),Ut("toggle",i),ao(i,"popover",u);break;case"xlinkActuate":Me(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Me(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Me(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Me(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Me(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Me(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Me(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Me(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Me(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ao(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yc.get(o)||o,ao(i,o,u))}}function Ip(i,r,o,u,f,p){switch(o){case"style":Gl(i,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?xn(i,u):(typeof u=="number"||typeof u=="bigint")&&xn(i,""+u);break;case"onScroll":u!=null&&Ut("scroll",i);break;case"onScrollEnd":u!=null&&Ut("scrollend",i);break;case"onClick":u!=null&&(i.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),p=i[$e]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(r,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ao(i,o,u)}}}function sn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",i),Ut("load",i);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,p,E,o,null)}}f&&se(i,r,"srcSet",o.srcSet,o,null),u&&se(i,r,"src",o.src,o,null);return;case"input":Ut("invalid",i);var S=p=E=f=null,k=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var nt=o[u];if(nt!=null)switch(u){case"name":f=nt;break;case"type":E=nt;break;case"checked":k=nt;break;case"defaultChecked":Y=nt;break;case"value":p=nt;break;case"defaultValue":S=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,r));break;default:se(i,r,u,nt,o,null)}}Gc(i,p,S,k,Y,E,f,!1);return;case"select":Ut("invalid",i),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:se(i,r,f,S,o,null)}r=p,o=E,i.multiple=!!u,r!=null?ir(i,!!u,r,!1):o!=null&&ir(i,!!u,o,!0);return;case"textarea":Ut("invalid",i),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:se(i,r,E,S,o,null)}sr(i,u,f,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null)&&(k==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":se(i,r,k,u,o,null));return;case"dialog":Ut("beforetoggle",i),Ut("toggle",i),Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":Ut("load",i);break;case"video":case"audio":for(u=0;u<Au.length;u++)Ut(Au[u],i);break;case"image":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"embed":case"source":case"link":Ut("error",i),Ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:se(i,r,Y,u,o,null)}return;default:if(lo(r)){for(nt in o)o.hasOwnProperty(nt)&&(u=o[nt],u!==void 0&&Ip(i,r,nt,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&se(i,r,S,u,o,null))}function b2(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,k=null,Y=null,nt=null;for(Z in o){var rt=o[Z];if(o.hasOwnProperty(Z)&&rt!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":k=rt;default:u.hasOwnProperty(Z)||se(i,r,Z,null,u,rt)}}for(var Q in u){var Z=u[Q];if(rt=o[Q],u.hasOwnProperty(Q)&&(Z!=null||rt!=null))switch(Q){case"type":p=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":nt=Z;break;case"value":E=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==rt&&se(i,r,Q,Z,u,rt)}}oo(i,E,S,k,Y,nt,p,f);return;case"select":Z=E=S=Q=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Z=k;default:u.hasOwnProperty(p)||se(i,r,p,null,u,k)}for(f in u)if(p=u[f],k=o[f],u.hasOwnProperty(f)&&(p!=null||k!=null))switch(f){case"value":Q=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==k&&se(i,r,f,p,u,k)}r=S,o=E,u=Z,Q!=null?ir(i,!!o,Q,!1):!!u!=!!o&&(r!=null?ir(i,!!o,r,!0):ir(i,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(i,r,S,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Q=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&se(i,r,E,f,u,p)}Kc(i,Q,Z);return;case"option":for(var mt in o)Q=o[mt],o.hasOwnProperty(mt)&&Q!=null&&!u.hasOwnProperty(mt)&&(mt==="selected"?i.selected=!1:se(i,r,mt,null,u,Q));for(k in u)Q=u[k],Z=o[k],u.hasOwnProperty(k)&&Q!==Z&&(Q!=null||Z!=null)&&(k==="selected"?i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":se(i,r,k,Q,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)Q=o[Et],o.hasOwnProperty(Et)&&Q!=null&&!u.hasOwnProperty(Et)&&se(i,r,Et,null,u,Q);for(Y in u)if(Q=u[Y],Z=o[Y],u.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:se(i,r,Y,Q,u,Z)}return;default:if(lo(r)){for(var re in o)Q=o[re],o.hasOwnProperty(re)&&Q!==void 0&&!u.hasOwnProperty(re)&&Ip(i,r,re,void 0,u,Q);for(nt in u)Q=u[nt],Z=o[nt],!u.hasOwnProperty(nt)||Q===Z||Q===void 0&&Z===void 0||Ip(i,r,nt,Q,u,Z);return}}for(var G in o)Q=o[G],o.hasOwnProperty(G)&&Q!=null&&!u.hasOwnProperty(G)&&se(i,r,G,null,u,Q);for(rt in u)Q=u[rt],Z=o[rt],!u.hasOwnProperty(rt)||Q===Z||Q==null&&Z==null||se(i,r,rt,Q,u,Z)}function pE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,E=f.initiatorType,S=f.duration;if(p&&S&&pE(E)){for(E=0,S=f.responseEnd,u+=1;u<o.length;u++){var k=o[u],Y=k.startTime;if(Y>S)break;var nt=k.transferSize,rt=k.initiatorType;nt&&pE(rt)&&(k=k.responseEnd,E+=nt*(k<S?1:(S-Y)/(k-Y)))}if(--u,r+=8*(p+E)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dp=null,Np=null;function Qh(i){return i.nodeType===9?i:i.ownerDocument}function gE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Vp=null;function w2(){var i=window.event;return i&&i.type==="popstate"?i===Vp?!1:(Vp=i,!0):(Vp=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(i){return _E.resolve(null).then(i).catch(R2)}:vE;function R2(i){setTimeout(function(){throw i})}function Rr(i){return i==="head"}function TE(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Ho(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ru(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ru(o);for(var p=o.firstChild;p;){var E=p.nextSibling,S=p.nodeName;p[Hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=E}}else o==="body"&&Ru(i.ownerDocument.body);o=f}while(o);Ho(r)}function EE(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Op(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),ro(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function C2(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Hi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function I2(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ai(i.nextSibling),i===null))return null;return i}function bE(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ai(i.nextSibling),i===null))return null;return i}function Pp(i){return i.data==="$?"||i.data==="$~"}function kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function D2(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Lp=null;function SE(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ai(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function wE(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function AE(i,r,o){switch(r=Qh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ru(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ro(i)}var oi=new Map,xE=new Set;function Xh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ls=et.d;et.d={f:N2,r:M2,D:V2,C:O2,L:P2,m:k2,X:U2,S:L2,M:j2};function N2(){var i=Ls.f(),r=Bh();return i||r}function M2(i){var r=Xn(i);r!==null&&r.tag===5&&r.type==="form"?q0(r):Ls.r(i)}var Bo=typeof document>"u"?null:document;function RE(i,r,o){var u=Bo;if(u&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),xE.has(f)||(xE.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),sn(r,"link",i),Ne(r),u.head.appendChild(r)))}}function V2(i){Ls.D(i),RE("dns-prefetch",i,null)}function O2(i,r){Ls.C(i,r),RE("preconnect",i,r)}function P2(i,r,o){Ls.L(i,r,o);var u=Bo;if(u&&i&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+An(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+An(o.imageSizes)+'"]')):f+='[href="'+An(i)+'"]';var p=f;switch(r){case"style":p=Fo(i);break;case"script":p=qo(i)}oi.has(p)||(i=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),oi.set(p,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Cu(p))||r==="script"&&u.querySelector(Iu(p))||(r=u.createElement("link"),sn(r,"link",i),Ne(r),u.head.appendChild(r)))}}function k2(i,r){Ls.m(i,r);var o=Bo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(u)+'"][href="'+An(i)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=qo(i)}if(!oi.has(p)&&(i=_({rel:"modulepreload",href:i},r),oi.set(p,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(p)))return}u=o.createElement("link"),sn(u,"link",i),Ne(u),o.head.appendChild(u)}}}function L2(i,r,o){Ls.S(i,r,o);var u=Bo;if(u&&i){var f=Ki(u).hoistableStyles,p=Fo(i);r=r||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Cu(p)))S.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},o),(o=oi.get(p))&&Up(i,o);var k=E=u.createElement("link");Ne(k),sn(k,"link",i),k._p=new Promise(function(Y,nt){k.onload=Y,k.onerror=nt}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wh(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function U2(i,r){Ls.X(i,r);var o=Bo;if(o&&i){var u=Ki(o).hoistableScripts,f=qo(i),p=u.get(f);p||(p=o.querySelector(Iu(f)),p||(i=_({src:i,async:!0},r),(r=oi.get(f))&&jp(i,r),p=o.createElement("script"),Ne(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function j2(i,r){Ls.M(i,r);var o=Bo;if(o&&i){var u=Ki(o).hoistableScripts,f=qo(i),p=u.get(f);p||(p=o.querySelector(Iu(f)),p||(i=_({src:i,async:!0,type:"module"},r),(r=oi.get(f))&&jp(i,r),p=o.createElement("script"),Ne(p),sn(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function CE(i,r,o,u){var f=(f=bt.current)?Xh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Fo(o.href),o=Ki(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Fo(o.href);var p=Ki(f).hoistableStyles,E=p.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,E),(p=f.querySelector(Cu(i)))&&!p._p&&(E.instance=p,E.state.loading=5),oi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oi.set(i,o),p||z2(f,i,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=qo(o),o=Ki(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Fo(i){return'href="'+An(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function IE(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function z2(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",o),Ne(r),i.head.appendChild(r))}function qo(i){return'[src="'+An(i)+'"]'}function Iu(i){return"script[async]"+i}function DE(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+An(o.href)+'"]');if(u)return r.instance=u,Ne(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ne(u),sn(u,"style",f),Wh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Fo(o.href);var p=i.querySelector(Cu(f));if(p)return r.state.loading|=4,r.instance=p,Ne(p),p;u=IE(o),(f=oi.get(f))&&Up(u,f),p=(i.ownerDocument||i).createElement("link"),Ne(p);var E=p;return E._p=new Promise(function(S,k){E.onload=S,E.onerror=k}),sn(p,"link",u),r.state.loading|=4,Wh(p,o.precedence,i),r.instance=p;case"script":return p=qo(o.src),(f=i.querySelector(Iu(p)))?(r.instance=f,Ne(f),f):(u=o,(f=oi.get(p))&&(u=_({},o),jp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Ne(f),sn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wh(u,o.precedence,i));return r.instance}function Wh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Jh=null;function NE(i,r,o){if(Jh===null){var u=new Map,f=Jh=new Map;f.set(o,u)}else f=Jh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Hi]||p[De]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=i+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function ME(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function B2(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function VE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function F2(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Fo(u.href),p=r.querySelector(Cu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Zh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=p,Ne(p);return}p=r.ownerDocument||r,u=IE(u),(f=oi.get(f))&&Up(u,f),p=p.createElement("link"),Ne(p);var E=p;E._p=new Promise(function(S,k){E.onload=S,E.onerror=k}),sn(p,"link",u),o.instance=p}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Zh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var zp=0;function q2(i,r){return i.stylesheets&&i.count===0&&ef(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4+r);0<i.imgBytes&&zp===0&&(zp=62500*S2());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend)){var p=i.unsuspend;i.unsuspend=null,p()}},(i.imgBytes>zp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Zh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tf=null;function ef(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tf=new Map,r.forEach(H2,i),tf=null,Zh.call(i))}function H2(i,r){if(!(r.state.loading&4)){var o=tf.get(i);if(o)var u=o.get(null);else{o=new Map,tf.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Zh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Du={$$typeof:O,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function G2(i,r,o,u,f,p,E,S,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function OE(i,r,o,u,f,p,E,S,k,Y,nt,rt){return i=new G2(i,r,o,E,k,Y,nt,rt,S),r=1,p===!0&&(r|=24),p=Ln(3,null,null,r),i.current=p,p.stateNode=i,r=_m(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Sm(p),i}function PE(i){return i?(i=To,i):To}function kE(i,r,o,u,f,p){f=PE(f),u.context===null?u.context=f:u.pendingContext=f,u=gr(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=yr(i,u,r),o!==null&&(Nn(o,i,r),lu(o,i,r))}function LE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Bp(i,r){LE(i,r),(i=i.alternate)&&LE(i,r)}function UE(i){if(i.tag===13||i.tag===31){var r=ba(i,67108864);r!==null&&Nn(r,i,67108864),Bp(i,67108864)}}function jE(i){if(i.tag===13||i.tag===31){var r=Fn();r=ca(r);var o=ba(i,r);o!==null&&Nn(o,i,r),Bp(i,r)}}var nf=!0;function K2(i,r,o,u){var f=tt.T;tt.T=null;var p=et.p;try{et.p=2,Fp(i,r,o,u)}finally{et.p=p,tt.T=f}}function $2(i,r,o,u){var f=tt.T;tt.T=null;var p=et.p;try{et.p=8,Fp(i,r,o,u)}finally{et.p=p,tt.T=f}}function Fp(i,r,o,u){if(nf){var f=qp(u);if(f===null)Cp(i,r,u,sf,o),BE(i,u);else if(Q2(f,i,r,o,u))u.stopPropagation();else if(BE(i,u),r&4&&-1<Y2.indexOf(i)){for(;f!==null;){var p=Xn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=zi(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var k=1<<31-Se(E);S.entanglements[1]|=k,E&=~k}rs(p),(Wt&6)===0&&(jh=yn()+500,wu(0))}}break;case 31:case 13:S=ba(p,2),S!==null&&Nn(S,p,2),Bh(),Bp(p,2)}if(p=qp(u),p===null&&Cp(i,r,u,sf,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Cp(i,r,u,null,o)}}function qp(i){return i=Wn(i),Hp(i)}var sf=null;function Hp(i){if(sf=null,i=Gi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return sf=i,null}function zE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Vl:return 2;case Ol:return 8;case er:case Xd:return 32;case Pc:return 268435456;default:return 32}default:return 32}}var Gp=!1,Cr=null,Ir=null,Dr=null,Nu=new Map,Mu=new Map,Nr=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(i,r){switch(i){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Nu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(r.pointerId)}}function Vu(i,r,o,u,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Xn(r),r!==null&&UE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function Q2(i,r,o,u,f){switch(r){case"focusin":return Cr=Vu(Cr,i,r,o,u,f),!0;case"dragenter":return Ir=Vu(Ir,i,r,o,u,f),!0;case"mouseover":return Dr=Vu(Dr,i,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return Nu.set(p,Vu(Nu.get(p)||null,i,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Mu.set(p,Vu(Mu.get(p)||null,i,r,o,u,f)),!0}return!1}function FE(i){var r=Gi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,mi(i.priority,function(){jE(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,mi(i.priority,function(){jE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=qp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Kl=u,o.target.dispatchEvent(u),Kl=null}else return r=Xn(o),r!==null&&UE(r),i.blockedOn=o,!1;r.shift()}return!0}function qE(i,r,o){rf(i)&&o.delete(r)}function X2(){Gp=!1,Cr!==null&&rf(Cr)&&(Cr=null),Ir!==null&&rf(Ir)&&(Ir=null),Dr!==null&&rf(Dr)&&(Dr=null),Nu.forEach(qE),Mu.forEach(qE)}function af(i,r){i.blockedOn===r&&(i.blockedOn=null,Gp||(Gp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,X2)))}var of=null;function HE(i){of!==i&&(of=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){of===i&&(of=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(Hp(u||o)===null)continue;break}var p=Xn(o);p!==null&&(i.splice(r,3),r-=3,qm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ho(i){function r(k){return af(k,i)}Cr!==null&&af(Cr,i),Ir!==null&&af(Ir,i),Dr!==null&&af(Dr,i),Nu.forEach(r),Mu.forEach(r);for(var o=0;o<Nr.length;o++){var u=Nr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Nr.length&&(o=Nr[0],o.blockedOn===null);)FE(o),o.blockedOn===null&&Nr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[$e]||null;if(typeof p=="function")E||HE(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[$e]||null)S=E.formAction;else if(Hp(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),HE(o)}}}function GE(){function i(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Kp(i){this._internalRoot=i}lf.prototype.render=Kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Fn();kE(o,u,i,r,null,null)},lf.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;kE(i.current,2,null,i,null,null),Bh(),r[qi]=null}};function lf(i){this._internalRoot=i}lf.prototype.unstable_scheduleHydration=function(i){if(i){var r=Bc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Nr.length&&r!==0&&r<Nr[o].priority;o++);Nr.splice(o,0,i),o===0&&FE(i)}};var KE=t.version;if(KE!=="19.2.4")throw Error(s(527,KE,"19.2.4"));et.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var W2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{fi=uf.inject(W2),Je=uf}catch{}}return Pu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Z0,p=tT,E=eT;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=OE(i,1,!1,null,null,o,u,null,f,p,E,GE),i[qi]=r.current,Rp(i),new Kp(r)},Pu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",p=Z0,E=tT,S=eT,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=OE(i,1,!0,r,o??null,u,f,k,p,E,S,GE),r.context=PE(null),o=r.current,u=Fn(),u=ca(u),f=gr(u),f.callback=null,yr(o,f,u),o=u,r.current.lanes=o,la(r,o),rs(r),i[qi]=r.current,Rp(i),new lf(r)},Pu.version="19.2.4",Pu}var nb;function lD(){if(nb)return Qp.exports;nb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qp.exports=oD(),Qp.exports}var uD=lD();var ib="popstate";function cD(e={}){function t(s,a){let{pathname:l,search:c,hash:d}=s.location;return Lg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ec(a)}return fD(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hD(){return Math.random().toString(36).substring(2,10)}function sb(e,t){return{usr:e.state,key:e.key,idx:t}}function Lg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_l(t):t,state:n,key:t&&t.key||s||hD()}}function ec({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function fD(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let U=y(),z=U==null?null:U-g;g=U,m&&m({action:d,location:j.location,delta:z})}function T(U,z){d="PUSH";let B=Lg(j.location,U,z);g=y()+1;let O=sb(B,g),q=j.createHref(B);try{c.pushState(O,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(q)}l&&m&&m({action:d,location:j.location,delta:1})}function R(U,z){d="REPLACE";let B=Lg(j.location,U,z);g=y();let O=sb(B,g),q=j.createHref(B);c.replaceState(O,"",q),l&&m&&m({action:d,location:j.location,delta:0})}function D(U){return dD(U)}let j={get action(){return d},get location(){return e(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ib,_),m=U,()=>{a.removeEventListener(ib,_),m=null}},createHref(U){return t(a,U)},createURL:D,encodeLocation(U){let z=D(U);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:R,go(U){return c.go(U)}};return j}function dD(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),me(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ec(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function gw(e,t,n="/"){return mD(e,t,n,!1)}function mD(e,t,n,s){let a=typeof t=="string"?_l(t):t,l=Gs(a.pathname||"/",n);if(l==null)return null;let c=yw(e);pD(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=xD(l);d=wD(c[m],g,s)}return d}function yw(e,t=[],n=[],s="",a=!1){let l=(c,d,m=a,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&m)return;me(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let _=Bs([s,y.relativePath]),T=n.concat(y);c.children&&c.children.length>0&&(me(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),yw(c.children,t,T,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:bD(_,c.index),routesMeta:T})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of vw(c.path))l(c,d,!0,m)}),t}function vw(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=vw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function pD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:SD(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gD=/^:[\w-]+$/,yD=3,vD=2,_D=1,TD=10,ED=-2,rb=e=>e==="*";function bD(e,t){let n=e.split("/"),s=n.length;return n.some(rb)&&(s+=ED),t&&(s+=vD),n.filter(a=>!rb(a)).reduce((a,l)=>a+(gD.test(l)?yD:l===""?_D:TD),s)}function SD(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function wD(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),T=m.route;if(!_&&g&&n&&!s[s.length-1].route.index&&(_=Ff({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Bs([l,_.pathname]),pathnameBase:DD(Bs([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=Bs([l,_.pathnameBase]))}return c}function Ff(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=AD(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:_},T)=>{if(y==="*"){let D=d[T]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const R=d[T];return _&&!R?g[y]=void 0:g[y]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:e}}function AD(e,t=!1,n=!0){Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function xD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var RD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function CD(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?_l(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=ab(n.substring(1),"/"):l=ab(n,t)):l=t,{pathname:l,search:ND(s),hash:MD(a)}}function ab(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ID(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Vy(e){let t=ID(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Oy(e,t,n,s=!1){let a;typeof e=="string"?a=_l(e):(a={...e},me(!a.pathname||!a.pathname.includes("?"),Zp("?","pathname","search",a)),me(!a.pathname||!a.pathname.includes("#"),Zp("#","pathname","hash",a)),me(!a.search||!a.search.includes("#"),Zp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}d=_>=0?t[_]:"/"}let m=CD(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Bs=e=>e.join("/").replace(/\/\/+/g,"/"),DD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,VD=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function OD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function PD(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tw(e,t){let n=e;if(typeof n!="string"||!RD.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(_w)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Gs(c.pathname,t);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Mi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ew=["POST","PUT","PATCH","DELETE"];new Set(Ew);var kD=["GET",...Ew];new Set(kD);var Tl=V.createContext(null);Tl.displayName="DataRouter";var Ed=V.createContext(null);Ed.displayName="DataRouterState";var LD=V.createContext(!1),bw=V.createContext({isTransitioning:!1});bw.displayName="ViewTransition";var UD=V.createContext(new Map);UD.displayName="Fetchers";var jD=V.createContext(null);jD.displayName="Await";var $n=V.createContext(null);$n.displayName="Navigation";var gc=V.createContext(null);gc.displayName="Location";var hi=V.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Py=V.createContext(null);Py.displayName="RouteError";var Sw="REACT_ROUTER_ERROR",zD="REDIRECT",BD="ROUTE_ERROR_RESPONSE";function FD(e){if(e.startsWith(`${Sw}:${zD}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function qD(e){if(e.startsWith(`${Sw}:${BD}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new VD(t.status,t.statusText,t.data)}catch{}}function HD(e,{relative:t}={}){me(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext($n),{hash:a,pathname:l,search:c}=vc(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Bs([n,l])),s.createHref({pathname:d,search:c,hash:a})}function El(){return V.useContext(gc)!=null}function vs(){return me(El(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(gc).location}var ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(e){V.useContext($n).static||V.useLayoutEffect(e)}function yc(){let{isDataRoute:e}=V.useContext(hi);return e?aN():GD()}function GD(){me(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=V.useContext(Tl),{basename:t,navigator:n}=V.useContext($n),{matches:s}=V.useContext(hi),{pathname:a}=vs(),l=JSON.stringify(Vy(s)),c=V.useRef(!1);return Aw(()=>{c.current=!0}),V.useCallback((m,g={})=>{if(Mi(c.current,ww),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Oy(m,JSON.parse(l),a,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Bs([t,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[t,n,l,a,e])}var KD=V.createContext(null);function $D(e){let t=V.useContext(hi).outlet;return V.useMemo(()=>t&&V.createElement(KD.Provider,{value:e},t),[t,e])}function YD(){let{matches:e}=V.useContext(hi),t=e[e.length-1];return t?t.params:{}}function vc(e,{relative:t}={}){let{matches:n}=V.useContext(hi),{pathname:s}=vs(),a=JSON.stringify(Vy(n));return V.useMemo(()=>Oy(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function QD(e,t){return xw(e,t)}function xw(e,t,n,s,a){me(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext($n),{matches:c}=V.useContext(hi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let B=_&&_.path||"";Cw(g,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=vs(),R;if(t){let B=typeof t=="string"?_l(t):t;me(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),R=B}else R=T;let D=R.pathname||"/",j=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let U=gw(e,{pathname:j});Mi(_||U!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Mi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=tN(U&&U.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Bs([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Bs([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,n,s,a);return t&&z?V.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},z):z}function XD(){let e=rN(),t=OD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:a},n):null,c)}var WD=V.createElement(XD,null),Rw=class extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=qD(e.digest);n&&(e=n)}let t=e!==void 0?V.createElement(hi.Provider,{value:this.props.routeContext},V.createElement(Py.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?V.createElement(JD,{error:e},t):t}};Rw.contextType=LD;var tg=new WeakMap;function JD({children:e,error:t}){let{basename:n}=V.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=FD(t.digest);if(s){let a=tg.get(t);if(a)throw a;let l=Tw(s.location,n);if(_w&&!tg.get(t))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw tg.set(t,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function ZD({routeContext:e,match:t,children:n}){let s=V.useContext(Tl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(hi.Provider,{value:e},n)}function tN(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);me(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:T,errors:R}=n,D=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||D){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&s?(y,_)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:PD(n.matches),errorInfo:_})}:void 0;return l.reduceRight((y,_,T)=>{let R,D=!1,j=null,U=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,j=_.route.errorElement||WD,d&&(m<0&&T===0?(Cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,U=null):m===T&&(D=!0,U=_.route.hydrateFallbackElement||null)));let z=t.concat(l.slice(0,T+1)),B=()=>{let O;return R?O=j:D?O=U:_.route.Component?O=V.createElement(_.route.Component,null):_.route.element?O=_.route.element:O=y,V.createElement(ZD,{match:_,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:O})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?V.createElement(Rw,{location:n.location,revalidation:n.revalidation,component:j,error:R,children:B(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):B()},null)}function ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eN(e){let t=V.useContext(Tl);return me(t,ky(e)),t}function nN(e){let t=V.useContext(Ed);return me(t,ky(e)),t}function iN(e){let t=V.useContext(hi);return me(t,ky(e)),t}function Ly(e){let t=iN(e),n=t.matches[t.matches.length-1];return me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sN(){return Ly("useRouteId")}function rN(){let e=V.useContext(Py),t=nN("useRouteError"),n=Ly("useRouteError");return e!==void 0?e:t.errors?.[n]}function aN(){let{router:e}=eN("useNavigate"),t=Ly("useNavigate"),n=V.useRef(!1);return Aw(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{Mi(n.current,ww),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var ob={};function Cw(e,t,n){!t&&!ob[e]&&(ob[e]=!0,Mi(!1,n))}V.memo(oN);function oN({routes:e,future:t,state:n,onError:s}){return xw(e,void 0,n,s,t)}function Iw({to:e,replace:t,state:n,relative:s}){me(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext($n);Mi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(hi),{pathname:c}=vs(),d=yc(),m=Oy(e,Vy(l),c,s==="path"),g=JSON.stringify(m);return V.useEffect(()=>{d(JSON.parse(g),{replace:t,state:n,relative:s})},[d,g,s,t,n]),null}function lN(e){return $D(e.context)}function Ai(e){me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uN({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){me(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=_l(n));let{pathname:g="/",search:y="",hash:_="",state:T=null,key:R="default"}=n,D=V.useMemo(()=>{let j=Gs(g,d);return j==null?null:{location:{pathname:j,search:y,hash:_,state:T,key:R},navigationType:s}},[d,g,y,_,T,R,s]);return Mi(D!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:V.createElement($n.Provider,{value:m},V.createElement(gc.Provider,{children:t,value:D}))}function cN({children:e,location:t}){return QD(Ug(e),t)}function Ug(e,t=[]){let n=[];return V.Children.forEach(e,(s,a)=>{if(!V.isValidElement(s))return;let l=[...t,a];if(s.type===V.Fragment){n.push.apply(n,Ug(s.props.children,l));return}me(s.type===Ai,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),me(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ug(s.props.children,l)),n.push(c)}),n}var bf="get",Sf="application/x-www-form-urlencoded";function bd(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function hN(e){return bd(e)&&e.tagName.toLowerCase()==="button"}function fN(e){return bd(e)&&e.tagName.toLowerCase()==="form"}function dN(e){return bd(e)&&e.tagName.toLowerCase()==="input"}function mN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pN(e,t){return e.button===0&&(!t||t==="_self")&&!mN(e)}var hf=null;function gN(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var yN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(e){return e!=null&&!yN.has(e)?(Mi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):e}function vN(e,t){let n,s,a,l,c;if(fN(e)){let d=e.getAttribute("action");s=d?Gs(d,t):null,n=e.getAttribute("method")||bf,a=eg(e.getAttribute("enctype"))||Sf,l=new FormData(e)}else if(hN(e)||dN(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(s=m?Gs(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||bf,a=eg(e.getAttribute("formenctype"))||eg(d.getAttribute("enctype"))||Sf,l=new FormData(d,e),!gN()){let{name:g,type:y,value:_}=e;if(y==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,_)}}else{if(bd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,s=null,a=Sf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _N(e,t,n,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:t&&Gs(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function TN(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EN(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bN(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await TN(l,n);return c.links?c.links():[]}return[]}));return xN(s.flat(1).filter(EN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lb(e,t,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?t.filter((m,g)=>{let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function SN(e,t,{includeHydrateFallback:n}={}){return wN(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function wN(e){return[...new Set(e)]}function AN(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function xN(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(AN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function Dw(){let e=V.useContext(Tl);return Uy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RN(){let e=V.useContext(Ed);return Uy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jy=V.createContext(void 0);jy.displayName="FrameworkContext";function Nw(){let e=V.useContext(jy);return Uy(e,"You must render this element inside a <HydratedRouter> element"),e}function CN(e,t){let n=V.useContext(jy),[s,a]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=t,T=V.useRef(null);V.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=z=>{z.forEach(B=>{c(B.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[e]),V.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let R=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,T,{}]:[l,T,{onFocus:ku(d,R),onBlur:ku(m,D),onMouseEnter:ku(g,R),onMouseLeave:ku(y,D),onTouchStart:ku(_,R)}]:[!1,T,{}]}function ku(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function IN({page:e,...t}){let{router:n}=Dw(),s=V.useMemo(()=>gw(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?V.createElement(NN,{page:e,matches:s,...t}):null}function DN(e){let{manifest:t,routeModules:n}=Nw(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return bN(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function NN({page:e,matches:t,...n}){let s=vs(),{future:a,manifest:l,routeModules:c}=Nw(),{basename:d}=Dw(),{loaderData:m,matches:g}=RN(),y=V.useMemo(()=>lb(e,t,g,l,s,"data"),[e,t,g,l,s]),_=V.useMemo(()=>lb(e,t,g,l,s,"assets"),[e,t,g,l,s]),T=V.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,U=!1;if(t.forEach(B=>{let O=l.routes[B.route.id];!O||!O.hasLoader||(!y.some(q=>q.route.id===B.route.id)&&B.route.id in m&&c[B.route.id]?.shouldRevalidate||O.hasClientLoader?U=!0:j.add(B.route.id))}),j.size===0)return[];let z=_N(e,d,a.unstable_trailingSlashAwareDataRequests,"data");return U&&j.size>0&&z.searchParams.set("_routes",t.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[z.pathname+z.search]},[d,a.unstable_trailingSlashAwareDataRequests,m,s,l,y,t,e,c]),R=V.useMemo(()=>SN(_,l),[_,l]),D=DN(_);return V.createElement(V.Fragment,null,T.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),R.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:U})=>V.createElement("link",{key:j,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function MN(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var VN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VN&&(window.__reactRouterVersion="7.13.0")}catch{}function ON({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=V.useRef();a.current==null&&(a.current=cD({window:s,v5Compat:!0}));let l=a.current,[c,d]=V.useState({action:l.action,location:l.location}),m=V.useCallback(g=>{n===!1?d(g):V.startTransition(()=>d(g))},[n]);return V.useLayoutEffect(()=>l.listen(m),[l,m]),V.createElement(uN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=V.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...R},D){let{basename:j,unstable_useTransitions:U}=V.useContext($n),z=typeof g=="string"&&Mw.test(g),B=Tw(g,j);g=B.to;let O=HD(g,{relative:a}),[q,X,ot]=CN(s,R),C=UN(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:T,unstable_useTransitions:U});function A(P){t&&t(P),P.defaultPrevented||C(P)}let I=V.createElement("a",{...R,...ot,href:B.absoluteURL||O,onClick:B.isExternal||l?t:A,ref:MN(D,X),target:m,"data-discover":!z&&n==="render"?"true":void 0});return q&&!z?V.createElement(V.Fragment,null,I,V.createElement(IN,{page:O})):I});un.displayName="Link";var PN=V.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let _=vc(c,{relative:g.relative}),T=vs(),R=V.useContext(Ed),{navigator:D,basename:j}=V.useContext($n),U=R!=null&&qN(_)&&d===!0,z=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,B=T.pathname,O=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(B=B.toLowerCase(),O=O?O.toLowerCase():null,z=z.toLowerCase()),O&&j&&(O=Gs(O,j)||O);const q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let X=B===z||!a&&B.startsWith(z)&&B.charAt(q)==="/",ot=O!=null&&(O===z||!a&&O.startsWith(z)&&O.charAt(z.length)==="/"),C={isActive:X,isPending:ot,isTransitioning:U},A=X?t:void 0,I;typeof s=="function"?I=s(C):I=[s,X?"active":null,ot?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return V.createElement(un,{...g,"aria-current":A,className:I,ref:y,style:P,to:c,viewTransition:d},typeof m=="function"?m(C):m)});PN.displayName="NavLink";var kN=V.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=bf,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T,...R},D)=>{let{unstable_useTransitions:j}=V.useContext($n),U=BN(),z=FN(d,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&Mw.test(d),q=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let ot=X.nativeEvent.submitter,C=ot?.getAttribute("formmethod")||c,A=()=>U(ot||X.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:a,state:l,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:T});j&&n!==!1?V.startTransition(()=>A()):A()};return V.createElement("form",{ref:D,method:B,action:z,onSubmit:s?m:q,...R,"data-discover":!O&&e==="render"?"true":void 0})});kN.displayName="Form";function LN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(e){let t=V.useContext(Tl);return me(t,LN(e)),t}function UN(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=yc(),y=vs(),_=vc(e,{relative:l});return V.useCallback(T=>{if(pN(T,t)){T.preventDefault();let R=n!==void 0?n:ec(y)===ec(_),D=()=>g(e,{replace:R,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?V.startTransition(()=>D()):D()}},[y,g,_,n,s,t,e,a,l,c,d,m])}var jN=0,zN=()=>`__${String(++jN)}__`;function BN(){let{router:e}=Vw("useSubmit"),{basename:t}=V.useContext($n),n=sN(),s=e.fetch,a=e.navigate;return V.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:y,body:_}=vN(l,t);if(c.navigate===!1){let T=c.fetcherKey||zN();await s(T,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:_,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,t,n])}function FN(e,{relative:t}={}){let{basename:n}=V.useContext($n),s=V.useContext(hi);me(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...vc(e||".",{relative:t})},c=vs();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bs([n,l.pathname])),ec(l)}function qN(e,{relative:t}={}){let n=V.useContext(bw);me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vw("useViewTransitionState"),a=vc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Gs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Gs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ff(a.pathname,c)!=null||Ff(a.pathname,l)!=null}function Ow(){return w.jsx("img",{src:"/atomoquantico235.svg",alt:"tomo Quntico Logo",className:"h-8 w-8"})}const HN=()=>{};var ub={};const Pw=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},GN=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,g=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(T=64)),s.push(n[y],n[_],n[T],n[R])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Pw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):GN(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const g=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||g==null||_==null)throw new KN;const T=l<<2|d>>4;if(s.push(T),g!==64){const R=d<<4&240|g>>2;if(s.push(R),_!==64){const D=g<<6&192|_;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(e){const t=Pw(e);return kw.encodeByteArray(t,!0)},qf=function(e){return $N(e).replace(/\./g,"")},Lw=function(e){try{return kw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function YN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QN=()=>YN().__FIREBASE_DEFAULTS__,XN=()=>{if(typeof process>"u"||typeof ub>"u")return;const e=ub.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},WN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Lw(e[1]);return t&&JSON.parse(t)},Sd=()=>{try{return HN()||QN()||XN()||WN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Uw=e=>Sd()?.emulatorHosts?.[e],JN=e=>{const t=Uw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},jw=()=>Sd()?.config,zw=e=>Sd()?.[`_${e}`];class ZN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function bl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bw(e){return(await fetch(e,{credentials:"include"})).ok}function tM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[qf(JSON.stringify(n)),qf(JSON.stringify(c)),""].join(".")}const Hu={};function eM(){const e={prod:[],emulator:[]};for(const t of Object.keys(Hu))Hu[t]?e.emulator.push(t):e.prod.push(t);return e}function nM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let cb=!1;function Fw(e,t){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Hu[e]===t||Hu[e]||cb)return;Hu[e]=t;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=eM().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{cb=!0,c()},T}function y(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=nM(s),R=n("text"),D=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),U=document.getElementById(j)||document.createElement("a"),z=n("preprendIcon"),B=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const O=T.element;d(O),y(U,j);const q=g();m(B,z),O.append(B,D,U,q),document.body.appendChild(O)}l?(D.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function sM(){const e=Sd()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oM(){const e=pn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lM(){return!sM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hw(){try{return typeof indexedDB=="object"}catch{return!1}}function Gw(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}function uM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const cM="FirebaseError";class Pi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=cM,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?hM(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Pi(a,d,s)}}function hM(e,t){return e.replace(fM,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const fM=/\{\$([^}]+)}/g;function dM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Kr(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(hb(l)&&hb(c)){if(!Kr(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function hb(e){return e!==null&&typeof e=="object"}function _c(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function mM(e,t){const n=new pM(e,t);return n.subscribe.bind(n)}class pM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gM(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=ng),a.error===void 0&&(a.error=ng),a.complete===void 0&&(a.complete=ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ng(){}const yM=1e3,vM=2,_M=14400*1e3,TM=.5;function fb(e,t=yM,n=vM){const s=t*Math.pow(n,e),a=Math.round(TM*s*(Math.random()-.5)*2);return Math.min(_M,s+a)}function Be(e){return e&&e._delegate?e._delegate:e}class Vi{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ka="[DEFAULT]";class EM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ZN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SM(t))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ka){return this.instances.has(t)}getOptions(t=ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(t),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&t(l,s),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:bM(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ka){return this.component?this.component.multipleInstances?t:ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bM(e){return e===ka?void 0:e}function SM(e){return e.instantiationMode==="EAGER"}class wM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new EM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const AM={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},xM=Bt.INFO,RM={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},CM=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=RM[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wd{constructor(t){this.name=t,this._logLevel=xM,this._logHandler=CM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const IM=(e,t)=>t.some(n=>e instanceof n);let db,mb;function DM(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NM(){return mb||(mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kw=new WeakMap,jg=new WeakMap,$w=new WeakMap,ig=new WeakMap,zy=new WeakMap;function MM(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(zr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&Kw.set(n,e)}).catch(()=>{}),zy.set(t,e),t}function VM(e){if(jg.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});jg.set(e,t)}let zg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||$w.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OM(e){zg=e(zg)}function PM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(sg(this),t,...n);return $w.set(s,t.sort?t.sort():[t]),zr(s)}:NM().includes(e)?function(...t){return e.apply(sg(this),t),zr(Kw.get(this))}:function(...t){return zr(e.apply(sg(this),t))}}function kM(e){return typeof e=="function"?PM(e):(e instanceof IDBTransaction&&VM(e),IM(e,DM())?new Proxy(e,zg):e)}function zr(e){if(e instanceof IDBRequest)return MM(e);if(ig.has(e))return ig.get(e);const t=kM(e);return t!==e&&(ig.set(e,t),zy.set(t,e)),t}const sg=e=>zy.get(e);function Yw(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=zr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(zr(c.result),m.oldVersion,m.newVersion,zr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const LM=["get","getKey","getAll","getAllKeys","count"],UM=["put","add","delete","clear"],rg=new Map;function pb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rg.get(t))return rg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=UM.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||LM.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return rg.set(t,l),l}OM(e=>({...e,get:(t,n,s)=>pb(t,n)||e.get(t,n,s),has:(t,n)=>!!pb(t,n)||e.has(t,n)}));class jM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zM(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zM(e){return e.getComponent()?.type==="VERSION"}const Bg="@firebase/app",gb="0.14.8";const Ks=new wd("@firebase/app"),BM="@firebase/app-compat",FM="@firebase/analytics-compat",qM="@firebase/analytics",HM="@firebase/app-check-compat",GM="@firebase/app-check",KM="@firebase/auth",$M="@firebase/auth-compat",YM="@firebase/database",QM="@firebase/data-connect",XM="@firebase/database-compat",WM="@firebase/functions",JM="@firebase/functions-compat",ZM="@firebase/installations",tV="@firebase/installations-compat",eV="@firebase/messaging",nV="@firebase/messaging-compat",iV="@firebase/performance",sV="@firebase/performance-compat",rV="@firebase/remote-config",aV="@firebase/remote-config-compat",oV="@firebase/storage",lV="@firebase/storage-compat",uV="@firebase/firestore",cV="@firebase/ai",hV="@firebase/firestore-compat",fV="firebase",dV="12.9.0";const Fg="[DEFAULT]",mV={[Bg]:"fire-core",[BM]:"fire-core-compat",[qM]:"fire-analytics",[FM]:"fire-analytics-compat",[GM]:"fire-app-check",[HM]:"fire-app-check-compat",[KM]:"fire-auth",[$M]:"fire-auth-compat",[YM]:"fire-rtdb",[QM]:"fire-data-connect",[XM]:"fire-rtdb-compat",[WM]:"fire-fn",[JM]:"fire-fn-compat",[ZM]:"fire-iid",[tV]:"fire-iid-compat",[eV]:"fire-fcm",[nV]:"fire-fcm-compat",[iV]:"fire-perf",[sV]:"fire-perf-compat",[rV]:"fire-rc",[aV]:"fire-rc-compat",[oV]:"fire-gcs",[lV]:"fire-gcs-compat",[uV]:"fire-fst",[hV]:"fire-fst-compat",[cV]:"fire-vertex","fire-js":"fire-js",[fV]:"fire-js-all"};const Hf=new Map,pV=new Map,qg=new Map;function yb(e,t){try{e.container.addComponent(t)}catch(n){Ks.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ds(e){const t=e.name;if(qg.has(t))return Ks.debug(`There were multiple attempts to register component ${t}.`),!1;qg.set(t,e);for(const n of Hf.values())yb(n,e);for(const n of pV.values())yb(n,e);return!0}function Za(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ri(e){return e==null?!1:e.settings!==void 0}const gV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Ja("app","Firebase",gV);class yV{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const Sl=dV;function Qw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Fg,automaticDataCollectionEnabled:!0,...t},a=s.name;if(typeof a!="string"||!a)throw Br.create("bad-app-name",{appName:String(a)});if(n||(n=jw()),!n)throw Br.create("no-options");const l=Hf.get(a);if(l){if(Kr(n,l.options)&&Kr(s,l.config))return l;throw Br.create("duplicate-app",{appName:a})}const c=new wM(a);for(const m of qg.values())c.addComponent(m);const d=new yV(n,s,c);return Hf.set(a,d),d}function By(e=Fg){const t=Hf.get(e);if(!t&&e===Fg&&jw())return Qw();if(!t)throw Br.create("no-app",{appName:e});return t}function ui(e,t,n){let s=mV[e]??e;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${t}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ks.warn(c.join(" "));return}ds(new Vi(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const vV="firebase-heartbeat-database",_V=1,nc="firebase-heartbeat-store";let ag=null;function Xw(){return ag||(ag=Yw(vV,_V,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})})),ag}async function TV(e){try{const n=(await Xw()).transaction(nc),s=await n.objectStore(nc).get(Ww(e));return await n.done,s}catch(t){if(t instanceof Pi)Ks.warn(t.message);else{const n=Br.create("idb-get",{originalErrorMessage:t?.message});Ks.warn(n.message)}}}async function vb(e,t){try{const s=(await Xw()).transaction(nc,"readwrite");await s.objectStore(nc).put(t,Ww(e)),await s.done}catch(n){if(n instanceof Pi)Ks.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n?.message});Ks.warn(s.message)}}}function Ww(e){return`${e.name}!${e.options.appId}`}const EV=1024,bV=30;class SV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_b();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>bV){const a=xV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ks.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_b(),{heartbeatsToSend:n,unsentEntries:s}=wV(this._heartbeatsCache.heartbeats),a=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ks.warn(t),""}}}function _b(){return new Date().toISOString().substring(0,10)}function wV(e,t=EV){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Tb(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Tb(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hw()?Gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Tb(e){return qf(JSON.stringify({version:2,heartbeats:e})).length}function xV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function RV(e){ds(new Vi("platform-logger",t=>new jM(t),"PRIVATE")),ds(new Vi("heartbeat",t=>new SV(t),"PRIVATE")),ui(Bg,gb,e),ui(Bg,gb,"esm2020"),ui("fire-js","")}RV("");function Jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CV=Jw,Zw=new Ja("auth","Firebase",Jw());const Gf=new wd("@firebase/auth");function IV(e,...t){Gf.logLevel<=Bt.WARN&&Gf.warn(`Auth (${Sl}): ${e}`,...t)}function wf(e,...t){Gf.logLevel<=Bt.ERROR&&Gf.error(`Auth (${Sl}): ${e}`,...t)}function ms(e,...t){throw qy(e,...t)}function Ii(e,...t){return qy(e,...t)}function Fy(e,t,n){const s={...CV(),[t]:n};return new Ja("auth","Firebase",s).create(t,{appName:e.name})}function qa(e){return Fy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DV(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&ms(e,"argument-error"),Fy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Zw.create(e,...t)}function At(e,t,...n){if(!e)throw qy(t,...n)}function js(e){const t="INTERNAL ASSERTION FAILED: "+e;throw wf(t),new Error(t)}function $s(e,t){e||js(t)}function Hg(){return typeof self<"u"&&self.location?.href||""}function NV(){return Eb()==="http:"||Eb()==="https:"}function Eb(){return typeof self<"u"&&self.location?.protocol||null}function MV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NV()||qw()||"connection"in navigator)?navigator.onLine:!0}function VV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Tc{constructor(t,n){this.shortDelay=t,this.longDelay=n,$s(n>t,"Short delay should be less than long delay!"),this.isMobile=iM()||aM()}get(){return MV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hy(e,t){$s(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class tA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kV=new Tc(3e4,6e4);function Gy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function wl(e,t,n,s,a={}){return eA(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const d=_c({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:m,...l};return rM()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&bl(e.emulatorConfig.host)&&(g.credentials="include"),tA.fetch()(await nA(e,e.config.apiHost,n,d),g)})}async function eA(e,t,n){e._canInitEmulator=!1;const s={...OV,...t};try{const a=new UV(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ff(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ff(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw ff(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Fy(e,y,g);ms(e,y)}}catch(a){if(a instanceof Pi)throw a;ms(e,"network-request-failed",{message:String(a)})}}async function LV(e,t,n,s,a={}){const l=await wl(e,t,n,s,a);return"mfaPendingCredential"in l&&ms(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function nA(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?Hy(e.config,a):`${e.config.apiScheme}://${a}`;return PV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class UV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),kV.get())})}}function ff(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ii(e,t,s);return a.customData._tokenResponse=n,a}async function jV(e,t){return wl(e,"POST","/v1/accounts:delete",t)}async function Kf(e,t){return wl(e,"POST","/v1/accounts:lookup",t)}function Gu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zV(e,t=!1){const n=Be(e),s=await n.getIdToken(t),a=Ky(s);At(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Gu(og(a.auth_time)),issuedAtTime:Gu(og(a.iat)),expirationTime:Gu(og(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function og(e){return Number(e)*1e3}function Ky(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Lw(n);return a?JSON.parse(a):(wf("Failed to decode base64 JWT payload"),null)}catch(a){return wf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function bb(e){const t=Ky(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ic(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Pi&&BV(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function BV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class FV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $f(e){const t=e.auth,n=await e.getIdToken(),s=await ic(e,Kf(t,{idToken:n}));At(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?iA(a.providerUserInfo):[],c=HV(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,g=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(e,y)}async function qV(e){const t=Be(e);await $f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HV(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function iA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function GV(e,t){const n=await eA(e,{},async()=>{const s=_c({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await nA(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return e.emulatorConfig&&bl(e.emulatorConfig.host)&&(m.credentials="include"),tA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KV(e,t){return wl(e,"POST","/v2/accounts:revokeToken",Gy(e,t))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=bb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await GV(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new nl;return s&&(At(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(At(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return js("not implemented")}}function Vr(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ci{constructor({uid:t,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new FV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await ic(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return zV(this,t)}reload(){return qV(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await $f(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(qa(this.auth));const t=await this.getIdToken();return await ic(this,jV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:R,providerData:D,stsTokenManager:j}=n;At(_&&j,t,"internal-error");const U=nl.fromJSON(this.name,j);At(typeof _=="string",t,"internal-error"),Vr(s,t.name),Vr(a,t.name),At(typeof T=="boolean",t,"internal-error"),At(typeof R=="boolean",t,"internal-error"),Vr(l,t.name),Vr(c,t.name),Vr(d,t.name),Vr(m,t.name),Vr(g,t.name),Vr(y,t.name);const z=new Ci({uid:_,auth:t,email:a,emailVerified:T,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:y});return D&&Array.isArray(D)&&(z.providerData=D.map(B=>({...B}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(t,n,s=!1){const a=new nl;a.updateFromServerResponse(n);const l=new Ci({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await $f(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new nl;d.updateFromIdToken(s);const m=new Ci({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const Sb=new Map;function zs(e){$s(e instanceof Function,"Expected a class definition");let t=Sb.get(e);return t?($s(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Sb.set(e,t),t)}class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sA.type="NONE";const wb=sA;function Af(e,t,n){return`firebase:${e}:${t}:${n}`}class il{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kf(this.auth,{idToken:t}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new il(zs(wb),t,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||zs(wb);const c=Af(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const T=await Kf(t,{idToken:y}).catch(()=>{});if(!T)break;_=await Ci._fromGetAccountInfoResponse(t,T,y)}else _=Ci._fromJSON(t,y);g!==l&&(d=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new il(l,t,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new il(l,t,s))}}function Ab(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cA(t))return"Blackberry";if(hA(t))return"Webos";if(aA(t))return"Safari";if((t.includes("chrome/")||oA(t))&&!t.includes("edge/"))return"Chrome";if(uA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function rA(e=pn()){return/firefox\//i.test(e)}function aA(e=pn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oA(e=pn()){return/crios\//i.test(e)}function lA(e=pn()){return/iemobile/i.test(e)}function uA(e=pn()){return/android/i.test(e)}function cA(e=pn()){return/blackberry/i.test(e)}function hA(e=pn()){return/webos/i.test(e)}function $y(e=pn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $V(e=pn()){return $y(e)&&!!window.navigator?.standalone}function YV(){return oM()&&document.documentMode===10}function fA(e=pn()){return $y(e)||uA(e)||hA(e)||cA(e)||/windows phone/i.test(e)||lA(e)}function dA(e,t=[]){let n;switch(e){case"Browser":n=Ab(pn());break;case"Worker":n=`${Ab(pn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sl}/${s}`}class QV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function XV(e,t={}){return wl(e,"GET","/v2/passwordPolicy",Gy(e,t))}const WV=6;class JV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class ZV{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xb(this),this.idTokenSubscription=new xb(this),this.beforeStateQueue=new QV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await il.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kf(this,{idToken:t}),s=await Ci._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ri(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await $f(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ri(this.app))return Promise.reject(qa(this));const n=t?Be(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ri(this.app)?Promise.reject(qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await XV(this),n=new JV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ja("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&zs(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&IV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ad(e){return Be(e)}class xb{constructor(t){this.auth=t,this.observer=null,this.addObserver=mM(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(e){Yy=e}function eO(e){return Yy.loadJS(e)}function nO(){return Yy.gapiScript}function iO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function sO(e,t){const n=Za(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Kr(l,t??{}))return a;ms(a,"already-initialized")}return n.initialize({options:t})}function rO(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(zs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function aO(e,t,n){const s=Ad(e);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=mA(t),{host:c,port:d}=oO(t),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Kr(g,s.config.emulator)&&Kr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,bl(c)?(Bw(`${l}//${c}${m}`),Fw("Auth",!0)):lO()}function mA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oO(e){const t=mA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Rb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Rb(c)}}}function Rb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function lO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class pA{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return js("not implemented")}_getIdTokenResponse(t){return js("not implemented")}_linkToIdToken(t,n){return js("not implemented")}_getReauthenticationResolver(t){return js("not implemented")}}async function sl(e,t){return LV(e,"POST","/v1/accounts:signInWithIdp",Gy(e,t))}const uO="http://localhost";class Ga extends pA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ga(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ms("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Ga(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return sl(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,sl(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,sl(t,n)}buildRequest(){const t={requestUri:uO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_c(n)}return t}}class Qy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ec extends Qy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Ec{constructor(){super("facebook.com")}static credential(t){return Ga._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class Us extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ga._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Us.credential(n,s)}catch{return null}}}Us.GOOGLE_SIGN_IN_METHOD="google.com";Us.PROVIDER_ID="google.com";class kr extends Ec{constructor(){super("github.com")}static credential(t){return Ga._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";class Lr extends Ec{constructor(){super("twitter.com")}static credential(t,n){return Ga._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";class hl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await Ci._fromIdTokenResponse(t,s,a),c=Cb(s);return new hl({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=Cb(s);return new hl({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function Cb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yf extends Pi{constructor(t,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Yf(t,n,s,a)}}function gA(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(e,l,t,s):l})}async function cO(e,t,n=!1){const s=await ic(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hl._forOperation(e,"link",s)}async function hO(e,t,n=!1){const{auth:s}=e;if(Ri(s.app))return Promise.reject(qa(s));const a="reauthenticate";try{const l=await ic(e,gA(s,a,t,e),n);At(l.idToken,s,"internal-error");const c=Ky(l.idToken);At(c,s,"internal-error");const{sub:d}=c;return At(e.uid===d,s,"user-mismatch"),hl._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ms(s,"user-mismatch"),l}}async function fO(e,t,n=!1){if(Ri(e.app))return Promise.reject(qa(e));const s="signIn",a=await gA(e,s,t),l=await hl._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}function dO(e,t,n,s){return Be(e).onIdTokenChanged(t,n,s)}function mO(e,t,n){return Be(e).beforeAuthStateChanged(t,n)}function pO(e,t,n,s){return Be(e).onAuthStateChanged(t,n,s)}const Qf="__sak";class yA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const gO=1e3,yO=10;class vA extends yA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);YV()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,yO):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},gO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}vA.type="LOCAL";const vO=vA;class _A extends yA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}_A.type="SESSION";const TA=_A;function _O(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class xd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new xd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await _O(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];function Xy(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class TO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Xy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ls(){return window}function EO(e){ls().location.href=e}function EA(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function bO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SO(){return navigator?.serviceWorker?.controller||null}function wO(){return EA()?self:null}const bA="firebaseLocalStorageDb",AO=1,Xf="firebaseLocalStorage",SA="fbase_key";class bc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(e,t){return e.transaction([Xf],t?"readwrite":"readonly").objectStore(Xf)}function xO(){const e=indexedDB.deleteDatabase(bA);return new bc(e).toPromise()}function Kg(){const e=indexedDB.open(bA,AO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Xf,{keyPath:SA})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Xf)?t(s):(s.close(),await xO(),t(await Kg()))})})}async function Ib(e,t,n){const s=Rd(e,!0).put({[SA]:t,value:n});return new bc(s).toPromise()}async function RO(e,t){const n=Rd(e,!1).get(t),s=await new bc(n).toPromise();return s===void 0?null:s.value}function Db(e,t){const n=Rd(e,!0).delete(t);return new bc(n).toPromise()}const CO=800,IO=3;class wA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>IO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return EA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(wO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bO(),!this.activeServiceWorker)return;this.sender=new TO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kg();return await Ib(t,Qf,"1"),await Db(t,Qf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ib(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>RO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Db(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new bc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wA.type="LOCAL";const DO=wA;new Tc(3e4,6e4);function AA(e,t){return t?zs(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class Wy extends pA{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return sl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return sl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function NO(e){return fO(e.auth,new Wy(e),e.bypassAuthState)}function MO(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),hO(n,new Wy(e),e.bypassAuthState)}async function VO(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),cO(n,new Wy(e),e.bypassAuthState)}class xA{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NO;case"linkViaPopup":case"linkViaRedirect":return VO;case"reauthViaPopup":case"reauthViaRedirect":return MO;default:ms(this.auth,"internal-error")}}resolve(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OO=new Tc(2e3,1e4);async function PO(e,t,n){if(Ri(e.app))return Promise.reject(Ii(e,"operation-not-supported-in-this-environment"));const s=Ad(e);DV(e,t,Qy);const a=AA(s,n);return new Ua(s,"signInViaPopup",t,a).executeNotNull()}class Ua extends xA{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){$s(this.filter.length===1,"Popup operations only handle one event");const t=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OO.get())};t()}}Ua.currentPopupAction=null;const kO="pendingRedirect",xf=new Map;class LO extends xA{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=xf.get(this.auth._key());if(!t){try{const s=await UO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}xf.set(this.auth._key(),t)}return this.bypassAuthState||xf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UO(e,t){const n=BO(t),s=zO(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function jO(e,t){xf.set(e._key(),t)}function zO(e){return zs(e._redirectPersistence)}function BO(e){return Af(kO,e.config.apiKey,e.name)}async function FO(e,t,n=!1){if(Ri(e.app))return Promise.reject(qa(e));const s=Ad(e),a=AA(s,t),c=await new LO(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const qO=600*1e3;class HO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!RA(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=qO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nb(t))}saveEventToCache(t){this.cachedEventUids.add(Nb(t)),this.lastProcessedEventTime=Date.now()}}function Nb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function RA({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function GO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(e);default:return!1}}async function KO(e,t={}){return wl(e,"GET","/v1/projects",t)}const $O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YO=/^https?/;async function QO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await KO(e);for(const n of t)try{if(XO(n))return}catch{}ms(e,"unauthorized-domain")}function XO(e){const t=Hg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!YO.test(n))return!1;if($O.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const WO=new Tc(3e4,6e4);function Mb(){const e=ls().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function JO(e){return new Promise((t,n)=>{function s(){Mb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mb(),n(Ii(e,"network-request-failed"))},timeout:WO.get()})}if(ls().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ls().gapi?.load)s();else{const a=iO("iframefcb");return ls()[a]=()=>{gapi.load?s():n(Ii(e,"network-request-failed"))},eO(`${nO()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Rf=null,t})}let Rf=null;function ZO(e){return Rf=Rf||JO(e),Rf}const tP=new Tc(5e3,15e3),eP="__/auth/iframe",nP="emulator/auth/iframe",iP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rP(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Hy(t,nP):`https://${e.config.authDomain}/${eP}`,s={apiKey:t.apiKey,appName:e.name,v:Sl},a=sP.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${_c(s).slice(1)}`}async function aP(e){const t=await ZO(e),n=ls().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:rP(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iP,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ii(e,"network-request-failed"),d=ls().setTimeout(()=>{l(c)},tP.get());function m(){ls().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lP=500,uP=600,cP="_blank",hP="http://localhost";class Vb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fP(e,t,n,s=lP,a=uP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...oP,width:s.toString(),height:a.toString(),top:l,left:c},g=pn().toLowerCase();n&&(d=oA(g)?cP:n),rA(g)&&(t=t||hP,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[R,D])=>`${T}${R}=${D},`,"");if($V(g)&&d!=="_self")return dP(t||"",d),new Vb(null);const _=window.open(t||"",d,y);At(_,e,"popup-blocked");try{_.focus()}catch{}return new Vb(_)}function dP(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const mP="__/auth/handler",pP="emulator/auth/handler",gP=encodeURIComponent("fac");async function Ob(e,t,n,s,a,l){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Sl,eventId:a};if(t instanceof Qy){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",dM(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Ec){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),g=m?`#${gP}=${encodeURIComponent(m)}`:"";return`${yP(e)}?${_c(d).slice(1)}${g}`}function yP({config:e}){return e.emulator?Hy(e,pP):`https://${e.authDomain}/${mP}`}const lg="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TA,this._completeRedirectFn=FO,this._overrideRedirectResult=jO}async _openPopup(t,n,s,a){$s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ob(t,n,s,Hg(),a);return fP(t,l,Xy())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await Ob(t,n,s,Hg(),a);return EO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):($s(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await aP(t),s=new HO(t);return n.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lg,{type:lg},a=>{const l=a?.[0]?.[lg];l!==void 0&&n(!!l),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fA()||aA()||$y()}}const _P=vP;var Pb="@firebase/auth",kb="1.12.0";class TP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function EP(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bP(e){ds(new Vi("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dA(e)},g=new ZV(s,a,l,m);return rO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ds(new Vi("auth-internal",t=>{const n=Ad(t.getProvider("auth").getImmediate());return(s=>new TP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(Pb,kb,EP(e)),ui(Pb,kb,"esm2020")}const SP=300,wP=zw("authIdTokenMaxAge")||SP;let Lb=null;const AP=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wP)return;const a=n?.token;Lb!==a&&(Lb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xP(e=By()){const t=Za(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sO(e,{popupRedirectResolver:_P,persistence:[DO,vO,TA]}),s=zw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=AP(l.toString());mO(n,c,()=>c(n.currentUser)),dO(n,d=>c(d))}}const a=Uw("auth");return a&&aO(n,`http://${a}`),n}function RP(){return document.getElementsByTagName("head")?.[0]??document}tO({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=Ii("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",RP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bP("Browser");var CP="firebase",IP="12.9.0";ui(CP,IP,"app");const CA="@firebase/installations",Jy="0.6.19";const IA=1e4,DA=`w:${Jy}`,NA="FIS_v2",DP="https://firebaseinstallations.googleapis.com/v1",NP=3600*1e3,MP="installations",VP="Installations";const OP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ka=new Ja(MP,VP,OP);function MA(e){return e instanceof Pi&&e.code.includes("request-failed")}function VA({projectId:e}){return`${DP}/projects/${e}/installations`}function OA(e){return{token:e.token,requestStatus:2,expiresIn:kP(e.expiresIn),creationTime:Date.now()}}async function PA(e,t){const s=(await t.json()).error;return Ka.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function kA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function PP(e,{refreshToken:t}){const n=kA(e);return n.append("Authorization",LP(t)),n}async function LA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function kP(e){return Number(e.replace("s","000"))}function LP(e){return`${NA} ${e}`}async function UP({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=VA(e),a=kA(e),l=t.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:NA,appId:e.appId,sdkVersion:DA},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await LA(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:OA(g.authToken)}}else throw await PA("Create Installation",m)}function UA(e){return new Promise(t=>{setTimeout(t,e)})}function jP(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const zP=/^[cdef][\w-]{21}$/,$g="";function BP(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=FP(e);return zP.test(n)?n:$g}catch{return $g}}function FP(e){return jP(e).substr(0,22)}function Cd(e){return`${e.appName}!${e.appId}`}const jA=new Map;function zA(e,t){const n=Cd(e);BA(n,t),qP(n,t)}function BA(e,t){const n=jA.get(e);if(n)for(const s of n)s(t)}function qP(e,t){const n=HP();n&&n.postMessage({key:e,fid:t}),GP()}let ja=null;function HP(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=e=>{BA(e.data.key,e.data.fid)}),ja}function GP(){jA.size===0&&ja&&(ja.close(),ja=null)}const KP="firebase-installations-database",$P=1,$a="firebase-installations-store";let ug=null;function Zy(){return ug||(ug=Yw(KP,$P,{upgrade:(e,t)=>{t===0&&e.createObjectStore($a)}})),ug}async function Wf(e,t){const n=Cd(e),a=(await Zy()).transaction($a,"readwrite"),l=a.objectStore($a),c=await l.get(n);return await l.put(t,n),await a.done,(!c||c.fid!==t.fid)&&zA(e,t.fid),t}async function FA(e){const t=Cd(e),s=(await Zy()).transaction($a,"readwrite");await s.objectStore($a).delete(t),await s.done}async function Id(e,t){const n=Cd(e),a=(await Zy()).transaction($a,"readwrite"),l=a.objectStore($a),c=await l.get(n),d=t(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&zA(e,d.fid),d}async function tv(e){let t;const n=await Id(e.appConfig,s=>{const a=YP(s),l=QP(e,a);return t=l.registrationPromise,l.installationEntry});return n.fid===$g?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function YP(e){const t=e||{fid:BP(),registrationStatus:0};return qA(t)}function QP(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ka.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=XP(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:WP(e)}:{installationEntry:t}}async function XP(e,t){try{const n=await UP(e,t);return Wf(e.appConfig,n)}catch(n){throw MA(n)&&n.customData.serverCode===409?await FA(e.appConfig):await Wf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function WP(e){let t=await Ub(e.appConfig);for(;t.registrationStatus===1;)await UA(100),t=await Ub(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await tv(e);return s||n}return t}function Ub(e){return Id(e,t=>{if(!t)throw Ka.create("installation-not-found");return qA(t)})}function qA(e){return JP(e)?{fid:e.fid,registrationStatus:0}:e}function JP(e){return e.registrationStatus===1&&e.registrationTime+IA<Date.now()}async function ZP({appConfig:e,heartbeatServiceProvider:t},n){const s=t4(e,n),a=PP(e,n),l=t.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:DA,appId:e.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await LA(()=>fetch(s,d));if(m.ok){const g=await m.json();return OA(g)}else throw await PA("Generate Auth Token",m)}function t4(e,{fid:t}){return`${VA(e)}/${t}/authTokens:generate`}async function ev(e,t=!1){let n;const s=await Id(e.appConfig,l=>{if(!HA(l))throw Ka.create("not-registered");const c=l.authToken;if(!t&&i4(c))return l;if(c.requestStatus===1)return n=e4(e,t),l;{if(!navigator.onLine)throw Ka.create("app-offline");const d=r4(l);return n=n4(e,d),d}});return n?await n:s.authToken}async function e4(e,t){let n=await jb(e.appConfig);for(;n.authToken.requestStatus===1;)await UA(100),n=await jb(e.appConfig);const s=n.authToken;return s.requestStatus===0?ev(e,t):s}function jb(e){return Id(e,t=>{if(!HA(t))throw Ka.create("not-registered");const n=t.authToken;return a4(n)?{...t,authToken:{requestStatus:0}}:t})}async function n4(e,t){try{const n=await ZP(e,t),s={...t,authToken:n};return await Wf(e.appConfig,s),n}catch(n){if(MA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await FA(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await Wf(e.appConfig,s)}throw n}}function HA(e){return e!==void 0&&e.registrationStatus===2}function i4(e){return e.requestStatus===2&&!s4(e)}function s4(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+NP}function r4(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function a4(e){return e.requestStatus===1&&e.requestTime+IA<Date.now()}async function o4(e){const t=e,{installationEntry:n,registrationPromise:s}=await tv(t);return s?s.catch(console.error):ev(t).catch(console.error),n.fid}async function l4(e,t=!1){const n=e;return await u4(n),(await ev(n,t)).token}async function u4(e){const{registrationPromise:t}=await tv(e);t&&await t}function c4(e){if(!e||!e.options)throw cg("App Configuration");if(!e.name)throw cg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw cg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function cg(e){return Ka.create("missing-app-config-values",{valueName:e})}const GA="installations",h4="installations-internal",f4=e=>{const t=e.getProvider("app").getImmediate(),n=c4(t),s=Za(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},d4=e=>{const t=e.getProvider("app").getImmediate(),n=Za(t,GA).getImmediate();return{getId:()=>o4(n),getToken:a=>l4(n,a)}};function m4(){ds(new Vi(GA,f4,"PUBLIC")),ds(new Vi(h4,d4,"PRIVATE"))}m4();ui(CA,Jy);ui(CA,Jy,"esm2020");const Jf="analytics",p4="firebase_id",g4="origin",y4=60*1e3,v4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nv="https://www.googletagmanager.com/gtag/js";const wn=new wd("@firebase/analytics");const _4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gn=new Ja("analytics","Analytics",_4);function T4(e){if(!e.startsWith(nv)){const t=Gn.create("invalid-gtag-resource",{gtagURL:e});return wn.warn(t.message),""}return e}function KA(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function E4(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function b4(e,t){const n=E4("firebase-js-sdk-policy",{createScriptURL:T4}),s=document.createElement("script"),a=`${nv}?l=${e}&id=${t}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function S4(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function w4(e,t,n,s,a,l){const c=s[a];try{if(c)await t[c];else{const m=(await KA(n)).find(g=>g.measurementId===a);m&&await t[m.appId]}}catch(d){wn.error(d)}e("config",a,l)}async function A4(e,t,n,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await KA(n);for(const m of c){const g=d.find(_=>_.measurementId===m),y=g&&t[g.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),e("event",s,a||{})}catch(l){wn.error(l)}}function x4(e,t,n,s){async function a(l,...c){try{if(l==="event"){const[d,m]=c;await A4(e,t,n,d,m)}else if(l==="config"){const[d,m]=c;await w4(e,t,n,s,d,m)}else if(l==="consent"){const[d,m]=c;e("consent",d,m)}else if(l==="get"){const[d,m,g]=c;e("get",d,m,g)}else if(l==="set"){const[d]=c;e("set",d)}else e(l,...c)}catch(d){wn.error(d)}}return a}function R4(e,t,n,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=x4(l,e,t,n),{gtagCore:l,wrappedGtag:window[a]}}function C4(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(nv)&&n.src.includes(e))return n;return null}const I4=30,D4=1e3;class N4{constructor(t={},n=D4){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const $A=new N4;function M4(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function V4(e){const{appId:t,apiKey:n}=e,s={method:"GET",headers:M4(n)},a=v4.replace("{app-id}",t),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function O4(e,t=$A,n){const{appId:s,apiKey:a,measurementId:l}=e.options;if(!s)throw Gn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Gn.create("no-api-key")}const c=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new L4;return setTimeout(async()=>{d.abort()},y4),YA({appId:s,apiKey:a,measurementId:l},c,d,t)}async function YA(e,{throttleEndTimeMillis:t,backoffCount:n},s,a=$A){const{appId:l,measurementId:c}=e;try{await P4(s,t)}catch(d){if(c)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await V4(e);return a.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!k4(m)){if(a.deleteThrottleMetadata(l),c)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?fb(n,a.intervalMillis,I4):fb(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,y),wn.debug(`Calling attemptFetch again in ${g} millis`),YA(e,y,s,a)}}function P4(e,t){return new Promise((n,s)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(l),s(Gn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function k4(e){if(!(e instanceof Pi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class L4{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function U4(e,t,n,s,a){if(a&&a.global){e("event",n,s);return}else{const l=await t,c={...s,send_to:l};e("event",n,c)}}async function j4(e,t,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:n})}}async function z4(){if(Hw())try{await Gw()}catch(e){return wn.warn(Gn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return wn.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function B4(e,t,n,s,a,l,c){const d=O4(e);d.then(T=>{n[T.measurementId]=T.appId,e.options.measurementId&&T.measurementId!==e.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>wn.error(T)),t.push(d);const m=z4().then(T=>{if(T)return s.getId()}),[g,y]=await Promise.all([d,m]);C4(l)||b4(l,g.measurementId),a("js",new Date);const _=c?.config??{};return _[g4]="firebase",_.update=!0,y!=null&&(_[p4]=y),a("config",g.measurementId,_),g.measurementId}class F4{constructor(t){this.app=t}_delete(){return delete rl[this.app.options.appId],Promise.resolve()}}let rl={},zb=[];const Bb={};let hg="dataLayer",q4="gtag",Fb,iv,qb=!1;function H4(){const e=[];if(qw()&&e.push("This is a browser extension environment."),uM()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Gn.create("invalid-analytics-context",{errorInfo:t});wn.warn(n.message)}}function G4(e,t,n){H4();const s=e.options.appId;if(!s)throw Gn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(rl[s]!=null)throw Gn.create("already-exists",{id:s});if(!qb){S4(hg);const{wrappedGtag:l,gtagCore:c}=R4(rl,zb,Bb,hg,q4);iv=l,Fb=c,qb=!0}return rl[s]=B4(e,zb,Bb,t,Fb,hg,n),new F4(e)}function K4(e=By()){e=Be(e);const t=Za(e,Jf);return t.isInitialized()?t.getImmediate():$4(e)}function $4(e,t={}){const n=Za(e,Jf);if(n.isInitialized()){const a=n.getImmediate();if(Kr(t,n.getOptions()))return a;throw Gn.create("already-initialized")}return n.initialize({options:t})}function Y4(e,t,n){e=Be(e),j4(iv,rl[e.app.options.appId],t,n).catch(s=>wn.error(s))}function Q4(e,t,n,s){e=Be(e),U4(iv,rl[e.app.options.appId],t,n,s).catch(a=>wn.error(a))}const Hb="@firebase/analytics",Gb="0.10.19";function X4(){ds(new Vi(Jf,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return G4(s,a,n)},"PUBLIC")),ds(new Vi("analytics-internal",e,"PRIVATE")),ui(Hb,Gb),ui(Hb,Gb,"esm2020");function e(t){try{const n=t.getProvider(Jf).getImmediate();return{logEvent:(s,a,l)=>Q4(n,s,a,l),setUserProperties:(s,a)=>Y4(n,s,a)}}catch(n){throw Gn.create("interop-component-reg-failed",{reason:n})}}}X4();var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,QA;(function(){var e;function t(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,L,H){for(var N=Array(arguments.length-2),It=2;It<arguments.length;It++)N[It-2]=arguments[It];return A.prototype[L].apply(P,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)P[L]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(L=0;L<16;++L)P[L]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],L=C.g[2];let H=C.g[3],N;N=A+(H^I&(L^H))+P[0]+3614090360&4294967295,A=I+(N<<7&4294967295|N>>>25),N=H+(L^A&(I^L))+P[1]+3905402710&4294967295,H=A+(N<<12&4294967295|N>>>20),N=L+(I^H&(A^I))+P[2]+606105819&4294967295,L=H+(N<<17&4294967295|N>>>15),N=I+(A^L&(H^A))+P[3]+3250441966&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(H^I&(L^H))+P[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=H+(L^A&(I^L))+P[5]+1200080426&4294967295,H=A+(N<<12&4294967295|N>>>20),N=L+(I^H&(A^I))+P[6]+2821735955&4294967295,L=H+(N<<17&4294967295|N>>>15),N=I+(A^L&(H^A))+P[7]+4249261313&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(H^I&(L^H))+P[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=H+(L^A&(I^L))+P[9]+2336552879&4294967295,H=A+(N<<12&4294967295|N>>>20),N=L+(I^H&(A^I))+P[10]+4294925233&4294967295,L=H+(N<<17&4294967295|N>>>15),N=I+(A^L&(H^A))+P[11]+2304563134&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(H^I&(L^H))+P[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=H+(L^A&(I^L))+P[13]+4254626195&4294967295,H=A+(N<<12&4294967295|N>>>20),N=L+(I^H&(A^I))+P[14]+2792965006&4294967295,L=H+(N<<17&4294967295|N>>>15),N=I+(A^L&(H^A))+P[15]+1236535329&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(L^H&(I^L))+P[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=H+(I^L&(A^I))+P[6]+3225465664&4294967295,H=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(H^A))+P[11]+643717713&4294967295,L=H+(N<<14&4294967295|N>>>18),N=I+(H^A&(L^H))+P[0]+3921069994&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^H&(I^L))+P[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=H+(I^L&(A^I))+P[10]+38016083&4294967295,H=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(H^A))+P[15]+3634488961&4294967295,L=H+(N<<14&4294967295|N>>>18),N=I+(H^A&(L^H))+P[4]+3889429448&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^H&(I^L))+P[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=H+(I^L&(A^I))+P[14]+3275163606&4294967295,H=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(H^A))+P[3]+4107603335&4294967295,L=H+(N<<14&4294967295|N>>>18),N=I+(H^A&(L^H))+P[8]+1163531501&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^H&(I^L))+P[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=H+(I^L&(A^I))+P[2]+4243563512&4294967295,H=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(H^A))+P[7]+1735328473&4294967295,L=H+(N<<14&4294967295|N>>>18),N=I+(H^A&(L^H))+P[12]+2368359562&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(I^L^H)+P[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=H+(A^I^L)+P[8]+2272392833&4294967295,H=A+(N<<11&4294967295|N>>>21),N=L+(H^A^I)+P[11]+1839030562&4294967295,L=H+(N<<16&4294967295|N>>>16),N=I+(L^H^A)+P[14]+4259657740&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^H)+P[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=H+(A^I^L)+P[4]+1272893353&4294967295,H=A+(N<<11&4294967295|N>>>21),N=L+(H^A^I)+P[7]+4139469664&4294967295,L=H+(N<<16&4294967295|N>>>16),N=I+(L^H^A)+P[10]+3200236656&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^H)+P[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=H+(A^I^L)+P[0]+3936430074&4294967295,H=A+(N<<11&4294967295|N>>>21),N=L+(H^A^I)+P[3]+3572445317&4294967295,L=H+(N<<16&4294967295|N>>>16),N=I+(L^H^A)+P[6]+76029189&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^H)+P[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=H+(A^I^L)+P[12]+3873151461&4294967295,H=A+(N<<11&4294967295|N>>>21),N=L+(H^A^I)+P[15]+530742520&4294967295,L=H+(N<<16&4294967295|N>>>16),N=I+(L^H^A)+P[2]+3299628645&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(L^(I|~H))+P[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=H+(I^(A|~L))+P[7]+1126891415&4294967295,H=A+(N<<10&4294967295|N>>>22),N=L+(A^(H|~I))+P[14]+2878612391&4294967295,L=H+(N<<15&4294967295|N>>>17),N=I+(H^(L|~A))+P[5]+4237533241&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~H))+P[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=H+(I^(A|~L))+P[3]+2399980690&4294967295,H=A+(N<<10&4294967295|N>>>22),N=L+(A^(H|~I))+P[10]+4293915773&4294967295,L=H+(N<<15&4294967295|N>>>17),N=I+(H^(L|~A))+P[1]+2240044497&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~H))+P[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=H+(I^(A|~L))+P[15]+4264355552&4294967295,H=A+(N<<10&4294967295|N>>>22),N=L+(A^(H|~I))+P[6]+2734768916&4294967295,L=H+(N<<15&4294967295|N>>>17),N=I+(H^(L|~A))+P[13]+1309151649&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~H))+P[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=H+(I^(A|~L))+P[11]+3174756917&4294967295,H=A+(N<<10&4294967295|N>>>22),N=L+(A^(H|~I))+P[2]+718787259&4294967295,L=H+(N<<15&4294967295|N>>>17),N=I+(H^(L|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+H&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,P=this.C;let L=this.h,H=0;for(;H<A;){if(L==0)for(;H<=I;)a(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<A;)if(P[L++]=C.charCodeAt(H++),L==this.blockSize){a(this,P),L=0;break}}else for(;H<A;)if(P[L++]=C[H++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[A++]=this.g[I]>>>P&255;return C};function l(C,A){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let P=!0;for(let L=C.length-1;L>=0;L--){const H=C[L]|0;P&&H==A||(I[L]=H,P=!1)}this.g=I}var d={};function m(C){return-128<=C&&C<128?l(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return U(g(-C));const A=[];let I=1;for(let P=0;C>=I;P++)A[P]=C/I|0,I*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return U(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let P=_;for(let H=0;H<C.length;H+=8){var L=Math.min(8,C.length-H);const N=parseInt(C.substring(H,H+L),A);L<8?(L=g(Math.pow(A,L)),P=P.j(L).add(g(N))):(P=P.j(I),P=P.add(g(N)))}return P}var _=m(0),T=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-U(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},e.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(j(this))return"-"+U(this).toString(C);const A=g(Math.pow(C,6));var I=this;let P="";for(;;){const L=q(I,A).g;I=z(I,L.j(A));let H=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=L,D(I))return H+P;for(;H.length<6;)H="0"+H;P=H+P}},e.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function j(C){return C.h==-1}e.l=function(C){return C=z(this,C),j(C)?-1:D(C)?0:1};function U(C){const A=C.g.length,I=[];for(let P=0;P<A;P++)I[P]=~C.g[P];return new c(I,~C.h).add(T)}e.abs=function(){return j(this)?U(this):this},e.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let L=0;L<=A;L++){let H=P+(this.i(L)&65535)+(C.i(L)&65535),N=(H>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);P=N>>>16,H&=65535,N&=65535,I[L]=N<<16|H}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(C,A){return C.add(U(A))}e.j=function(C){if(D(this)||D(C))return _;if(j(this))return j(C)?U(this).j(U(C)):U(U(this).j(C));if(j(C))return U(this.j(U(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<C.g.length;L++){const H=this.i(P)>>>16,N=this.i(P)&65535,It=C.i(L)>>>16,Dt=C.i(L)&65535;I[2*P+2*L]+=N*Dt,B(I,2*P+2*L),I[2*P+2*L+1]+=H*Dt,B(I,2*P+2*L+1),I[2*P+2*L+1]+=N*It,B(I,2*P+2*L+1),I[2*P+2*L+2]+=H*It,B(I,2*P+2*L+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function B(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function O(C,A){this.g=C,this.h=A}function q(C,A){if(D(A))throw Error("division by zero");if(D(C))return new O(_,_);if(j(C))return A=q(U(C),A),new O(U(A.g),U(A.h));if(j(A))return A=q(C,U(A)),new O(U(A.g),A.h);if(C.g.length>30){if(j(C)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,P=A;P.l(C)<=0;)I=X(I),P=X(P);var L=ot(I,1),H=ot(P,1);for(P=ot(P,2),I=ot(I,2);!D(P);){var N=H.add(P);N.l(C)<=0&&(L=L.add(I),H=N),P=ot(P,1),I=ot(I,1)}return A=z(C,L.j(A)),new O(L,A)}for(L=_;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),H=g(I),N=H.j(A);j(N)||N.l(C)>0;)I-=P,H=g(I),N=H.j(A);D(H)&&(H=T),L=L.add(H),C=z(C,N)}return new O(L,C)}e.B=function(C){return q(this,C).h},e.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&C.i(P);return new c(I,this.h&C.h)},e.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|C.i(P);return new c(I,this.h|C.h)},e.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^C.i(P);return new c(I,this.h^C.h)};function X(C){const A=C.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(I,C.h)}function ot(C,A){const I=A>>5;A%=32;const P=C.g.length-I,L=[];for(let H=0;H<P;H++)L[H]=A>0?C.i(H+I)>>>A|C.i(H+I+1)<<32-A:C.i(H+I);return new c(L,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,QA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Fr=c}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XA,ju,WA,Cf,Yg,JA,ZA,tx;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var b=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var K=h[x];if(!(K in b))break t;b=b[K]}h=h[h.length-1],x=b[h],v=v(x),v!=x&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&b.push([x,v[x]]);return b}});var l=l||{},c=this||self;function d(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,b){return h.call.apply(h.bind,arguments)}function g(h,v,b){return g=m,g.apply(null,arguments)}function y(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function _(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(x,K,J){for(var ut=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)ut[Ot-2]=arguments[Ot];return v.prototype[K].apply(x,ut)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const v=h.length;if(v>0){const b=Array(v);for(let x=0;x<v;x++)b[x]=h[x];return b}return[]}function D(h,v){for(let x=1;x<arguments.length;x++){const K=arguments[x];var b=typeof K;if(b=b!="object"?b:K?Array.isArray(K)?"array":b:"null",b=="array"||b=="object"&&typeof K.length=="number"){b=h.length||0;const J=K.length||0;h.length=b+J;for(let ut=0;ut<J;ut++)h[b+ut]=K[ut]}else h.push(K)}}class j{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){c.setTimeout(()=>{throw h},0)}function z(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,b){const x=O.get();x.set(v,b),this.h?this.h.next=x:this.g=x,this.h=x}}var O=new j(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ot=!1,C=new B,A=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(I)}};function I(){for(var h;h=z();){try{h.h.call(h.g)}catch(b){U(b)}var v=O;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ot=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,v),c.removeEventListener("test",b,v)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function It(h,v){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}_(It,L),It.prototype.init=function(h,v){const b=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),tt=0;function et(h,v,b,x,K){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!x,this.ha=K,this.key=++tt,this.da=this.fa=!1}function ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,v,b){for(const x in h)v.call(b,h[x],x,h)}function Vt(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function M(h){const v={};for(const b in h)v[b]=h[b];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(h,v){let b,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(b in x)h[b]=x[b];for(let J=0;J<W.length;J++)b=W[J],Object.prototype.hasOwnProperty.call(x,b)&&(h[b]=x[b])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,v,b,x,K){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ut=bt(h,v,x,K);return ut>-1?(v=h[ut],b||(v.fa=!1)):(v=new et(v,this.src,J,!!x,K),v.fa=b,h.push(v)),v};function yt(h,v){const b=v.type;if(b in h.g){var x=h.g[b],K=Array.prototype.indexOf.call(x,v,void 0),J;(J=K>=0)&&Array.prototype.splice.call(x,K,1),J&&(ft(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function bt(h,v,b,x){for(let K=0;K<h.length;++K){const J=h[K];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==x)return K}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),ae={};function St(h,v,b,x,K){if(Array.isArray(v)){for(let J=0;J<v.length;J++)St(h,v[J],b,x,K);return null}return b=sa(b),h&&h[Dt]?h.J(v,b,d(x)?!!x.capture:!1,K):Mt(h,v,b,!1,x,K)}function Mt(h,v,b,x,K,J){if(!v)throw Error("Invalid event type");const ut=d(K)?!!K.capture:!!K;let Ot=Li(h);if(Ot||(h[xt]=Ot=new ct(h)),b=Ot.add(v,b,x,ut,J),b.proxy)return b;if(x=Vn(),b.proxy=x,x.src=h,x.listener=b,h.addEventListener)H||(K=ut),K===void 0&&(K=!1),h.addEventListener(v.toString(),x,K);else if(h.attachEvent)h.attachEvent(gn(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Vn(){function h(b){return v.call(h.src,h.listener,b)}const v=Zs;return h}function be(h,v,b,x,K){if(Array.isArray(v))for(var J=0;J<v.length;J++)be(h,v[J],b,x,K);else x=d(x)?!!x.capture:!!x,b=sa(b),h&&h[Dt]?(h=h.i,J=String(v).toString(),J in h.g&&(v=h.g[J],b=bt(v,b,x,K),b>-1&&(ft(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[J],h.h--)))):h&&(h=Li(h))&&(v=h.g[v.toString()],h=-1,v&&(h=bt(v,b,x,K)),(b=h>-1?v[h]:null)&&Ke(b))}function Ke(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Dt])yt(v.i,h);else{var b=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(b,x,h.capture):v.detachEvent?v.detachEvent(gn(b),x):v.addListener&&v.removeListener&&v.removeListener(x),(b=Li(v))?(yt(b,h),b.h==0&&(b.src=null,v[xt]=null)):ft(h)}}}function gn(h){return h in ae?ae[h]:ae[h]="on"+h}function Zs(h,v){if(h.da)h=!0;else{v=new It(v,this);const b=h.listener,x=h.ha||h.src;h.fa&&Ke(h),h=b.call(x,v)}return h}function Li(h){return h=h[xt],h instanceof ct?h:null}var tr="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(h){return typeof h=="function"?h:(h[tr]||(h[tr]=function(v){return h.handleEvent(v)}),h[tr])}function ye(){P.call(this),this.i=new ct(this),this.M=this,this.G=null}_(ye,P),ye.prototype[Dt]=!0,ye.prototype.removeEventListener=function(h,v,b,x){be(this,h,v,b,x)};function ve(h,v){var b,x=h.G;if(x)for(b=[];x;x=x.G)b.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new L(v,h);else if(v instanceof L)v.target=v.target||h;else{var K=v;v=new L(x,h),lt(v,K)}K=!0;let J,ut;if(b)for(ut=b.length-1;ut>=0;ut--)J=v.g=b[ut],K=Yn(J,x,!0,v)&&K;if(J=v.g=h,K=Yn(J,x,!0,v)&&K,K=Yn(J,x,!1,v)&&K,b)for(ut=0;ut<b.length;ut++)J=v.g=b[ut],K=Yn(J,x,!1,v)&&K}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let x=0;x<b.length;x++)ft(b[x]);delete h.g[v],h.h--}}this.G=null},ye.prototype.J=function(h,v,b,x){return this.i.add(String(h),v,!1,b,x)},ye.prototype.K=function(h,v,b,x){return this.i.add(String(h),v,!0,b,x)};function Yn(h,v,b,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let K=!0;for(let J=0;J<v.length;++J){const ut=v[J];if(ut&&!ut.da&&ut.capture==b){const Ot=ut.listener,we=ut.ha||ut.src;ut.fa&&yt(h.i,ut),K=Ot.call(we,x)!==!1&&K}}return K&&!x.defaultPrevented}function ra(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:c.setTimeout(h,v||0)}function Ui(h){h.g=ra(()=>{h.g=null,h.i&&(h.i=!1,Ui(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class yn extends P{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){P.call(this),this.h=h,this.g={}}_(aa,P);var Vl=[];function Ol(h){Ct(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ke(v)},h),h.g={}}aa.prototype.N=function(){aa.Z.N.call(this),Ol(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=c.JSON.stringify,Xd=c.JSON.parse,Pc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function kc(){}function Lc(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Je(){L.call(this,"d")}_(Je,L);function Qn(){L.call(this,"c")}_(Qn,L);var Se={},Uc=null;function io(){return Uc=Uc||new ye}Se.Ia="serverreachability";function jc(h){L.call(this,Se.Ia,h)}_(jc,L);function ji(h){const v=io();ve(v,new jc(v))}Se.STAT_EVENT="statevent";function oa(h,v){L.call(this,Se.STAT_EVENT,h),this.stat=v}_(oa,L);function Ie(h){const v=io();ve(v,new oa(v,h))}Se.Ja="timingevent";function zi(h,v){L.call(this,Se.Ja,h),this.size=v}_(zi,L);function Bi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},v)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Wd(h,v,b,x,K,J){h.info(function(){if(h.g)if(J){var ut="",Ot=J.split("&");for(let Xt=0;Xt<Ot.length;Xt++){var we=Ot[Xt].split("=");if(we.length>1){const fe=we[0];we=we[1];const Zn=fe.split("_");ut=Zn.length>=2&&Zn[1]=="type"?ut+(fe+"="+we+"&"):ut+(fe+"=redacted&")}}}else ut=null;else ut=J;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+v+`
`+b+`
`+ut})}function zc(h,v,b,x,K,J,ut){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+v+`
`+b+`
`+J+" "+ut})}function Fi(h,v,b,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jd(h,b)+(x?" "+x:"")})}function la(h,v){h.info(function(){return"TIMEOUT: "+v})}di.prototype.info=function(){};function Jd(h,v){if(!h.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var b=J[h];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var K=x[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ut=1;ut<x.length;ut++)x[ut]=""}}}}return er(J)}catch{return v}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function ca(){}_(ca,kc),ca.prototype.g=function(){return new XMLHttpRequest},kl=new ca;function _s(h){return encodeURIComponent(String(h))}function Bc(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function mi(h,v,b,x){this.j=h,this.i=v,this.l=b,this.S=x||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var De={},$e={};function qi(h,v,b){h.M=1,h.A=ha(Me(v)),h.u=b,h.R=!0,so(h,null)}function so(h,v){h.F=Date.now(),Hi(h),h.B=Me(h.A);var b=h.B,x=h.S;Array.isArray(x)||(x=[String(x)]),lo(b.i,"t",x),h.C=0,b=h.j.L,h.h=new pi,h.g=nh(h.j,b?v:null,!h.u),h.P>0&&(h.O=new yn(g(h.Y,h,h.g),h.P)),v=h.V,b=h.g,x=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(Vl[0]=K.toString()),K=Vl);for(let J=0;J<K.length;J++){const ut=St(b,K[J],x||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),ji(),Wd(h.i,h.v,h.B,h.l,h.S,h.u)}mi.prototype.ba=function(h){h=h.target;const v=this.O;v&&vi(h)==3?v.j():this.Y(h)},mi.prototype.Y=function(h){try{if(h==this.g)t:{const Ot=vi(this.g),we=this.g.ya(),Xt=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Ot!=4||we==7||(we==8||Xt<=0?ji(3):ji(2)),Gi(this);var v=this.g.ca();this.X=v;var b=Zd(this);if(this.o=v==200,zc(this.i,this.v,this.B,this.l,this.S,Ot,v),this.o){if(this.U&&!this.L){e:{if(this.g){var x,K=this.g;if((x=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var J=x;break e}}J=null}if(h=J)Fi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ki(this,h);else{this.o=!1,this.m=3,Ie(12),On(this),Xn(this);break t}}if(this.R){h=!0;let fe;for(;!this.K&&this.C<b.length;)if(fe=qc(this,b),fe==$e){Ot==4&&(this.m=4,Ie(14),h=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==De){this.m=4,Ie(15),Fi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Fi(this.i,this.l,fe,null),Ki(this,fe);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||b.length!=0||this.h.h||(this.m=1,Ie(16),h=!1),this.o=this.o&&h,!h)Fi(this.i,this.l,b,"[Invalid Chunked Response]"),On(this),Xn(this);else if(b.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Wl(ut),ut.P=!0,Ie(11))}}else Fi(this.i,this.l,b,null),Ki(this,b);Ot==4&&On(this),this.o&&!this.K&&(Ot==4?Jc(this.j,this):(this.o=!1,Hi(this)))}else Es(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ie(12)):(this.m=0,Ie(13)),On(this),Xn(this)}}}catch{}};function Zd(h){if(!Fc(h))return h.g.la();const v=Ze(h.g);if(v==="")return"";let b="";const x=v.length,K=vi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return On(h),Xn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<x;J++)h.h.h=!0,b+=h.h.i.decode(v[J],{stream:!(K&&J==x-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function Fc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function qc(h,v){var b=h.C,x=v.indexOf(`
`,b);return x==-1?$e:(b=Number(v.substring(b,x)),isNaN(b)?De:(x+=1,x+b>v.length?$e:(v=v.slice(x,x+b),h.C=x+b,v)))}mi.prototype.cancel=function(){this.K=!0,On(this)};function Hi(h){h.T=Date.now()+h.H,ro(h,h.H)}function ro(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Bi(g(h.aa,h),v)}function Gi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(la(this.i,this.B),this.M!=2&&(ji(),Ie(17)),On(this),this.m=2,Xn(this)):ro(this,this.T-h)};function Xn(h){h.j.I==0||h.K||Jc(h.j,h)}function On(h){Gi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Ol(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Ki(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Yi(b.h,h))){if(!h.L&&Yi(b.h,h)&&b.I==3){try{var x=b.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)mo(b),ur(b);else break t;va(b),Ie(18)}}else b.xa=K[1],0<b.xa-b.K&&K[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Bi(g(b.Va,b),6e3));$i(b.h)<=1&&b.ta&&(b.ta=void 0)}else ts(b,11)}else if((h.L||b.g==h)&&mo(b),!N(v))for(K=b.Ba.g.parse(v),v=0;v<K.length;v++){let Xt=K[v];const fe=Xt[0];if(!(fe<=b.K))if(b.K=fe,Xt=Xt[1],b.I==2)if(Xt[0]=="c"){b.M=Xt[1],b.ba=Xt[2];const Zn=Xt[3];Zn!=null&&(b.ka=Zn,b.j.info("VER="+b.ka));const es=Xt[4];es!=null&&(b.za=es,b.j.info("SVER="+b.za));const _i=Xt[5];_i!=null&&typeof _i=="number"&&_i>0&&(x=1.5*_i,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Ti=h.g;if(Ti){const _a=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var J=x.h;J.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(jl(J,J.h),J.h=null))}if(x.G){const po=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(x.wa=po,Jt(x.J,x.G,po))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ut=h;if(x.na=eh(x,x.L?x.ba:null,x.W),ut.L){zl(x.h,ut);var Ot=ut,we=x.O;we&&(Ot.H=we),Ot.D&&(Gi(Ot),Hi(Ot)),x.g=ut}else Xc(x);b.i.length>0&&Zi(b)}else Xt[0]!="stop"&&Xt[0]!="close"||ts(b,7);else b.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?ts(b,7):Ql(b):Xt[0]!="noop"&&b.l&&b.l.qa(Xt),b.A=0)}}ji(4)}catch{}}var Ne=class{constructor(h,v){this.g=h,this.map=v}};function Ll(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $i(h){return h.h?1:h.g?h.g.size:0}function Yi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function jl(h,v){h.g?h.g.add(v):h.h=v}function zl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ll.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return R(h.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const x=h[b].indexOf("=");let K,J=null;x>=0?(K=h[b].substring(0,x),J=h[b].substring(x+1)):K=h[b],v(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Pn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Pn?(this.l=h.l,Ye(this,h.j),this.o=h.o,this.g=h.g,nr(this,h.u),this.h=h.h,Fl(this,Yc(h.i)),this.m=h.m):h&&(v=String(h).match(Hc))?(this.l=!1,Ye(this,v[1]||"",!0),this.o=Qi(v[2]||""),this.g=Qi(v[3]||"",!0),nr(this,v[4]),this.h=Qi(v[5]||"",!0),Fl(this,v[6]||"",!0),this.m=Qi(v[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}Pn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(fa(v,oo,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(fa(v,oo,!0),"@"),h.push(_s(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(fa(b,b.charAt(0)=="/"?ql:Gc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",fa(b,Kc)),h.join("")},Pn.prototype.resolve=function(h){const v=Me(this);let b=!!h.j;b?Ye(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var x=h.h;if(b)nr(v,h.u);else if(b=!!h.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var K=v.h.lastIndexOf("/");K!=-1&&(x=v.h.slice(0,K+1)+x)}if(K=x,K==".."||K==".")x="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){x=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let ut=0;ut<K.length;){const Ot=K[ut++];Ot=="."?x&&ut==K.length&&J.push(""):Ot==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),x&&ut==K.length&&J.push("")):(J.push(Ot),x=!0)}x=J.join("/")}else x=K}return b?v.h=x:b=h.i.toString()!=="",b?Fl(v,Yc(h.i)):b=!!h.m,b&&(v.m=h.m),v};function Me(h){return new Pn(h)}function Ye(h,v,b){h.j=b?Qi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function nr(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Fl(h,v,b){v instanceof sr?(h.i=v,uo(h.i,h.l)):(b||(v=fa(v,ir)),h.i=new sr(v,h.l))}function Jt(h,v,b){h.i.set(v,b)}function ha(h){return Jt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Qi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fa(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,An),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function An(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var oo=/[#\/\?@]/g,Gc=/[#\?:]/g,ql=/[#\?]/g,ir=/[#\?@]/g,Kc=/#/g;function sr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&ao(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}e=sr.prototype,e.add=function(h,v){xn(this),this.i=null,h=rr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function $c(h,v){xn(h),v=rr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Hl(h,v){return xn(h),v=rr(h,v),h.g.has(v)}e.forEach=function(h,v){xn(this),this.g.forEach(function(b,x){b.forEach(function(K){h.call(v,K,x,this)},this)},this)};function Gl(h,v){xn(h);let b=[];if(typeof v=="string")Hl(h,v)&&(b=b.concat(h.g.get(rr(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}e.set=function(h,v){return xn(this),this.i=null,h=rr(this,h),Hl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=Gl(this,h),h.length>0?String(h[0]):v):v};function lo(h,v,b){$c(h,v),b.length>0&&(h.i=null,h.g.set(rr(h,v),R(b)),h.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var b=v[x];const K=_s(b);b=Gl(this,b);for(let J=0;J<b.length;J++){let ut=K;b[J]!==""&&(ut+="="+_s(b[J])),h.push(ut)}}return this.i=h.join("&")};function Yc(h){const v=new sr;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function rr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function uo(h,v){v&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(b,x){const K=x.toLowerCase();x!=K&&($c(this,x),lo(this,K,b))},h)),h.j=v}function gi(h,v){const b=new di;if(c.Image){const x=new Image;x.onload=y(Wn,b,"TestLoadImage: loaded",!0,v,x),x.onerror=y(Wn,b,"TestLoadImage: error",!1,v,x),x.onabort=y(Wn,b,"TestLoadImage: abort",!1,v,x),x.ontimeout=y(Wn,b,"TestLoadImage: timeout",!1,v,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Kl(h,v){const b=new di,x=new AbortController,K=setTimeout(()=>{x.abort(),Wn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(J=>{clearTimeout(K),J.ok?Wn(b,"TestPingServer: ok",!0,v):Wn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(K),Wn(b,"TestPingServer: error",!1,v)})}function Wn(h,v,b,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(b)}catch{}}function ar(){this.g=new Pc}function Xi(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Xi,kc),Xi.prototype.g=function(){return new da(this.i,this.h)};function da(h,v){ye.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(da,ye),e=da.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,yi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||c).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,or(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;co(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function co(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?or(this):yi(this),this.readyState==3&&co(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,or(this))},e.Na=function(h){this.g&&(this.response=h,or(this))},e.ga=function(){this.g&&or(this)};function or(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yi(h)}e.setRequestHeader=function(h,v){this.A.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function yi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let v="";return Ct(h,function(b,x){v+=x,v+=":",v+=b,v+=`\r
`}),v}function ma(h,v,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=Jn(b),typeof h=="string"?b!=null&&_s(b):Jt(h,v,b))}function ne(h){ye.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,ye);var Wi=/^https?$/i,$l=["POST","PUT"];e=ne.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,v,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){pa(this,J);return}if(h=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)b.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const J of x.keys())b.set(J,x.get(J));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call($l,v,void 0)>=0)||x||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ut]of b)this.g.setRequestHeader(J,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){pa(this,J)}};function pa(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Yl(h),Ts(h)}function Yl(h){h.A||(h.A=!0,ve(h,"complete"),ve(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ve(this,"complete"),ve(this,"abort"),Ts(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),ne.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},e.Xa=function(){ga(this)};function ga(h){if(h.h&&typeof l<"u"){if(h.v&&vi(h)==4)setTimeout(h.Ca.bind(h),0);else if(ve(h,"readystatechange"),vi(h)==4){h.h=!1;try{const J=h.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var x;if(x=J===0){let ut=String(h.D).match(Hc)[1]||null;!ut&&c.self&&c.self.location&&(ut=c.self.location.protocol.slice(0,-1)),x=!Wi.test(ut?ut.toLowerCase():"")}b=x}if(b)ve(h,"complete"),ve(h,"success");else{h.o=6;try{var K=vi(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",Yl(h)}}finally{Ts(h)}}}}function Ts(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||ve(h,"ready");try{b.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function vi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Xd(v)}};function Ze(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(h){const v={};h=(h.g&&vi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(N(h[x]))continue;var b=Bc(h[x]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[K]||[];v[K]=J,J.push(b)}Vt(v,function(x){return x.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function lr(h){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,h),this.Za=Ji("retryDelaySeedMs",1e4,h),this.Ta=Ji("forwardChannelMaxRetries",2,h),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(h&&h.concurrentRequestLimit),this.Ba=new ar,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=lr.prototype,e.ka=8,e.I=1,e.connect=function(h,v,b,x){Ie(0),this.W=h,this.H=v||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=eh(this,null,this.W),Zi(this)};function Ql(h){if(ho(h),h.I==3){var v=h.V++,b=Me(h.J);if(Jt(b,"SID",h.M),Jt(b,"RID",v),Jt(b,"TYPE","terminate"),ya(h,b),v=new mi(h,h.j,v),v.M=2,v.A=ha(Me(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=v.A,b=!0),b||(v.g=nh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Hi(v)}th(h)}function ur(h){h.g&&(Wl(h),h.g.cancel(),h.g=null)}function ho(h){ur(h),h.v&&(c.clearTimeout(h.v),h.v=null),mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Zi(h){if(!Ul(h.h)&&!h.m){h.m=!0;var v=h.Ea;X||A(),ot||(X(),ot=!0),C.add(v,h),h.D=0}}function fo(h,v){return $i(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Bi(g(h.Ea,h,v),Zc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new mi(this,this.j,h);let J=this.o;if(this.U&&(J?(J=M(J),lt(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=Qc(this,K,v),b=Me(this.J),Jt(b,"RID",h),Jt(b,"CVER",22),this.G&&Jt(b,"X-HTTP-Session-Id",this.G),ya(this,b),J&&(this.R?v="headers="+_s(Jn(J))+"&"+v:this.u&&ma(b,this.u,J)),jl(this.h,K),this.Ra&&Jt(b,"TYPE","init"),this.S?(Jt(b,"$req",v),Jt(b,"SID","null"),K.U=!0,qi(K,b,null)):qi(K,b,v),this.I=2}}else this.I==3&&(h?Xl(this,h):this.i.length==0||Ul(this.h)||Xl(this))};function Xl(h,v){var b;v?b=v.l:b=h.V++;const x=Me(h.J);Jt(x,"SID",h.M),Jt(x,"RID",b),Jt(x,"AID",h.K),ya(h,x),h.u&&h.o&&ma(x,h.u,h.o),b=new mi(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Qc(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jl(h.h,b),qi(b,x,v)}function ya(h,v){h.H&&Ct(h.H,function(b,x){Jt(v,x,b)}),h.l&&Ct({},function(b,x){Jt(v,x,b)})}function Qc(h,v,b){b=Math.min(h.i.length,b);const x=h.l?g(h.l.Ka,h.l,h):null;t:{var K=h.i;let Ot=-1;for(;;){const we=["count="+b];Ot==-1?b>0?(Ot=K[0].g,we.push("ofs="+Ot)):Ot=0:we.push("ofs="+Ot);let Xt=!0;for(let fe=0;fe<b;fe++){var J=K[fe].g;const Zn=K[fe].map;if(J-=Ot,J<0)Ot=Math.max(0,K[fe].g-100),Xt=!1;else try{J="req"+J+"_"||"";try{var ut=Zn instanceof Map?Zn:Object.entries(Zn);for(const[es,_i]of ut){let Ti=_i;d(_i)&&(Ti=er(_i)),we.push(J+es+"="+encodeURIComponent(Ti))}}catch(es){throw we.push(J+"type="+encodeURIComponent("_badmap")),es}}catch{x&&x(Zn)}}if(Xt){ut=we.join("&");break t}}ut=void 0}return h=h.i.splice(0,b),v.G=h,ut}function Xc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;X||A(),ot||(X(),ot=!0),C.add(v,h),h.A=0}}function va(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Bi(g(h.Da,h),Zc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Wc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Bi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ie(10),ur(this),Wc(this))};function Wl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Wc(h){h.g=new mi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Me(h.na);Jt(v,"RID","rpc"),Jt(v,"SID",h.M),Jt(v,"AID",h.K),Jt(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Jt(v,"TO",h.ia),Jt(v,"TYPE","xmlhttp"),ya(h,v),h.u&&h.o&&ma(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=ha(Me(v)),b.u=null,b.R=!0,so(b,h)}e.Va=function(){this.C!=null&&(this.C=null,ur(this),va(this),Ie(19))};function mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Jc(h,v){var b=null;if(h.g==v){mo(h),Wl(h),h.g=null;var x=2}else if(Yi(h.h,v))b=v.G,zl(h.h,v),x=1;else return;if(h.I!=0){if(v.o)if(x==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var K=h.D;x=io(),ve(x,new zi(x,b)),Zi(h)}else Xc(h);else if(K=v.m,K==3||K==0&&v.X>0||!(x==1&&fo(h,v)||x==2&&va(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),K){case 1:ts(h,5);break;case 4:ts(h,10);break;case 3:ts(h,6);break;default:ts(h,2)}}}function Zc(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function ts(h,v){if(h.j.info("Error code "+v),v==2){var b=g(h.bb,h),x=h.Ua;const K=!x;x=new Pn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ye(x,"https"),ha(x),K?gi(x.toString(),b):Kl(x.toString(),b)}else Ie(2);h.I=0,h.l&&h.l.pa(v),th(h),ho(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ie(2)):(this.j.info("Failed to ping google.com"),Ie(1))};function th(h){if(h.I=0,h.ja=[],h.l){const v=Bl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ja,v),D(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function eh(h,v,b){var x=b instanceof Pn?Me(b):new Pn(b);if(x.g!="")v&&(x.g=v+"."+x.g),nr(x,x.u);else{var K=c.location;x=K.protocol,v=v?v+"."+K.hostname:K.hostname,K=+K.port;const J=new Pn(null);x&&Ye(J,x),v&&(J.g=v),K&&nr(J,K),b&&(J.h=b),x=J}return b=h.G,v=h.wa,b&&v&&Jt(x,b,v),Jt(x,"VER",h.ka),ya(h,x),x}function nh(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new ne(new Xi({ab:b})):new ne(h.ma),v.Fa(h.L),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ih(){}e=ih.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function cr(){}cr.prototype.g=function(h,v){return new vn(h,v)};function vn(h,v){ye.call(this),this.g=new lr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new bs(this)}_(vn,ye),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Ql(this.g)},vn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=er(h),h=b);v.i.push(new Ne(v.Ya++,h)),v.I==3&&Zi(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,vn.Z.N.call(this)};function sh(h){Je.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(sh,Je);function rh(){Qn.call(this),this.status=1}_(rh,Qn);function bs(h){this.g=h}_(bs,ih),bs.prototype.ra=function(){ve(this.g,"a")},bs.prototype.qa=function(h){ve(this.g,new sh(h))},bs.prototype.pa=function(h){ve(this.g,new rh)},bs.prototype.oa=function(){ve(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,tx=function(){return new cr},ZA=function(){return io()},JA=Se,Yg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,Cf=ua,Pl.COMPLETE="complete",WA=Pl,Lc.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ye.prototype.listen=ye.prototype.J,ju=Lc,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,XA=ne}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});let dn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Al="12.9.0";function W4(e){Al=e}const Ya=new wd("@firebase/firestore");function Go(){return Ya.logLevel}function dt(e,...t){if(Ya.logLevel<=Bt.DEBUG){const n=t.map(sv);Ya.debug(`Firestore (${Al}): ${e}`,...n)}}function Ys(e,...t){if(Ya.logLevel<=Bt.ERROR){const n=t.map(sv);Ya.error(`Firestore (${Al}): ${e}`,...n)}}function Qa(e,...t){if(Ya.logLevel<=Bt.WARN){const n=t.map(sv);Ya.warn(`Firestore (${Al}): ${e}`,...n)}}function sv(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function Tt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ex(e,s,n)}function ex(e,t,n){let s=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ys(s),new Error(s)}function Kt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||ex(t,a,s)}function Rt(e,t){return e}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class us{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class nx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class Z4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tk{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new us,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new us)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new nx(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class ek{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nk{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new ek(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $b{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ik{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>s(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $b(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $b(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sk(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class rv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=sk(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function Ft(e,t){return e<t?-1:e>t?1:0}function Qg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const a=e.charAt(s),l=t.charAt(s);if(a!==l)return fg(a)===fg(l)?Ft(a,l):fg(a)?1:-1}return Ft(e.length,t.length)}const rk=55296,ak=57343;function fg(e){const t=e.charCodeAt(0);return t>=rk&&t<=ak}function fl(e,t,n){return e.length===t.length&&e.every(((s,a)=>n(s,t[a])))}const Yb="__name__";class os{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return os.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof os?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=os.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Ft(t.length,n.length)}static compareSegments(t,n){const s=os.isNumericId(t),a=os.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?os.extractNumericId(t).compare(os.extractNumericId(n)):Qg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class ee extends os{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const ok=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends os{construct(t,n,s){return new ln(t,n,s)}static isValidIdentifier(t){return ok.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yb}static keyField(){return new ln([Yb])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ht(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new ht(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(n)}static emptyPath(){return new ln([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ee.fromString(t))}static fromName(t){return new vt(ee.fromString(t).popFirst(5))}static empty(){return new vt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ee(t.slice()))}}function av(e,t,n){if(!n)throw new ht(it.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function lk(e,t,n,s){if(t===!0&&s===!0)throw new ht(it.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qb(e){if(!vt.isDocumentKey(e))throw new ht(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Xb(e){if(vt.isDocumentKey(e))throw new ht(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ix(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Dd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function ps(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dd(e);throw new ht(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ze(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sc(e,t){if(!ix(e))throw new ht(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const a=t[s].typeString,l="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ht(it.INVALID_ARGUMENT,n);return!0}const Wb=-62135596800,Jb=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Jb);return new he(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Wb)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sc(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Wb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:ze("string",he._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new he(0,0))}static max(){return new wt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sc=-1;function uk(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new he(n+1,0):new he(n,s));return new $r(a,vt.empty(),t)}function ck(e){return new $r(e.readTime,e.key,sc)}class $r{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(wt.min(),vt.empty(),sc)}static max(){return new $r(wt.max(),vt.empty(),sc)}}function hk(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=vt.comparator(e.documentKey,t.documentKey),n!==0?n:Ft(e.largestBatchId,t.largestBatchId))}const fk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function xl(e){if(e.code!==it.FAILED_PRECONDITION||e.message!==fk)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):at.reject(n)}static resolve(t){return new at(((n,s)=>{n(t)}))}static reject(t){return new at(((n,s)=>{s(t)}))}static waitFor(t){return new at(((n,s)=>{let a=0,l=0,c=!1;t.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(t){let n=at.resolve(!1);for(const s of t)n=n.next((a=>a?at.resolve(a):s()));return n}static forEach(t,n){const s=[];return t.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(t,n){return new at(((s,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(t[g]).next((y=>{c[g]=y,++d,d===l&&s(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new at(((s,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):s()};l()}))}}function mk(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(e){return e.name==="IndexedDbTransactionError"}class Nd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Nd.ce=-1;const ov=-1;function wc(e){return e==null}function Zf(e){return e===0&&1/e==-1/0}function pk(e){return typeof e=="number"&&Number.isInteger(e)&&!Zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const sx="";function gk(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zb(t)),t=yk(e.get(n),t);return Zb(t)}function yk(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case sx:n+="";break;default:n+=l}}return n}function Zb(e){return e+sx+""}function tS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ea(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ge{constructor(t,n){this.comparator=t,this.root=n||an.EMPTY}insert(t,n){return new ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mf(this.root,t,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mf(this.root,t,this.comparator,!0)}}class mf{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new an(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new an(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new eS(this.data.getIterator())}getIteratorFrom(t){return new eS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new He(this.comparator);return n.data=t,n}}class eS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Hn([])}unionWith(t){let n=new He(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Hn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return fl(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ax("Invalid base64 string: "+l):l}})(t);return new cn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new cn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=vk.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Re(e.seconds),nanos:Re(e.nanos)}}function Re(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qr(e){return typeof e=="string"?cn.fromBase64String(e):cn.fromUint8Array(e)}const ox="server_timestamp",lx="__type__",ux="__previous_value__",cx="__local_write_time__";function lv(e){return(e?.mapValue?.fields||{})[lx]?.stringValue===ox}function Md(e){const t=e.mapValue.fields[ux];return lv(t)?Md(t):t}function rc(e){const t=Yr(e.mapValue.fields[cx].timestampValue);return new he(t.seconds,t.nanos)}class _k{constructor(t,n,s,a,l,c,d,m,g,y,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=_}}const td="(default)";class ac{constructor(t,n){this.projectId=t,this.database=n||td}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===td}isEqual(t){return t instanceof ac&&t.projectId===this.projectId&&t.database===this.database}}function Tk(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ht(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(e.options.projectId,t)}const hx="__type__",Ek="__max__",pf={mapValue:{}},fx="__vector__",ed="value";function Xr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lv(e)?4:Sk(e)?9007199254740991:bk(e)?10:11:Tt(28295,{value:e})}function gs(e,t){if(e===t)return!0;const n=Xr(e);if(n!==Xr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rc(e).isEqual(rc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Yr(a.timestampValue),d=Yr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Qr(a.bytesValue).isEqual(Qr(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Re(a.geoPointValue.latitude)===Re(l.geoPointValue.latitude)&&Re(a.geoPointValue.longitude)===Re(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Re(a.integerValue)===Re(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Re(a.doubleValue),d=Re(l.doubleValue);return c===d?Zf(c)===Zf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return fl(e.arrayValue.values||[],t.arrayValue.values||[],gs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(tS(c)!==tS(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!gs(c[m],d[m])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function oc(e,t){return(e.values||[]).find((n=>gs(n,t)))!==void 0}function dl(e,t){if(e===t)return 0;const n=Xr(e),s=Xr(t);if(n!==s)return Ft(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const d=Re(l.integerValue||l.doubleValue),m=Re(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(e,t);case 3:return nS(e.timestampValue,t.timestampValue);case 4:return nS(rc(e),rc(t));case 5:return Qg(e.stringValue,t.stringValue);case 6:return(function(l,c){const d=Qr(l),m=Qr(c);return d.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Ft(d[g],m[g]);if(y!==0)return y}return Ft(d.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const d=Ft(Re(l.latitude),Re(c.latitude));return d!==0?d:Ft(Re(l.longitude),Re(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return iS(e.arrayValue,t.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[ed]?.arrayValue,y=m[ed]?.arrayValue,_=Ft(g?.values?.length||0,y?.values?.length||0);return _!==0?_:iS(g,y)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===pf.mapValue&&c===pf.mapValue)return 0;if(l===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=Qg(m[_],y[_]);if(T!==0)return T;const R=dl(d[m[_]],g[y[_]]);if(R!==0)return R}return Ft(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function nS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ft(e,t);const n=Yr(e),s=Yr(t),a=Ft(n.seconds,s.seconds);return a!==0?a:Ft(n.nanos,s.nanos)}function iS(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=dl(n[a],s[a]);if(l)return l}return Ft(n.length,s.length)}function ml(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Qr(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return vt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Xg(l);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xg(n.fields[c])}`;return a+"}"})(e.mapValue):Tt(61005,{value:e})}function If(e){switch(Xr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Md(e);return t?16+If(t):16;case 5:return 2*e.stringValue.length;case 6:return Qr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+If(l)),0)})(e.arrayValue);case 10:case 11:return(function(s){let a=0;return ea(s.fields,((l,c)=>{a+=l.length+If(c)})),a})(e.mapValue);default:throw Tt(13486,{value:e})}}function sS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wg(e){return!!e&&"integerValue"in e}function uv(e){return!!e&&"arrayValue"in e}function rS(e){return!!e&&"nullValue"in e}function aS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Df(e){return!!e&&"mapValue"in e}function bk(e){return(e?.mapValue?.fields||{})[hx]?.stringValue===fx}function Ku(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ea(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ku(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ku(e.arrayValue.values[n]);return t}return{...e}}function Sk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ek}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Df(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ku(n)}setAll(t){let n=ln.emptyPath(),s={},a=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Ku(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){ea(n,((a,l)=>t[a]=l));for(const a of s)delete t[a]}clone(){return new Tn(Ku(this.value))}}function dx(e){const t=[];return ea(e.fields,((n,s)=>{const a=new ln([n]);if(Df(s)){const l=dx(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new Hn(t)}class We{constructor(t,n,s,a,l,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new We(t,0,wt.min(),wt.min(),wt.min(),Tn.empty(),0)}static newFoundDocument(t,n,s,a){return new We(t,1,n,wt.min(),s,a,0)}static newNoDocument(t,n){return new We(t,2,n,wt.min(),wt.min(),Tn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,wt.min(),wt.min(),Tn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nd{constructor(t,n){this.position=t,this.inclusive=n}}function oS(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=vt.comparator(vt.fromName(c.referenceValue),n.key):s=dl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function lS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gs(e.position[n],t.position[n]))return!1;return!0}class lc{constructor(t,n="asc"){this.field=t,this.dir=n}}function wk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mx{}class je extends mx{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new xk(t,n,s):n==="array-contains"?new Ik(t,s):n==="in"?new Dk(t,s):n==="not-in"?new Nk(t,s):n==="array-contains-any"?new Mk(t,s):new je(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Rk(t,s):new Ck(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends mx{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Oi(t,n)}matches(t){return px(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function px(e){return e.op==="and"}function gx(e){return Ak(e)&&px(e)}function Ak(e){for(const t of e.filters)if(t instanceof Oi)return!1;return!0}function Jg(e){if(e instanceof je)return e.field.canonicalString()+e.op.toString()+ml(e.value);if(gx(e))return e.filters.map((t=>Jg(t))).join(",");{const t=e.filters.map((n=>Jg(n))).join(",");return`${e.op}(${t})`}}function yx(e,t){return e instanceof je?(function(s,a){return a instanceof je&&s.op===a.op&&s.field.isEqual(a.field)&&gs(s.value,a.value)})(e,t):e instanceof Oi?(function(s,a){return a instanceof Oi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&yx(c,a.filters[d])),!0):!1})(e,t):void Tt(19439)}function vx(e){return e instanceof je?(function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`})(e):e instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(vx).join(" ,")+"}"})(e):"Filter"}class xk extends je{constructor(t,n,s){super(t,n,s),this.key=vt.fromName(s.referenceValue)}matches(t){const n=vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Rk extends je{constructor(t,n){super(t,"in",n),this.keys=_x("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Ck extends je{constructor(t,n){super(t,"not-in",n),this.keys=_x("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _x(e,t){return(t.arrayValue?.values||[]).map((n=>vt.fromName(n.referenceValue)))}class Ik extends je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uv(n)&&oc(n.arrayValue,this.value)}}class Dk extends je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}}class Nk extends je{constructor(t,n){super(t,"not-in",n)}matches(t){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oc(this.value.arrayValue,n)}}class Mk extends je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>oc(this.value.arrayValue,s)))}}class Vk{constructor(t,n=null,s=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function uS(e,t=null,n=[],s=[],a=null,l=null,c=null){return new Vk(e,t,n,s,a,l,c)}function cv(e){const t=Rt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Jg(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),wc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>ml(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>ml(s))).join(",")),t.Te=n}return t.Te}function hv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lS(e.startAt,t.startAt)&&lS(e.endAt,t.endAt)}function Zg(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class to{constructor(t,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ok(e,t,n,s,a,l,c,d){return new to(e,t,n,s,a,l,c,d)}function fv(e){return new to(e)}function cS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Pk(e){return vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Tx(e){return e.collectionGroup!==null}function $u(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new He(ln.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new lc(l,s))})),n.has(ln.keyField().canonicalString())||t.Ie.push(new lc(ln.keyField(),s))}return t.Ie}function cs(e){const t=Rt(e);return t.Ee||(t.Ee=kk(t,$u(e))),t.Ee}function kk(e,t){if(e.limitType==="F")return uS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new lc(a.field,l)}));const n=e.endAt?new nd(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new nd(e.startAt.position,e.startAt.inclusive):null;return uS(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ty(e,t){const n=e.filters.concat([t]);return new to(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lk(e,t){const n=e.explicitOrderBy.concat([t]);return new to(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function id(e,t,n){return new to(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vd(e,t){return hv(cs(e),cs(t))&&e.limitType===t.limitType}function Ex(e){return`${cv(cs(e))}|lt:${e.limitType}`}function Ko(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>vx(a))).join(", ")}]`),wc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>ml(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>ml(a))).join(",")),`Target(${s})`})(cs(e))}; limitType=${e.limitType})`}function Od(e,t){return t.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):vt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(e,t)&&(function(s,a){for(const l of $u(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const g=oS(c,d,m);return c.inclusive?g<=0:g<0})(s.startAt,$u(s),a)||s.endAt&&!(function(c,d,m){const g=oS(c,d,m);return c.inclusive?g>=0:g>0})(s.endAt,$u(s),a))})(e,t)}function Uk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bx(e){return(t,n)=>{let s=!1;for(const a of $u(e)){const l=jk(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function jk(e,t,n){const s=e.field.isKeyField()?vt.comparator(t.key,n.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?dl(m,g):Tt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:e.dir})}}class eo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,((n,s)=>{for(const[a,l]of s)t(a,l)}))}isEmpty(){return rx(this.inner)}size(){return this.innerSize}}const zk=new ge(vt.comparator);function Qs(){return zk}const Sx=new ge(vt.comparator);function zu(...e){let t=Sx;for(const n of e)t=t.insert(n.key,n);return t}function wx(e){let t=Sx;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function za(){return Yu()}function Ax(){return Yu()}function Yu(){return new eo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Bk=new ge(vt.comparator),Fk=new He(vt.comparator);function qt(...e){let t=Fk;for(const n of e)t=t.add(n);return t}const qk=new He(Ft);function Hk(){return qk}function dv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function xx(e){return{integerValue:""+e}}function Gk(e,t){return pk(t)?xx(t):dv(e,t)}class Pd{constructor(){this._=void 0}}function Kk(e,t,n){return e instanceof sd?(function(a,l){const c={fields:{[lx]:{stringValue:ox},[cx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&lv(l)&&(l=Md(l)),l&&(c.fields[ux]=l),{mapValue:c}})(n,t):e instanceof uc?Cx(e,t):e instanceof cc?Ix(e,t):(function(a,l){const c=Rx(a,l),d=hS(c)+hS(a.Ae);return Wg(c)&&Wg(a.Ae)?xx(d):dv(a.serializer,d)})(e,t)}function $k(e,t,n){return e instanceof uc?Cx(e,t):e instanceof cc?Ix(e,t):n}function Rx(e,t){return e instanceof rd?(function(s){return Wg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(t)?t:{integerValue:0}:null}class sd extends Pd{}class uc extends Pd{constructor(t){super(),this.elements=t}}function Cx(e,t){const n=Dx(t);for(const s of e.elements)n.some((a=>gs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class cc extends Pd{constructor(t){super(),this.elements=t}}function Ix(e,t){let n=Dx(t);for(const s of e.elements)n=n.filter((a=>!gs(a,s)));return{arrayValue:{values:n}}}class rd extends Pd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function hS(e){return Re(e.integerValue||e.doubleValue)}function Dx(e){return uv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Yk(e,t){return e.field.isEqual(t.field)&&(function(s,a){return s instanceof uc&&a instanceof uc||s instanceof cc&&a instanceof cc?fl(s.elements,a.elements,gs):s instanceof rd&&a instanceof rd?gs(s.Ae,a.Ae):s instanceof sd&&a instanceof sd})(e.transform,t.transform)}class Qk{constructor(t,n){this.version=t,this.transformResults=n}}class En{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new En}static exists(t){return new En(void 0,t)}static updateTime(t){return new En(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class kd{}function Nx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mv(e.key,En.none()):new Ac(e.key,e.data,En.none());{const n=e.data,s=Tn.empty();let a=new He(ln.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new na(e.key,s,new Hn(a.toArray()),En.none())}}function Xk(e,t,n){e instanceof Ac?(function(a,l,c){const d=a.value.clone(),m=dS(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof na?(function(a,l,c){if(!Nf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=dS(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Mx(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Qu(e,t,n,s){return e instanceof Ac?(function(l,c,d,m){if(!Nf(l.precondition,c))return d;const g=l.value.clone(),y=mS(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof na?(function(l,c,d,m){if(!Nf(l.precondition,c))return d;const g=mS(l.fieldTransforms,m,c),y=c.data;return y.setAll(Mx(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,s):(function(l,c,d){return Nf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function Wk(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=Rx(s.transform,a||null);l!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,l))}return n||null}function fS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&fl(s,a,((l,c)=>Yk(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ac extends kd{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class na extends kd{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function dS(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);s.set(l.field,$k(c,d,n[a]))}return s}function mS(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,Kk(l,c,t))}return s}class mv extends kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jk{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&Xk(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Qu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Qu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Ax();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=Nx(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),qt())}isEqual(t){return this.batchId===t.batchId&&fl(this.mutations,t.mutations,((n,s)=>fS(n,s)))&&fl(this.baseMutations,t.baseMutations,((n,s)=>fS(n,s)))}}class pv{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let a=(function(){return Bk})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new pv(t,n,s,a)}}class Zk{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tL{constructor(t,n){this.count=t,this.unchangedNames=n}}var Le,Gt;function Ox(e){switch(e){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Px(e){if(e===void 0)return Ys("GRPC error has no .code"),it.UNKNOWN;switch(e){case Le.OK:return it.OK;case Le.CANCELLED:return it.CANCELLED;case Le.UNKNOWN:return it.UNKNOWN;case Le.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Le.INTERNAL:return it.INTERNAL;case Le.UNAVAILABLE:return it.UNAVAILABLE;case Le.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Le.NOT_FOUND:return it.NOT_FOUND;case Le.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Le.ABORTED:return it.ABORTED;case Le.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Le.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:e})}}(Gt=Le||(Le={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function eL(){return new TextEncoder}const nL=new Fr([4294967295,4294967295],0);function pS(e){const t=eL().encode(e),n=new QA;return n.update(t),new Uint8Array(n.digest())}function gS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Fr([n,s],0),new Fr([a,l],0)]}class gv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Bu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Fr.fromNumber(this.ge)}ye(t,n,s){let a=t.add(n.multiply(Fr.fromNumber(s)));return a.compare(nL)===1&&(a=new Fr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=pS(t),[s,a]=gS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new gv(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=pS(t),[s,a]=gS(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,xc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ld(wt.min(),a,new ge(Ft),Qs(),qt())}}class xc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new xc(s,n,qt(),qt(),qt())}}class Mf{constructor(t,n,s,a){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=a}}class kx{constructor(t,n){this.targetId=t,this.Ce=n}}class Lx{constructor(t,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class yS{constructor(){this.ve=0,this.Fe=vS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),n=qt(),s=qt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Tt(38017,{changeType:l})}})),new xc(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=vS()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class iL{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qs(),this.He=gf(),this.Je=gf(),this.Ze=new ge(Ft)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,s=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Zg(l))if(s===0){const c=new vt(l.path);this.et(n,c,We.newNoDocument(c,wt.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Qr(s).toUint8Array()}catch(m){if(m instanceof ax)return Qa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new gv(c,a,l)}catch(m){return Qa(m instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Zg(d.target)){const m=new vt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,We.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=qt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(t)));const a=new Ld(t,n,this.Ze,this.je,s);return this.je=Qs(),this.He=gf(),this.Je=gf(),this.Ze=new ge(Ft),a}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new yS,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new He(Ft),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new He(Ft),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new yS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function gf(){return new ge(vt.comparator)}function vS(){return new ge(vt.comparator)}const sL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aL={and:"AND",or:"OR"};class oL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ey(e,t){return e.useProto3Json||wc(t)?t:{value:t}}function ad(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ux(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lL(e,t){return ad(e,t.toTimestamp())}function Kn(e){return Kt(!!e,49232),wt.fromTimestamp((function(n){const s=Yr(n);return new he(s.seconds,s.nanos)})(e))}function yv(e,t){return ny(e,t).canonicalString()}function ny(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function jx(e){const t=ee.fromString(e);return Kt(Gx(t),10190,{key:t.toString()}),t}function od(e,t){return yv(e.databaseId,t.path)}function Xu(e,t){const n=jx(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vt(Bx(n))}function zx(e,t){return yv(e.databaseId,t)}function uL(e){const t=jx(e);return t.length===4?ee.emptyPath():Bx(t)}function iy(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bx(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function _S(e,t,n){return{name:od(e,t),fields:n.value.mapValue.fields}}function cL(e,t){return"found"in t?(function(s,a){Kt(!!a.found,43571),a.found.name,a.found.updateTime;const l=Xu(s,a.found.name),c=Kn(a.found.updateTime),d=a.found.createTime?Kn(a.found.createTime):wt.min(),m=new Tn({mapValue:{fields:a.found.fields}});return We.newFoundDocument(l,c,d,m)})(e,t):"missing"in t?(function(s,a){Kt(!!a.missing,3894),Kt(!!a.readTime,22933);const l=Xu(s,a.missing),c=Kn(a.readTime);return We.newNoDocument(l,c)})(e,t):Tt(7234,{result:t})}function hL(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Kt(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?it.UNKNOWN:Px(g.code);return new ht(y,g.message||"")})(c);n=new Lx(s,a,l,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xu(e,s.document.name),l=Kn(s.document.updateTime),c=s.document.createTime?Kn(s.document.createTime):wt.min(),d=new Tn({mapValue:{fields:s.document.fields}}),m=We.newFoundDocument(a,l,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Mf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=Xu(e,s.document),l=s.readTime?Kn(s.readTime):wt.min(),c=We.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Mf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=Xu(e,s.document),l=s.removedTargetIds||[];n=new Mf([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new tL(a,l),d=s.targetId;n=new kx(d,c)}}return n}function Fx(e,t){let n;if(t instanceof Ac)n={update:_S(e,t.key,t.value)};else if(t instanceof mv)n={delete:od(e,t.key)};else if(t instanceof na)n={update:_S(e,t.key,t.data),updateMask:TL(t.fieldMask)};else{if(!(t instanceof Vx))return Tt(16599,{dt:t.type});n={verify:od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof sd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rd)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Tt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:lL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)})(e,t.precondition)),n}function fL(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?Kn(a.updateTime):Kn(l);return c.isEqual(wt.min())&&(c=Kn(l)),new Qk(c,a.transformResults||[])})(n,t)))):[]}function dL(e,t){return{documents:[zx(e,t.path)]}}function mL(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zx(e,a);const l=(function(g){if(g.length!==0)return Hx(Oi.create(g,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:$o(T.field),direction:yL(T.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ey(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:a}}function pL(e){let t=uL(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Kt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const T=qx(_);return T instanceof Oi&&gx(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((T=>(function(D){return new lc(Yo(D.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let T;return T=typeof _=="object"?_.value:_,wc(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(_){const T=!!_.before,R=_.values||[];return new nd(R,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(_){const T=!_.before,R=_.values||[];return new nd(R,T)})(n.endAt)),Ok(t,a,c,l,d,"F",m,g)}function gL(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function qx(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Yo(n.unaryFilter.field);return je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(n.unaryFilter.field);return je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(n.unaryFilter.field);return je.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(n.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return je.create(Yo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>qx(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(n.compositeFilter.op))})(e):Tt(30097,{filter:e})}function yL(e){return sL[e]}function vL(e){return rL[e]}function _L(e){return aL[e]}function $o(e){return{fieldPath:e.canonicalString()}}function Yo(e){return ln.fromServerFormat(e.fieldPath)}function Hx(e){return e instanceof je?(function(n){if(n.op==="=="){if(aS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(rS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(rS(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:vL(n.op),value:n.value}}})(e):e instanceof Oi?(function(n){const s=n.getFilters().map((a=>Hx(a)));return s.length===1?s[0]:{compositeFilter:{op:_L(n.op),filters:s}}})(e):Tt(54877,{filter:e})}function TL(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function Gx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Kx(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Ur{constructor(t,n,s,a,l=wt.min(),c=wt.min(),d=cn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class EL{constructor(t){this.yt=t}}function bL(e){const t=pL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?id(t,t.limit,"L"):t}class SL{constructor(){this.Sn=new wL}addToCollectionParentIndex(t,n){return this.Sn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve($r.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve($r.min())}updateCollectionGroup(t,n,s){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class wL{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new He(ee.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new He(ee.comparator)).toArray()}}const TS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$x=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn($x,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class pl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}const ES="LruGarbageCollector",AL=1048576;function bS([e,t],[n,s]){const a=Ft(e,n);return a===0?Ft(t,s):a}class xL{constructor(t){this.Pr=t,this.buffer=new He(bS),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RL{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){dt(ES,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?dt(ES,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Ar(3e5)}))}}class CL{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return at.resolve(Nd.ce);const s=new xL(n);return this.Vr.forEachTarget(t,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(TS)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TS):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(t,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s)))).next((_=>(g=Date.now(),Go()<=Bt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function IL(e,t){return new CL(e,t)}class DL{constructor(){this.changes=new eo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?at.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class NL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class ML{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(s!==null&&Qu(s.mutation,a,Hn.empty(),he.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,qt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=qt()){const a=za();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,s).next((l=>{let c=zu();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=za();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,qt())))}populateOverlays(t,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,a){let l=Qs();const c=Yu(),d=(function(){return Yu()})();return n.forEach(((m,g)=>{const y=s.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof na)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Qu(y.mutation,g,y.mutation.getFieldMask(),he.now())):c.set(g.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>d.set(g,new NL(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Yu();let a=new ge(((c,d)=>c-d)),l=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||Hn.empty();y=d.applyToLocalView(g,y),s.set(m,y);const _=(a.get(d.batchId)||qt()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,_=Ax();y.forEach((T=>{if(!l.has(T)){const R=Nx(n.get(T),s.get(T));R!==null&&_.set(T,R),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,_))}return at.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,a){return Pk(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Tx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):at.resolve(za());let d=sc,m=l;return c.next((g=>at.forEach(g,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,qt()))).next((y=>({batchId:d,changes:wx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new vt(n)).next((s=>{let a=zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(t,l).next((d=>at.forEach(d,(m=>{const g=(function(_,T){return new to(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next((y=>{y.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,We.newInvalidDocument(y)))}));let d=zu();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Qu(y.mutation,g,Hn.empty(),he.now()),Od(n,g)&&(d=d.insert(m,g))})),d}))}}class VL{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return at.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}})(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:bL(a.bundledQuery),readTime:Kn(a.readTime)}})(n)),at.resolve()}}class OL{constructor(){this.overlays=new ge(vt.comparator),this.Lr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const s=za();return at.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((a,l)=>{this.bt(t,n,l)})),at.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),at.resolve()}getOverlaysForCollection(t,n,s){const a=za(),l=n.length+1,c=new vt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return at.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ge(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=l.get(g.largestBatchId);y===null&&(y=za(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=a)););return at.resolve(d)}bt(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Zk(n,s));let l=this.Lr.get(n);l===void 0&&(l=qt(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class PL{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}class vv{constructor(){this.kr=new He(Xe.Kr),this.qr=new He(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Xe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Xe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new vt(new ee([])),s=new Xe(n,t),a=new Xe(n,t+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new vt(new ee([])),s=new Xe(n,t),a=new Xe(n,t+1);let l=qt();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new Xe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Xe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return vt.comparator(t.key,n.key)||Ft(t.Hr,n.Hr)}static Ur(t,n){return Ft(t.Hr,n.Hr)||vt.comparator(t.key,n.key)}}class kL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new He(Xe.Kr)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Jk(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new Xe(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,n){return at.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return at.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?ov:this.Yn-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Xe(n,0),a=new Xe(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),at.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new He(Ft);return n.forEach((a=>{const l=new Xe(a,0),c=new Xe(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{s=s.add(d.Hr)}))})),at.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;vt.isDocumentKey(l)||(l=l.child(""));const c=new Xe(new vt(l),0);let d=new He(Ft);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Hr)),!0)}),c),at.resolve(this.Yr(d))}Yr(t){const n=[];return t.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){Kt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return at.forEach(n.mutations,(a=>{const l=new Xe(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Xe(n,0),a=this.Jr.firstAfterOrEqual(s);return at.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LL{constructor(t){this.ti=t,this.docs=(function(){return new ge(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return at.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=Qs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():We.newInvalidDocument(a))})),at.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Qs();const c=n.path,d=new vt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||hk(ck(y),s)<=0||(a.has(y.key)||Od(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Tt(9500)}ni(t,n){return at.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new UL(this)}getSize(t){return at.resolve(this.size)}}class UL extends DL{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(s)})),at.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class jL{constructor(t){this.persistence=t,this.ri=new eo((n=>cv(n)),hv),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new vv,this.targetCount=0,this.oi=pl._r()}forEachTarget(t,n){return this.ri.forEach(((s,a)=>n(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),at.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new pl(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.lr(n),at.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)})),at.waitFor(l).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return at.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),at.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),at.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return at.resolve(s)}containsKey(t,n){return at.resolve(this.si.containsKey(n))}}class Yx{constructor(t,n){this._i={},this.overlays={},this.ai=new Nd(0),this.ui=!1,this.ui=!0,this.ci=new PL,this.referenceDelegate=t(this),this.li=new jL(this),this.indexManager=new SL,this.remoteDocumentCache=(function(a){return new LL(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new EL(n),this.Pi=new VL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new OL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new kL(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const a=new zL(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return at.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class zL extends dk{constructor(t){super(),this.currentSequenceNumber=t}}class _v{constructor(t){this.persistence=t,this.Ri=new vv,this.Ai=null}static Vi(t){return new _v(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),at.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.di,(s=>{const a=vt.fromPath(s);return this.mi(t,a).next((l=>{l||n.removeEntry(a,wt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return at.or([()=>at.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ld{constructor(t,n){this.persistence=t,this.fi=new eo((s=>gk(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=IL(this,n)}static Vi(t,n){return new ld(t,n)}Ti(){}Ii(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((a=>s+a))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return at.forEach(this.fi,((s,a)=>this.wr(t,s,a).next((l=>l?at.resolve():n(a)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(c=>this.wr(t,c,n).next((d=>{d||(s++,l.removeEntry(c,wt.min()))})))).next((()=>l.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),at.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),at.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=If(t.data.value)),n}wr(t,n,s){return at.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return at.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Tv{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=a}static Es(t,n){let s=qt(),a=qt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Tv(t,n.fromCache,s,a)}}class BL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class FL{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return lM()?8:mk(pn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.gs(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(t,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BL;return this.ys(t,n,c).next((d=>{if(l.result=d,this.As)return this.ws(t,n,c,d.size)}))})).next((()=>l.result))}ws(t,n,s,a){return s.documentReadCount<this.Vs?(Go()<=Bt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Go()<=Bt.DEBUG&&dt("QueryEngine","Query:",Ko(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Go()<=Bt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cs(n))):at.resolve())}gs(t,n){if(cS(n))return at.resolve(null);let s=cs(n);return this.indexManager.getIndexType(t,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=id(n,null,"F"),s=cs(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((l=>{const c=qt(...l);return this.fs.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((m=>{const g=this.bs(n,d);return this.Ss(n,g,c,m.readTime)?this.gs(t,id(n,null,"F")):this.Ds(t,g,n,m)}))))})))))}ps(t,n,s,a){return cS(n)||a.isEqual(wt.min())?at.resolve(null):this.fs.getDocuments(t,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?at.resolve(null):(Go()<=Bt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ko(n)),this.Ds(t,c,n,uk(a,sc)).next((d=>d)))}))}bs(t,n){let s=new He(bx(t));return n.forEach(((a,l)=>{Od(t,l)&&(s=s.add(l))})),s}Ss(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,n,s){return Go()<=Bt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.fs.getDocumentsMatchingQuery(t,n,$r.min(),s)}Ds(t,n,s,a){return this.fs.getDocumentsMatchingQuery(t,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ev="LocalStore",qL=3e8;class HL{constructor(t,n,s,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new ge(Ft),this.Fs=new eo((l=>cv(l)),hv),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ML(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function GL(e,t,n,s){return new HL(e,t,n,s)}async function Qx(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=qt();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function KL(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=t.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const _=g.batch,T=_.keys();let R=at.resolve();return T.forEach((D=>{R=R.next((()=>y.getEntry(m,D))).next((j=>{const U=g.docVersions.get(D);Kt(U!==null,48541),j.version.compareTo(U)<0&&(_.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,t,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=qt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function Xx(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function $L(e,t){const n=Rt(e),s=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const d=[];t.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;d.push(n.li.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.li.addMatchingKeys(l,y.addedDocuments,_))));let R=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?R=R.withResumeToken(cn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),a=a.insert(_,R),(function(j,U,z){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=qL?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,R,y)&&d.push(n.li.updateTargetData(l,R))}));let m=Qs(),g=qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(YL(l,c,t.documentUpdates).next((y=>{m=y.Bs,g=y.Ls}))),!s.isEqual(wt.min())){const y=n.li.getLastRemoteSnapshotVersion(l).next((_=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(y)}return at.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.vs=a,l)))}function YL(e,t,n){let s=qt(),a=qt();return n.forEach((l=>s=s.add(l))),t.getEntries(e,s).next((l=>{let c=Qs();return n.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(Ev,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:a}}))}function QL(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ov),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function XL(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,t).next((l=>l?(a=l,at.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Ur(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function sy(e,t,n){const s=Rt(e),a=s.vs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Rl(c))throw c;dt(Ev,`Failed to update sequence numbers for target ${t}: ${c}`)}s.vs=s.vs.remove(t),s.Fs.delete(a.target)}function SS(e,t,n){const s=Rt(e);let a=wt.min(),l=qt();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const _=Rt(m),T=_.Fs.get(y);return T!==void 0?at.resolve(_.vs.get(T)):_.li.getTargetData(g,y)})(s,c,cs(t)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:qt()))).next((d=>(WL(s,Uk(t),d),{documents:d,ks:l})))))}function WL(e,t,n){let s=e.Ms.get(t)||wt.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),e.Ms.set(t,s)}class wS{constructor(){this.activeTargetIds=Hk()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JL{constructor(){this.vo=new wS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new wS,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ZL{Mo(t){}shutdown(){}}const AS="ConnectivityMonitor";class xS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){dt(AS,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){dt(AS,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yf=null;function ry(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}const dg="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class e3{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===td?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(t,n,s,a,l){const c=ry(),d=this.Qo(t,n.toUriEncodedString());dt(dg,`Sending RPC '${t}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(d),y=bl(g);return this.zo(t,d,m,s,y).then((_=>(dt(dg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Qa(dg,`RPC '${t}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}jo(t,n,s,a,l,c){return this.Wo(t,n,s,a,l)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),s&&s.headers.forEach(((a,l)=>t[l]=a))}Qo(t,n){const s=t3[t];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class n3{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",Lu=(e,t,n)=>{e.listen(t,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class al extends e3{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!al.c_){const t=ZA();Lu(t,JA.STAT_EVENT,(n=>{n.stat===Yg.PROXY?dt(fn,"STAT_EVENT: detected buffering proxy"):n.stat===Yg.NOPROXY&&dt(fn,"STAT_EVENT: detected no buffering proxy")})),al.c_=!0}}zo(t,n,s,a,l){const c=ry();return new Promise(((d,m)=>{const g=new XA;g.setWithCredentials(!0),g.listenOnce(WA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Cf.NO_ERROR:const _=g.getResponseJson();dt(fn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),d(_);break;case Cf.TIMEOUT:dt(fn,`RPC '${t}' ${c} timed out`),m(new ht(it.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const T=g.getStatus();if(dt(fn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R?.error;if(D&&D.status&&D.message){const j=(function(z){const B=z.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(B)>=0?B:it.UNKNOWN})(D.status);m(new ht(j,D.message))}else m(new ht(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ht(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{dt(fn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(fn,`RPC '${t}' ${c} sending request:`,a),g.send(n,"POST",y,s,15)}))}T_(t,n,s){const a=ry(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const g=l.join("");dt(fn,`Creating RPC '${t}' stream ${a}: ${g}`,d);const y=c.createWebChannel(g,d);this.I_(y);let _=!1,T=!1;const R=new n3({Ho:D=>{T?dt(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(_||(dt(fn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),_=!0),dt(fn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Lu(y,ju.EventType.OPEN,(()=>{T||(dt(fn,`RPC '${t}' stream ${a} transport opened.`),R.i_())})),Lu(y,ju.EventType.CLOSE,(()=>{T||(T=!0,dt(fn,`RPC '${t}' stream ${a} transport closed`),R.o_(),this.E_(y))})),Lu(y,ju.EventType.ERROR,(D=>{T||(T=!0,Qa(fn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),R.o_(new ht(it.UNAVAILABLE,"The operation could not be completed")))})),Lu(y,ju.EventType.MESSAGE,(D=>{if(!T){const j=D.data[0];Kt(!!j,16349);const U=j,z=U?.error||U[0]?.error;if(z){dt(fn,`RPC '${t}' stream ${a} received error:`,z);const B=z.status;let O=(function(ot){const C=Le[ot];if(C!==void 0)return Px(C)})(B),q=z.message;B==="NOT_FOUND"&&q.includes("database")&&q.includes("does not exist")&&q.includes(this.databaseId.database)&&Qa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),O===void 0&&(O=it.INTERNAL,q="Unknown error status: "+B+" with message "+z.message),T=!0,R.o_(new ht(O,q)),y.close()}else dt(fn,`RPC '${t}' stream ${a} received:`,j),R.__(j)}})),al.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return tx()}}function i3(e){return new al(e)}function mg(){return typeof document<"u"?document:null}function Ud(e){return new oL(e,!0)}al.c_=!1;class bv{constructor(t,n,s=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const RS="PersistentStream";class Wx{constructor(t,n,s,a,l,c,d,m){this.Ci=t,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bv(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{t((()=>{const a=new ht(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(RS,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(dt(RS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s3 extends Wx{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=hL(this.serializer,t),s=(function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Kn(c.readTime):wt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=iy(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=Zg(m)?{documents:dL(l,m)}:{query:mL(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ux(l,c.resumeToken);const g=ey(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(wt.min())>0){d.readTime=ad(l,c.snapshotVersion.toTimestamp());const g=ey(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=gL(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=iy(this.serializer),n.removeTarget=t,this.K_(n)}}class r3 extends Wx{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=fL(t.writeResults,t.commitTime),s=Kn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=iy(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>Fx(this.serializer,s)))};this.K_(n)}}class a3{}class o3 extends a3{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,ny(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(it.UNKNOWN,l.toString())}))}jo(t,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(t,ny(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function l3(e,t,n,s){return new o3(e,t,n,s)}class u3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class c3{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{no(this)&&(dt(Xa,"Restarting streams for network reachability change."),await(async function(m){const g=Rt(m);g.Ea.add(4),await Rc(g),g.Va.set("Unknown"),g.Ea.delete(4),await jd(g)})(this))}))})),this.Va=new u3(s,a)}}async function jd(e){if(no(e))for(const t of e.Ra)await t(!0)}async function Rc(e){for(const t of e.Ra)await t(!1)}function Jx(e,t){const n=Rt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xv(n)?Av(n):Cl(n).O_()&&wv(n,t))}function Sv(e,t){const n=Rt(e),s=Cl(n);n.Ia.delete(t),s.O_()&&Zx(n,t),n.Ia.size===0&&(s.O_()?s.L_():no(n)&&n.Va.set("Unknown"))}function wv(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Cl(e).Z_(t)}function Zx(e,t){e.da.$e(t),Cl(e).X_(t)}function Av(e){e.da=new iL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Cl(e).start(),e.Va.ua()}function xv(e){return no(e)&&!Cl(e).x_()&&e.Ia.size>0}function no(e){return Rt(e).Ea.size===0}function tR(e){e.da=void 0}async function h3(e){e.Va.set("Online")}async function f3(e){e.Ia.forEach(((t,n)=>{wv(e,t)}))}async function d3(e,t){tR(e),xv(e)?(e.Va.ha(t),Av(e)):e.Va.set("Unknown")}async function m3(e,t,n){if(e.Va.set("Online"),t instanceof Lx&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(e,t)}catch(s){dt(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ud(e,s)}else if(t instanceof Mf?e.da.Xe(t):t instanceof kx?e.da.st(t):e.da.tt(t),!n.isEqual(wt.min()))try{const s=await Xx(e.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),Zx(l,m);const _=new Ur(y.target,m,g,y.sequenceNumber);wv(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){dt(Xa,"Failed to raise snapshot:",s),await ud(e,s)}}async function ud(e,t,n){if(!Rl(t))throw t;e.Ea.add(1),await Rc(e),e.Va.set("Offline"),n||(n=()=>Xx(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Xa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await jd(e)}))}function eR(e,t){return t().catch((n=>ud(e,n,t)))}async function zd(e){const t=Rt(e),n=Wr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ov;for(;p3(t);)try{const a=await QL(t.localStore,s);if(a===null){t.Ta.length===0&&n.L_();break}s=a.batchId,g3(t,a)}catch(a){await ud(t,a)}nR(t)&&iR(t)}function p3(e){return no(e)&&e.Ta.length<10}function g3(e,t){e.Ta.push(t);const n=Wr(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function nR(e){return no(e)&&!Wr(e).x_()&&e.Ta.length>0}function iR(e){Wr(e).start()}async function y3(e){Wr(e).ra()}async function v3(e){const t=Wr(e);for(const n of e.Ta)t.ea(n.mutations)}async function _3(e,t,n){const s=e.Ta.shift(),a=pv.from(s,t,n);await eR(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await zd(e)}async function T3(e,t){t&&Wr(e).Y_&&await(async function(s,a){if((function(c){return Ox(c)&&c!==it.ABORTED})(a.code)){const l=s.Ta.shift();Wr(s).B_(),await eR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await zd(s)}})(e,t),nR(e)&&iR(e)}async function CS(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),dt(Xa,"RemoteStore received new credentials");const s=no(n);n.Ea.add(3),await Rc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jd(n)}async function E3(e,t){const n=Rt(e);t?(n.Ea.delete(2),await jd(n)):t||(n.Ea.add(2),await Rc(n),n.Va.set("Unknown"))}function Cl(e){return e.ma||(e.ma=(function(n,s,a){const l=Rt(n);return l.sa(),new s3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:h3.bind(null,e),Yo:f3.bind(null,e),t_:d3.bind(null,e),J_:m3.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),xv(e)?Av(e):e.Va.set("Unknown")):(await e.ma.stop(),tR(e))}))),e.ma}function Wr(e){return e.fa||(e.fa=(function(n,s,a){const l=Rt(n);return l.sa(),new r3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:y3.bind(null,e),t_:T3.bind(null,e),ta:v3.bind(null,e),na:_3.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await zd(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(Xa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Rv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,d=new Rv(t,n,c,a,l);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(e,t){if(Ys("AsyncQueue",`${t}: ${e}`),Rl(e))return new ht(it.UNAVAILABLE,`${t}: ${e}`);throw e}class ol{static emptySet(t){return new ol(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||vt.comparator(n.key,s.key):(n,s)=>vt.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ol)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ol;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class IS{constructor(){this.ga=new ge(vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class gl{constructor(t,n,s,a,l,c,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new gl(t,n,ol.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class b3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class S3{constructor(){this.queries=DS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Rt(n),l=a.queries;a.queries=DS(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(s)}))})(this,new ht(it.ABORTED,"Firestore shutting down"))}}function DS(){return new eo((e=>Ex(e)),Vd)}async function sR(e,t){const n=Rt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.Da()&&(s=2):(l=new b3,s=t.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Cv(c,`Initialization of query '${Ko(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.ba.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Iv(n)}async function rR(e,t){const n=Rt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(t);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function w3(e,t){const n=Rt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(s=!0);c.wa=a}}s&&Iv(n)}function A3(e,t,n){const s=Rt(e),a=s.queries.get(t);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(t)}function Iv(e){e.Ca.forEach((t=>{t.next()}))}var ay,NS;(NS=ay||(ay={})).Ma="default",NS.Cache="cache";class aR{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new gl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=gl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ay.Cache}}class oR{constructor(t){this.key=t}}class lR{constructor(t){this.key=t}}class x3{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qt(),this.mutatedKeys=qt(),this.eu=bx(t),this.tu=new ol(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new IS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const T=a.get(y),R=Od(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;T&&R?T.data.isEqual(R.data)?D!==j&&(s.track({type:3,doc:R}),U=!0):this.su(T,R)||(s.track({type:2,doc:R}),U=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!T&&R?(s.track({type:0,doc:R}),U=!0):T&&!R&&(s.track({type:1,doc:T}),U=!0,(m||g)&&(d=!0)),U&&(R?(c=c.add(R),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(R,D){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:U})}};return j(R)-j(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new gl(this.query,t.tu,l,c,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=qt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new lR(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new oR(s))})),n}cu(t){this.Za=t.ks,this.Ya=qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dv="SyncEngine";class R3{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class C3{constructor(t){this.key=t,this.hu=!1}}class I3{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new eo((d=>Ex(d)),Vd),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(vt.comparator),this.Au=new Map,this.Vu=new vv,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function D3(e,t,n=!0){const s=mR(e);let a;const l=s.Tu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await uR(s,t,n,!0),a}async function N3(e,t){const n=mR(e);await uR(n,t,!0,!1)}async function uR(e,t,n,s){const a=await XL(e.localStore,cs(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await M3(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&Jx(e.remoteStore,a),d}async function M3(e,t,n,s,a){e.pu=(_,T,R)=>(async function(j,U,z,B){let O=U.view.ru(z);O.Ss&&(O=await SS(j.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,O))));const q=B&&B.targetChanges.get(U.targetId),X=B&&B.targetMismatches.get(U.targetId)!=null,ot=U.view.applyChanges(O,j.isPrimaryClient,q,X);return VS(j,U.targetId,ot.au),ot.snapshot})(e,_,T,R);const l=await SS(e.localStore,t,!0),c=new x3(t,l.ks),d=c.ru(l.documents),m=xc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),g=c.applyChanges(d,e.isPrimaryClient,m);VS(e,n,g.au);const y=new R3(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function V3(e,t,n){const s=Rt(e),a=s.Tu.get(t),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vd(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await sy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Sv(s.remoteStore,a.targetId),oy(s,a.targetId)})).catch(xl)):(oy(s,a.targetId),await sy(s.localStore,a.targetId,!0))}async function O3(e,t){const n=Rt(e),s=n.Tu.get(t),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sv(n.remoteStore,s.targetId))}async function P3(e,t,n){const s=F3(e);try{const a=await(function(c,d){const m=Rt(c),g=he.now(),y=d.reduce(((R,D)=>R.add(D.key)),qt());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let D=Qs(),j=qt();return m.xs.getEntries(R,y).next((U=>{D=U,D.forEach(((z,B)=>{B.isValidDocument()||(j=j.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,D))).next((U=>{_=U;const z=[];for(const B of d){const O=Wk(B,_.get(B.key).overlayedDocument);O!=null&&z.push(new na(B.key,O,dx(O.value.mapValue),En.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,z,d)})).next((U=>{T=U;const z=U.applyToLocalDocumentSet(_,j);return m.documentOverlayCache.saveOverlays(R,U.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:wx(_)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.du[c.currentUser.toKey()];g||(g=new ge(Ft)),g=g.insert(d,m),c.du[c.currentUser.toKey()]=g})(s,a.batchId,n),await Cc(s,a.changes),await zd(s.remoteStore)}catch(a){const l=Cv(a,"Failed to persist write");n.reject(l)}}async function cR(e,t){const n=Rt(e);try{const s=await $L(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Kt(c.hu,14607):a.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Cc(n,s,t)}catch(s){await xl(s)}}function MS(e,t,n){const s=Rt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Rt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,_)=>{for(const T of _.ba)T.va(d)&&(g=!0)})),g&&Iv(m)})(s.eventManager,t),a.length&&s.Pu.J_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function k3(e,t,n){const s=Rt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Au.get(t),l=a&&a.key;if(l){let c=new ge(vt.comparator);c=c.insert(l,We.newNoDocument(l,wt.min()));const d=qt().add(l),m=new Ld(wt.min(),new Map,new ge(Ft),c,d);await cR(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(t),Nv(s)}else await sy(s.localStore,t,!1).then((()=>oy(s,t,n))).catch(xl)}async function L3(e,t){const n=Rt(e),s=t.batch.batchId;try{const a=await KL(n.localStore,t);fR(n,s,null),hR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,a)}catch(a){await xl(a)}}async function U3(e,t,n){const s=Rt(e);try{const a=await(function(c,d){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((_=>(Kt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(s.localStore,t);fR(s,t,n),hR(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cc(s,a)}catch(a){await xl(a)}}function hR(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function fR(e,t,n){const s=Rt(e);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.du[s.currentUser.toKey()]=a}}function oy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((s=>{e.Vu.containsKey(s)||dR(e,s)}))}function dR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Sv(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Nv(e))}function VS(e,t,n){for(const s of n)s instanceof oR?(e.Vu.addReference(s.key,t),j3(e,s)):s instanceof lR?(dt(Dv,"Document no longer in limbo: "+s.key),e.Vu.removeReference(s.key,t),e.Vu.containsKey(s.key)||dR(e,s.key)):Tt(19791,{wu:s})}function j3(e,t){const n=t.key,s=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(s)||(dt(Dv,"New document in limbo: "+n),e.Eu.add(s),Nv(e))}function Nv(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new vt(ee.fromString(t)),s=e.fu.next();e.Au.set(s,new C3(n)),e.Ru=e.Ru.insert(n,s),Jx(e.remoteStore,new Ur(cs(fv(n.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function Cc(e,t,n){const s=Rt(e),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const y=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Tv.Es(m.targetId,g);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(m,g){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>at.forEach(g,(T=>at.forEach(T.Ts,(R=>y.persistence.referenceDelegate.addReference(_,T.targetId,R))).next((()=>at.forEach(T.Is,(R=>y.persistence.referenceDelegate.removeReference(_,T.targetId,R)))))))))}catch(_){if(!Rl(_))throw _;dt(Ev,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const R=y.vs.get(T),D=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(T,j)}}})(s.localStore,l))}async function z3(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){dt(Dv,"User change. New user:",t.toKey());const s=await Qx(n.localStore,t);n.currentUser=t,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ht(it.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.Ns)}}function B3(e,t){const n=Rt(e),s=n.Au.get(t);if(s&&s.hu)return qt().add(s.key);{let a=qt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function mR(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=B3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k3.bind(null,t),t.Pu.J_=w3.bind(null,t.eventManager),t.Pu.yu=A3.bind(null,t.eventManager),t}function F3(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=L3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U3.bind(null,t),t}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ud(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return GL(this.persistence,new FL,t.initialUser,this.serializer)}Cu(t){return new Yx(_v.Vi,this.serializer)}Du(t){return new JL}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class q3 extends cd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof ld,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RL(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Yx((s=>ld.Vi(s,n)),this.serializer)}}class ly{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>MS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new S3})()}createDatastore(t){const n=Ud(t.databaseInfo.databaseId),s=i3(t.databaseInfo);return l3(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,a,l,c,d){return new c3(s,a,l,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>MS(this.syncEngine,n,0)),(function(){return xS.v()?new xS:new ZL})())}createSyncEngine(t,n){return(function(a,l,c,d,m,g,y){const _=new I3(a,l,c,d,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Rt(n);dt(Xa,"RemoteStore shutting down."),s.Ea.add(5),await Rc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ly.provider={build:()=>new ly};class pR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ys("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}let H3=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(a,l){const c=Rt(a),d={documents:l.map((_=>od(c.serializer,_)))},m=await c.jo("BatchGetDocuments",c.serializer.databaseId,ee.emptyPath(),d,l.length),g=new Map;m.forEach((_=>{const T=cL(c.serializer,_);g.set(T.key.toString(),T)}));const y=[];return l.forEach((_=>{const T=g.get(_.toString());Kt(!!T,55234,{key:_}),y.push(T)})),y})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new mv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const a=vt.fromPath(s);this.mutations.push(new Vx(a,this.precondition(a)))})),await(async function(s,a){const l=Rt(s),c={writes:a.map((d=>Fx(l.serializer,d)))};await l.Wo("Commit",l.serializer.databaseId,ee.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Tt(50498,{Gu:t.constructor.name});n=wt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new ht(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(wt.min())?En.exists(!1):En.updateTime(n):En.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(wt.min()))throw new ht(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(n)}return En.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class G3{constructor(t,n,s,a,l){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=a,this.deferred=l,this.zu=s.maxAttempts,this.M_=new bv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new H3(this.datastore),n=this.Ju(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((a=>{this.Zu(a)}))))})).catch((s=>{this.Zu(s)}))}))}Ju(t){try{const n=this.updateFunction(t);return!wc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Ox(n)}return!1}}const Jr="FirestoreClient";class K3{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=rv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{dt(Jr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(dt(Jr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Cv(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function pg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Jr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async a=>{s.isEqual(a)||(await Qx(t.localStore,a),s=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function OS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $3(e);dt(Jr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>CS(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,a)=>CS(t.remoteStore,a))),e._onlineComponents=t}async function $3(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Jr,"Using user provided OfflineComponentProvider");try{await pg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await pg(e,new cd)}}else dt(Jr,"Using default OfflineComponentProvider"),await pg(e,new q3(void 0));return e._offlineComponents}async function Mv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Jr,"Using user provided OnlineComponentProvider"),await OS(e,e._uninitializedComponentsProvider._online)):(dt(Jr,"Using default OnlineComponentProvider"),await OS(e,new ly))),e._onlineComponents}function Y3(e){return Mv(e).then((t=>t.syncEngine))}function Q3(e){return Mv(e).then((t=>t.datastore))}async function gR(e){const t=await Mv(e),n=t.eventManager;return n.onListen=D3.bind(null,t.syncEngine),n.onUnlisten=V3.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=N3.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=O3.bind(null,t.syncEngine),n}function X3(e,t,n={}){const s=new us;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new pR({next:T=>{y.Nu(),c.enqueueAndForget((()=>rR(l,_)));const R=T.docs.has(d);!R&&T.fromCache?g.reject(new ht(it.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&m&&m.source==="server"?g.reject(new ht(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new aR(fv(d.path),y,{includeMetadataChanges:!0,Ka:!0});return sR(l,_)})(await gR(e),e.asyncQueue,t,n,s))),s.promise}function W3(e,t,n={}){const s=new us;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new pR({next:T=>{y.Nu(),c.enqueueAndForget((()=>rR(l,_))),T.fromCache&&m.source==="server"?g.reject(new ht(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new aR(d,y,{includeMetadataChanges:!0,Ka:!0});return sR(l,_)})(await gR(e),e.asyncQueue,t,n,s))),s.promise}function J3(e,t){const n=new us;return e.asyncQueue.enqueueAndForget((async()=>P3(await Y3(e),t,n))),n.promise}function Z3(e,t,n){const s=new us;return e.asyncQueue.enqueueAndForget((async()=>{const a=await Q3(e);new G3(e.asyncQueue,a,n,t,s).ju()})),s.promise}function yR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const t6="ComponentProvider",PS=new Map;function e6(e,t,n,s,a){return new _k(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,yR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const vR="firestore.googleapis.com",kS=!0;class LS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vR,this.ssl=kS}else this.host=t.host,this.ssl=t.ssl??kS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$x;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AL)throw new ht(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ic{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new J4;switch(s.type){case"firstParty":return new nk(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=PS.get(n);s&&(dt(t6,"Removing Datastore"),PS.delete(n),s.terminate())})(this),Promise.resolve()}}function n6(e,t,n,s={}){e=ps(e,Ic);const a=bl(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(Bw(`https://${d}`),Fw("Firestore",!0)),l.host!==vR&&l.host!==d&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Kr(m,c)&&(e._setSettings(m),s.mockUserToken)){let g,y;if(typeof s.mockUserToken=="string")g=s.mockUserToken,y=dn.MOCK_USER;else{g=tM(s.mockUserToken,e._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ht(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(_)}e._authCredentials=new Z4(new nx(g,y))}}class Ws{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ws(this.firestore,t,this._query)}}class Ce{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Sc(n,Ce._jsonSchema))return new Ce(t,s||null,new vt(ee.fromString(n.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:ze("string",Ce._jsonSchemaVersion),referencePath:ze("string")};class qr extends Ws{constructor(t,n,s){super(t,n,fv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new vt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Fs(e,t,...n){if(e=Be(e),av("collection","path",t),e instanceof Ic){const s=ee.fromString(t,...n);return Xb(s),new qr(e,null,s)}{if(!(e instanceof Ce||e instanceof qr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return Xb(s),new qr(e.firestore,null,s)}}function _R(e,t){if(e=ps(e,Ic),av("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ht(it.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(e,null,(function(s){return new to(ee.emptyPath(),s)})(t))}function on(e,t,...n){if(e=Be(e),arguments.length===1&&(t=rv.newId()),av("doc","path",t),e instanceof Ic){const s=ee.fromString(t,...n);return Qb(s),new Ce(e,null,new vt(s))}{if(!(e instanceof Ce||e instanceof qr))throw new ht(it.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ee.fromString(t,...n));return Qb(s),new Ce(e.firestore,e instanceof qr?e.converter:null,new vt(s))}}const US="AsyncQueue";class jS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bv(this,"async_queue_retry"),this._c=()=>{const s=mg();s&&dt(US,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Rl(t))throw t;dt(US,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",zS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Rv.createAndSchedule(this,t,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Tt(47125,{Pc:zS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Il extends Ic{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new jS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jS(t),this._firestoreClient=void 0,await t}}}function i6(e,t){const n=typeof e=="object"?e:By(),s=typeof e=="string"?e:td,a=Za(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=JN("firestore");l&&n6(a,...l)}return a}function Bd(e){if(e._terminated)throw new ht(it.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||s6(e),e._firestoreClient}function s6(e){const t=e._freezeSettings(),n=e6(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new K3(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(cn.fromBase64String(t))}catch(n){throw new ht(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sc(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:ze("string",qn._jsonSchemaVersion),bytes:ze("string")};class Vv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ov{constructor(t){this._methodName=t}}class hs{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hs._jsonSchemaVersion}}static fromJSON(t){if(Sc(t,hs._jsonSchema))return new hs(t.latitude,t.longitude)}}hs._jsonSchemaVersion="firestore/geoPoint/1.0",hs._jsonSchema={type:ze("string",hs._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};class Di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sc(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Di(t.vectorValues);throw new ht(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:ze("string",Di._jsonSchemaVersion),vectorValues:ze("object")};const r6=/^__.*__$/;class a6{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(t,this.data,n,this.fieldTransforms)}}class TR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new na(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ER(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class Pv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Pv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return hd(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(ER(this.dataSource)&&r6.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class o6{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(t)}createContext(t,n,s,a=!1){return new Pv({dataSource:t,methodName:n,targetDoc:s,path:ln.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(e){const t=e._freezeSettings(),n=Ud(e._databaseId);return new o6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kv(e,t,n,s,a,l={}){const c=e.createContext(l.merge||l.mergeFields?2:0,t,n,a);Lv("Data must be an object, but it was:",c,s);const d=bR(s,c);let m,g;if(l.merge)m=new Hn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=Wa(t,_,n);if(!c.contains(T))throw new ht(it.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);AR(y,T)||y.push(T)}m=new Hn(y),g=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=c.fieldTransforms;return new a6(new Tn(d),m,g)}class qd extends Ov{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof qd}}function l6(e,t,n,s){const a=e.createContext(1,t,n);Lv("Data must be an object, but it was:",a,s);const l=[],c=Tn.empty();ea(s,((m,g)=>{const y=wR(t,m,n);g=Be(g);const _=a.childContextForFieldPath(y);if(g instanceof qd)l.push(y);else{const T=Dc(g,_);T!=null&&(l.push(y),c.set(y,T))}}));const d=new Hn(l);return new TR(c,d,a.fieldTransforms)}function u6(e,t,n,s,a,l){const c=e.createContext(1,t,n),d=[Wa(t,s,n)],m=[a];if(l.length%2!=0)throw new ht(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(Wa(t,l[T])),m.push(l[T+1]);const g=[],y=Tn.empty();for(let T=d.length-1;T>=0;--T)if(!AR(g,d[T])){const R=d[T];let D=m[T];D=Be(D);const j=c.childContextForFieldPath(R);if(D instanceof qd)g.push(R);else{const U=Dc(D,j);U!=null&&(g.push(R),y.set(R,U))}}const _=new Hn(g);return new TR(y,_,c.fieldTransforms)}function c6(e,t,n,s=!1){return Dc(n,e.createContext(s?4:3,t))}function Dc(e,t){if(SR(e=Be(e)))return Lv("Unsupported field value:",t,e),bR(e,t);if(e instanceof Ov)return(function(s,a){if(!ER(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=Dc(d,a.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(s,a){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=he.fromDate(s);return{timestampValue:ad(a.serializer,l)}}if(s instanceof he){const l=new he(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(s instanceof hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Ux(a.serializer,s._byteString)};if(s instanceof Ce){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Di)return(function(c,d){const m=c instanceof Di?c.toArray():c;return{mapValue:{fields:{[hx]:{stringValue:fx},[ed]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return dv(d.serializer,y)}))}}}}}})(s,a);if(Kx(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Dd(s)}`)})(e,t)}function bR(e,t){const n={};return rx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(e,((s,a)=>{const l=Dc(a,t.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function SR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof he||e instanceof hs||e instanceof qn||e instanceof Ce||e instanceof Ov||e instanceof Di||Kx(e))}function Lv(e,t,n){if(!SR(n)||!ix(n)){const s=Dd(n);throw s==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+s)}}function Wa(e,t,n){if((t=Be(t))instanceof Vv)return t._internalPath;if(typeof t=="string")return wR(e,t);throw hd("Field path arguments must be of type string or ",e,!1,void 0,n)}const h6=new RegExp("[~\\*/\\[\\]]");function wR(e,t,n){if(t.search(h6)>=0)throw hd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vv(...t.split("."))._internalPath}catch{throw hd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hd(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new ht(it.INVALID_ARGUMENT,d+e+m)}function AR(e,t){return e.some((n=>n.isEqual(t)))}class xR{convertValue(t,n="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ea(t,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(t){const n=t.fields?.[ed].arrayValue?.values?.map((s=>Re(s.doubleValue)));return new Di(n)}convertGeoPoint(t){return new hs(Re(t.latitude),Re(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Md(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(rc(t));default:return null}}convertTimestamp(t){const n=Yr(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Kt(Gx(s),9688,{name:t});const a=new ac(s.get(1),s.get(3)),l=new vt(s.popFirst(5));return a.isEqual(n)||Ys(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class Uv extends xR{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}const BS="@firebase/firestore",FS="4.11.0";class fd{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Wa("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f6 extends fd{data(){return super.data()}}function d6(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jv{}class zv extends jv{}function qs(e,t,...n){let s=[];t instanceof jv&&s.push(t),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof Bv)).length,d=l.filter((m=>m instanceof Hd)).length;if(c>1||c>0&&d>0)throw new ht(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)e=a._apply(e);return e}class Hd extends zv{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Hd(t,n,s)}_apply(t){const n=this._parse(t);return RR(t._query,n),new Ws(t.firestore,t.converter,ty(t._query,n))}_parse(t){const n=Fd(t.firestore);return(function(l,c,d,m,g,y,_){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){HS(_,y);const D=[];for(const j of _)D.push(qS(m,l,j));T={arrayValue:{values:D}}}else T=qS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||HS(_,y),T=c6(d,c,_,y==="in"||y==="not-in");return je.create(g,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Hr(e,t,n){const s=t,a=Wa("where",e);return Hd._create(a,s,n)}class Bv extends jv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Bv(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Oi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)RR(c,m),c=ty(c,m)})(t._query,n),new Ws(t.firestore,t.converter,ty(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fv extends zv{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Fv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ht(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lc(l,c)})(t._query,this._field,this._direction);return new Ws(t.firestore,t.converter,Lk(t._query,n))}}function Gd(e,t="asc"){const n=t,s=Wa("orderBy",e);return Fv._create(s,n)}class qv extends zv{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new qv(t,n,s)}_apply(t){return new Ws(t.firestore,t.converter,id(t._query,this._limit,this._limitType))}}function m6(e){return qv._create("limit",e,"F")}function qS(e,t,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new ht(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tx(t)&&n.indexOf("/")!==-1)throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!vt.isDocumentKey(s))throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sS(e,new vt(s))}if(n instanceof Ce)return sS(e,n._key);throw new ht(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dd(n)}.`)}function HS(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function RR(e,t){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Hv(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class p6 extends xR{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,n)}}class Xo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends fd{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Wa("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:ze("string",Gr._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Vf extends Gr{data(t={}){return super.data(t)}}class ll{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Vf(this._firestore,this._userDataWriter,s.key,s,new Xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Xo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Vf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Xo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:g6(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ll._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function g6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:ze("string",ll._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};const y6={maxAttempts:5};function Fu(e,t){if((e=Be(e)).firestore!==t)throw new ht(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class v6{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Fd(t)}get(t){const n=Fu(t,this._firestore),s=new p6(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return Tt(24041);const l=a[0];if(l.isFoundDocument())return new fd(this._firestore,s,l.key,l,n.converter);if(l.isNoDocument())return new fd(this._firestore,s,n._key,null,n.converter);throw Tt(18433,{doc:l})}))}set(t,n,s){const a=Fu(t,this._firestore),l=Hv(a.converter,n,s),c=kv(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,s);return this._transaction.set(a._key,c),this}update(t,n,s,...a){const l=Fu(t,this._firestore);let c;return c=typeof(n=Be(n))=="string"||n instanceof Vv?u6(this._dataReader,"Transaction.update",l._key,n,s,a):l6(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,c),this}delete(t){const n=Fu(t,this._firestore);return this._transaction.delete(n._key),this}}class _6 extends v6{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=Fu(t,this._firestore),s=new Uv(this._firestore);return super.get(t).then((a=>new Gr(this._firestore,s,n._key,a._document,new Xo(!1,!1),n.converter)))}}function yl(e,t,n){e=ps(e,Il);const s={...y6,...n};(function(c){if(c.maxAttempts<1)throw new ht(it.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s);const a=Bd(e);return Z3(a,(l=>t(new _6(e,l))),s)}function ul(e){e=ps(e,Ce);const t=ps(e.firestore,Il),n=Bd(t);return X3(n,e._key).then((s=>E6(t,e,s)))}function Hs(e){e=ps(e,Ws);const t=ps(e.firestore,Il),n=Bd(t),s=new Uv(t);return d6(e._query),W3(n,e._query).then((a=>new ll(t,s,e,a)))}function CR(e,t,n){e=ps(e,Ce);const s=ps(e.firestore,Il),a=Hv(e.converter,t,n),l=Fd(s);return IR(s,[kv(l,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,En.none())])}function T6(e,t){const n=ps(e.firestore,Il),s=on(e),a=Hv(e.converter,t),l=Fd(e.firestore);return IR(n,[kv(l,"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,En.exists(!1))]).then((()=>s))}function IR(e,t){const n=Bd(e);return J3(n,t)}function E6(e,t,n){const s=n.docs.get(t._key),a=new Uv(e);return new Gr(e,a,t._key,s,new Xo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){W4(Sl),ds(new Vi("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Il(new tk(s.getProvider("auth-internal")),new ik(c,s.getProvider("app-check-internal")),Tk(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ui(BS,FS,t),ui(BS,FS,"esm2020")})();const b6={apiKey:"AIzaSyA1bfervGERxLbR7OZUAkqGNo4PA6C7gIk",authDomain:"atomo-quantico-2f81f.firebaseapp.com",projectId:"atomo-quantico-2f81f",storageBucket:"atomo-quantico-2f81f.firebasestorage.app",messagingSenderId:"434005661",appId:"1:434005661:web:25d362c018cec19ef49674",measurementId:"G-04H8W8HC2G"},Gv=Qw(b6);K4(Gv);const Qt=i6(Gv),Kv=xP(Gv),GS=e=>{let t;const n=new Set,s=(g,y)=>{const _=typeof g=="function"?g(t):g;if(!Object.is(_,t)){const T=t;t=y??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(R=>R(t,T))}},a=()=>t,d={setState:s,getState:a,getInitialState:()=>m,subscribe:g=>(n.add(g),()=>n.delete(g))},m=t=e(s,a,d);return d},S6=(e=>e?GS(e):GS),w6=e=>e;function A6(e,t=w6){const n=cf.useSyncExternalStore(e.subscribe,cf.useCallback(()=>t(e.getState()),[e,t]),cf.useCallback(()=>t(e.getInitialState()),[e,t]));return cf.useDebugValue(n),n}const KS=e=>{const t=S6(e),n=s=>A6(t,s);return Object.assign(n,t),n},x6=(e=>e?KS(e):KS),R6=1,C6=3,I6=5,gg=[{level:1,name:"Observador Quntico",minPhotons:0},{level:2,name:"Partcula Emergente",minPhotons:20},{level:3,name:"Viajante Csmico",minPhotons:50},{level:4,name:"Explorador Galctico",minPhotons:100},{level:5,name:"Mestre do Universo",minPhotons:250}],$S=e=>{const t=gg.slice().reverse().find(s=>e>=s.minPhotons)||gg[0],n=gg.find(s=>s.level===t.level+1);if(n){const s=e-t.minPhotons,a=n.minPhotons-t.minPhotons,l=s/a*100;return{level:t.level,levelName:t.name,progress:Math.min(l,100)}}return{level:t.level,levelName:t.name,progress:100}},yg=()=>({userId:null,photons:0,level:1,levelName:"Observador Quntico",progress:0,isInitialized:!1}),Js=x6((e,t)=>({...yg(),fetchUserProgress:async n=>{if(t().isInitialized&&t().userId===n)return;const s=on(Qt,"users",n),a=await ul(s);if(a.exists()){const c=a.data().photons||0,{level:d,levelName:m,progress:g}=$S(c);e({userId:n,photons:c,level:d,levelName:m,progress:g,isInitialized:!0})}else await yl(Qt,async l=>{l.set(s,{photons:0,streak:0,lastEntryDate:null})}),e({...yg(),userId:n,isInitialized:!0})},earnPhotons:async(n,s)=>{const a=t().userId;if(!a||n!=="create_entry"&&a===s)return;let l=0;if(n==="like"?l=R6:n==="comment"?l=C6:n==="create_entry"&&(l=I6),l===0)return;const c=on(Qt,"users",a);try{await yl(Qt,async d=>{const m=await d.get(c),y=(m.exists()&&m.data().photons||0)+l;d.set(c,{photons:y},{merge:!0});const{level:_,levelName:T,progress:R}=$S(y);e({photons:y,level:_,levelName:T,progress:R})})}catch(d){console.error("Erro ao conceder ftons: ",d)}},clearUserProgress:()=>{e(yg())}})),DR=V.createContext({user:null,loading:!0}),D6=({children:e})=>{const[t,n]=V.useState(null),[s,a]=V.useState(!0),{fetchUserProgress:l,clearUserProgress:c}=Js();return V.useEffect(()=>{const d=pO(Kv,async m=>{if(m){const g=on(Qt,"users",m.uid);if(!(await ul(g)).exists())try{await CR(g,{uid:m.uid,displayName:m.displayName,email:m.email,photoURL:m.photoURL,createdAt:new Date,photons:0},{merge:!0})}catch(_){console.error("Erro ao criar documento do usurio:",_)}l(m.uid)}else c();n(m),a(!1)});return()=>d()},[l,c]),w.jsx(DR.Provider,{value:{user:t,loading:s},children:e})},ki=()=>V.useContext(DR);const NR=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const N6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const M6=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const YS=e=>{const t=M6(e);return t.charAt(0).toUpperCase()+t.slice(1)};var V6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O6=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const P6=V.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>V.createElement("svg",{ref:m,...V6,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:NR("lucide",a),...!l&&!O6(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>V.createElement(g,y)),...Array.isArray(l)?l:[l]]));const Ge=(e,t)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(P6,{ref:l,iconNode:t,className:NR(`lucide-${N6(YS(e))}`,`lucide-${e}`,s),...a}));return n.displayName=YS(e),n};const k6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],L6=Ge("atom",k6);const U6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$v=Ge("award",U6);const j6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],MR=Ge("book-open",j6);const z6=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],B6=Ge("chart-no-axes-column-increasing",z6);const F6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],q6=Ge("heart",F6);const H6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],VR=Ge("house",H6);const G6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OR=Ge("info",G6);const K6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$6=Ge("log-out",K6);const Y6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q6=Ge("mail",Y6);const X6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],W6=Ge("menu",X6);const J6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Yv=Ge("message-square",J6);const Z6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],t5=Ge("phone",Z6);const e5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],n5=Ge("square-pen",e5);const i5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],s5=Ge("star",i5);const r5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],a5=Ge("target",r5);const o5=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],PR=Ge("thumbs-up",o5);const l5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],u5=Ge("user",l5);const c5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],h5=Ge("x",c5);const f5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kR=Ge("zap",f5),Qv=V.createContext({});function Xv(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const LR=typeof window<"u",UR=LR?V.useLayoutEffect:V.useEffect,Kd=V.createContext(null);function Wv(e,t){e.indexOf(t)===-1&&e.push(t)}function dd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ys=(e,t,n)=>n>t?t:n<e?e:n;let Jv=()=>{};const Xs={},jR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function zR(e){return typeof e=="object"&&e!==null}const BR=e=>/^0[^.\s]+$/u.test(e);function Zv(e){let t;return()=>(t===void 0&&(t=e()),t)}const ci=e=>e,d5=(e,t)=>n=>t(e(n)),Nc=(...e)=>e.reduce(d5),hc=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class t_{constructor(){this.subscriptions=[]}add(t){return Wv(this.subscriptions,t),()=>dd(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ni=e=>e*1e3,li=e=>e/1e3;function FR(e,t){return t?e*(1e3/t):0}const qR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,m5=1e-7,p5=12;function g5(e,t,n,s,a){let l,c,d=0;do c=t+(n-t)/2,l=qR(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>m5&&++d<p5);return c}function Mc(e,t,n,s){if(e===t&&n===s)return ci;const a=l=>g5(l,0,1,e,n);return l=>l===0||l===1?l:qR(a(l),t,s)}const HR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,GR=e=>t=>1-e(1-t),KR=Mc(.33,1.53,.69,.99),e_=GR(KR),$R=HR(e_),YR=e=>(e*=2)<1?.5*e_(e):.5*(2-Math.pow(2,-10*(e-1))),n_=e=>1-Math.sin(Math.acos(e)),QR=GR(n_),XR=HR(n_),y5=Mc(.42,0,1,1),v5=Mc(0,0,.58,1),WR=Mc(.42,0,.58,1),_5=e=>Array.isArray(e)&&typeof e[0]!="number",JR=e=>Array.isArray(e)&&typeof e[0]=="number",T5={linear:ci,easeIn:y5,easeInOut:WR,easeOut:v5,circIn:n_,circInOut:XR,circOut:QR,backIn:e_,backInOut:$R,backOut:KR,anticipate:YR},E5=e=>typeof e=="string",QS=e=>{if(JR(e)){Jv(e.length===4);const[t,n,s,a]=e;return Mc(t,n,s,a)}else if(E5(e))return T5[e];return e},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b5(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(g.schedule(y),e()),y(d)}const g={schedule:(y,_=!1,T=!1)=>{const D=T&&a?n:s;return _&&c.add(y),D.has(y)||D.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const S5=40;function ZR(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=vf.reduce((O,q)=>(O[q]=b5(l),O),{}),{setup:d,read:m,resolveKeyframes:g,preUpdate:y,update:_,preRender:T,render:R,postRender:D}=c,j=()=>{const O=Xs.useManualTiming?a.timestamp:performance.now();n=!1,Xs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(O-a.timestamp,S5),1)),a.timestamp=O,a.isProcessing=!0,d.process(a),m.process(a),g.process(a),y.process(a),_.process(a),T.process(a),R.process(a),D.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(j))},U=()=>{n=!0,s=!0,a.isProcessing||e(j)};return{schedule:vf.reduce((O,q)=>{const X=c[q];return O[q]=(ot,C=!1,A=!1)=>(n||U(),X.schedule(ot,C,A)),O},{}),cancel:O=>{for(let q=0;q<vf.length;q++)c[vf[q]].cancel(O)},state:a,steps:c}}const{schedule:le,cancel:Zr,state:rn,steps:vg}=ZR(typeof requestAnimationFrame<"u"?requestAnimationFrame:ci,!0);let Of;function w5(){Of=void 0}const bn={now:()=>(Of===void 0&&bn.set(rn.isProcessing||Xs.useManualTiming?rn.timestamp:performance.now()),Of),set:e=>{Of=e,queueMicrotask(w5)}},tC=e=>t=>typeof t=="string"&&t.startsWith(e),eC=tC("--"),A5=tC("var(--"),i_=e=>A5(e)?x5.test(e.split("/*")[0].trim()):!1,x5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function XS(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Dl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},fc={...Dl,transform:e=>ys(0,1,e)},_f={...Dl,default:1},Wu=e=>Math.round(e*1e5)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R5(e){return e==null}const C5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r_=(e,t)=>n=>!!(typeof n=="string"&&C5.test(n)&&n.startsWith(e)||t&&!R5(n)&&Object.prototype.hasOwnProperty.call(n,t)),nC=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(s_);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},I5=e=>ys(0,255,e),_g={...Dl,transform:e=>Math.round(I5(e))},Ba={test:r_("rgb","red"),parse:nC("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+_g.transform(e)+", "+_g.transform(t)+", "+_g.transform(n)+", "+Wu(fc.transform(s))+")"};function D5(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const uy={test:r_("#"),parse:D5,transform:Ba.transform},Vc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Or=Vc("deg"),fs=Vc("%"),pt=Vc("px"),N5=Vc("vh"),M5=Vc("vw"),WS={...fs,parse:e=>fs.parse(e)/100,transform:e=>fs.transform(e*100)},Wo={test:r_("hsl","hue"),parse:nC("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+fs.transform(Wu(t))+", "+fs.transform(Wu(n))+", "+Wu(fc.transform(s))+")"},Ue={test:e=>Ba.test(e)||uy.test(e)||Wo.test(e),parse:e=>Ba.test(e)?Ba.parse(e):Wo.test(e)?Wo.parse(e):uy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ba.transform(e):Wo.transform(e),getAnimatableNone:e=>{const t=Ue.parse(e);return t.alpha=0,Ue.transform(t)}},V5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O5(e){return isNaN(e)&&typeof e=="string"&&(e.match(s_)?.length||0)+(e.match(V5)?.length||0)>0}const iC="number",sC="color",P5="var",k5="var(",JS="${}",L5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(L5,m=>(Ue.test(m)?(s.color.push(l),a.push(sC),n.push(Ue.parse(m))):m.startsWith(k5)?(s.var.push(l),a.push(P5),n.push(m)):(s.number.push(l),a.push(iC),n.push(parseFloat(m))),++l,JS)).split(JS);return{values:n,split:d,indexes:s,types:a}}function rC(e){return dc(e).values}function aC(e){const{split:t,types:n}=dc(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===iC?l+=Wu(a[c]):d===sC?l+=Ue.transform(a[c]):l+=a[c]}return l}}const U5=e=>typeof e=="number"?0:Ue.test(e)?Ue.getAnimatableNone(e):e;function j5(e){const t=rC(e);return aC(e)(t.map(U5))}const ta={test:O5,parse:rC,createTransformer:aC,getAnimatableNone:j5};function Tg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function z5({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Tg(m,d,e+1/3),l=Tg(m,d,e),c=Tg(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function md(e,t){return n=>n>0?t:e}const pe=(e,t,n)=>e+(t-e)*n,Eg=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},B5=[uy,Ba,Wo],F5=e=>B5.find(t=>t.test(e));function ZS(e){const t=F5(e);if(!t)return!1;let n=t.parse(e);return t===Wo&&(n=z5(n)),n}const t1=(e,t)=>{const n=ZS(e),s=ZS(t);if(!n||!s)return md(e,t);const a={...n};return l=>(a.red=Eg(n.red,s.red,l),a.green=Eg(n.green,s.green,l),a.blue=Eg(n.blue,s.blue,l),a.alpha=pe(n.alpha,s.alpha,l),Ba.transform(a))},cy=new Set(["none","hidden"]);function q5(e,t){return cy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function H5(e,t){return n=>pe(e,t,n)}function a_(e){return typeof e=="number"?H5:typeof e=="string"?i_(e)?md:Ue.test(e)?t1:$5:Array.isArray(e)?oC:typeof e=="object"?Ue.test(e)?t1:G5:md}function oC(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>a_(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function G5(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=a_(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function K5(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],d=e.values[c]??0;n[a]=d,s[l]++}return n}const $5=(e,t)=>{const n=ta.createTransformer(t),s=dc(e),a=dc(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?cy.has(e)&&!a.values.length||cy.has(t)&&!s.values.length?q5(e,t):Nc(oC(K5(s,a),a.values),n):md(e,t)};function lC(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pe(e,t,n):a_(e)(e,t)}const Y5=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>le.update(t,n),stop:()=>Zr(t),now:()=>rn.isProcessing?rn.timestamp:bn.now()}},uC=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},pd=2e4;function o_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<pd;)t+=n,s=e.next(t);return t>=pd?1/0:t}function Q5(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(o_(s),pd);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:li(a)}}const X5=5;function cC(e,t,n){const s=Math.max(t-X5,0);return FR(n-e(s),t-s)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bg=.001;function W5({duration:e=Ee.duration,bounce:t=Ee.bounce,velocity:n=Ee.velocity,mass:s=Ee.mass}){let a,l,c=1-t;c=ys(Ee.minDamping,Ee.maxDamping,c),e=ys(Ee.minDuration,Ee.maxDuration,li(e)),c<1?(a=g=>{const y=g*c,_=y*e,T=y-n,R=hy(g,c),D=Math.exp(-_);return bg-T/R*D},l=g=>{const _=g*c*e,T=_*n+n,R=Math.pow(c,2)*Math.pow(g,2)*e,D=Math.exp(-_),j=hy(Math.pow(g,2),c);return(-a(g)+bg>0?-1:1)*((T-R)*D)/j}):(a=g=>{const y=Math.exp(-g*e),_=(g-n)*e+1;return-bg+y*_},l=g=>{const y=Math.exp(-g*e),_=(n-g)*(e*e);return y*_});const d=5/e,m=Z5(a,l,d);if(e=Ni(e),isNaN(m))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:e};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const J5=12;function Z5(e,t,n){let s=n;for(let a=1;a<J5;a++)s=s-e(s)/t(s);return s}function hy(e,t){return e*Math.sqrt(1-t*t)}const tU=["duration","bounce"],eU=["stiffness","damping","mass"];function e1(e,t){return t.some(n=>e[n]!==void 0)}function nU(e){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...e};if(!e1(e,eU)&&e1(e,tU))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ys(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ee.mass,stiffness:a,damping:l}}else{const n=W5(e);t={...t,...n,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function gd(e=Ee.visualDuration,t=Ee.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:_,velocity:T,isResolvedFromDuration:R}=nU({...n,velocity:-li(n.velocity||0)}),D=T||0,j=g/(2*Math.sqrt(m*y)),U=c-l,z=li(Math.sqrt(m/y)),B=Math.abs(U)<5;s||(s=B?Ee.restSpeed.granular:Ee.restSpeed.default),a||(a=B?Ee.restDelta.granular:Ee.restDelta.default);let O;if(j<1){const X=hy(z,j);O=ot=>{const C=Math.exp(-j*z*ot);return c-C*((D+j*z*U)/X*Math.sin(X*ot)+U*Math.cos(X*ot))}}else if(j===1)O=X=>c-Math.exp(-z*X)*(U+(D+z*U)*X);else{const X=z*Math.sqrt(j*j-1);O=ot=>{const C=Math.exp(-j*z*ot),A=Math.min(X*ot,300);return c-C*((D+j*z*U)*Math.sinh(A)+X*U*Math.cosh(A))/X}}const q={calculatedDuration:R&&_||null,next:X=>{const ot=O(X);if(R)d.done=X>=_;else{let C=X===0?D:0;j<1&&(C=X===0?Ni(D):cC(O,X,ot));const A=Math.abs(C)<=s,I=Math.abs(c-ot)<=a;d.done=A&&I}return d.value=d.done?c:ot,d},toString:()=>{const X=Math.min(o_(q),pd),ot=uC(C=>q.next(X*C).value,X,30);return X+"ms "+ot},toTransition:()=>{}};return q}gd.applyToOptions=e=>{const t=Q5(e,100,gd);return e.ease=t.ease,e.duration=Ni(t.duration),e.type="keyframes",e};function fy({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:g=.5,restSpeed:y}){const _=e[0],T={done:!1,value:_},R=A=>d!==void 0&&A<d||m!==void 0&&A>m,D=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let j=n*t;const U=_+j,z=c===void 0?U:c(U);z!==U&&(j=z-_);const B=A=>-j*Math.exp(-A/s),O=A=>z+B(A),q=A=>{const I=B(A),P=O(A);T.done=Math.abs(I)<=g,T.value=T.done?z:P};let X,ot;const C=A=>{R(T.value)&&(X=A,ot=gd({keyframes:[T.value,D(T.value)],velocity:cC(O,A,T.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let I=!1;return!ot&&X===void 0&&(I=!0,q(A),C(A)),X!==void 0&&A>=X?ot.next(A-X):(!I&&q(A),T)}}}function iU(e,t,n){const s=[],a=n||Xs.mix||lC,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ci:t;d=Nc(m,d)}s.push(d)}return s}function sU(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(Jv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=iU(t,s,a),m=d.length,g=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const T=hc(e[_],e[_+1],y);return d[_](T)};return n?y=>g(ys(e[0],e[l-1],y)):g}function rU(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=hc(0,t,s);e.push(pe(n,1,a))}}function aU(e){const t=[0];return rU(t,e.length-1),t}function oU(e,t){return e.map(n=>n*t)}function lU(e,t){return e.map(()=>t||WR).splice(0,e.length-1)}function Ju({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=_5(s)?s.map(QS):QS(s),l={done:!1,value:t[0]},c=oU(n&&n.length===t.length?n:aU(t),e),d=sU(c,t,{ease:Array.isArray(a)?a:lU(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const uU=e=>e!==null;function l_(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(uU),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const cU={decay:fy,inertia:fy,tween:Ju,keyframes:Ju,spring:gd};function hC(e){typeof e.type=="string"&&(e.type=cU[e.type])}class u_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hU=e=>e/100;class c_ extends u_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==bn.now()&&this.tick(bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hC(t);const{type:n=Ju,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Ju;m!==Ju&&typeof d[0]!="number"&&(this.mixKeyframes=Nc(hU,lC(d[0],d[1])),d=[0,100]);const g=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=o_(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:R,type:D,onUpdate:j,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const z=this.currentTime-g*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,q=s;if(_){const A=Math.min(this.currentTime,a)/d;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,_+1),I%2&&(T==="reverse"?(P=1-P,R&&(P-=R/d)):T==="mirror"&&(q=c)),O=ys(0,1,P)*d}const X=B?{done:!1,value:y[0]}:q.next(O);l&&(X.value=l(X.value));let{done:ot}=X;!B&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return C&&D!==fy&&(X.value=l_(y,this.options,U,this.speed)),j&&j(X.value),C&&this.finish(),X}then(t,n){return this.finished.then(t,n)}get duration(){return li(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(this.currentTime)}set time(t){t=Ni(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(bn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=li(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Y5,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function fU(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Fa=e=>e*180/Math.PI,dy=e=>{const t=Fa(Math.atan2(e[1],e[0]));return my(t)},dU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dy,rotateZ:dy,skewX:e=>Fa(Math.atan(e[1])),skewY:e=>Fa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},my=e=>(e=e%360,e<0&&(e+=360),e),n1=dy,i1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),s1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i1,scaleY:s1,scale:e=>(i1(e)+s1(e))/2,rotateX:e=>my(Fa(Math.atan2(e[6],e[5]))),rotateY:e=>my(Fa(Math.atan2(-e[2],e[0]))),rotateZ:n1,rotate:n1,skewX:e=>Fa(Math.atan(e[4])),skewY:e=>Fa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function py(e){return e.includes("scale")?1:0}function gy(e,t){if(!e||e==="none")return py(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=mU,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=dU,a=d}if(!a)return py(t);const l=s[t],c=a[1].split(",").map(gU);return typeof l=="function"?l(c):c[l]}const pU=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gy(n,t)};function gU(e){return parseFloat(e.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ml=new Set(Nl),r1=e=>e===Dl||e===pt,yU=new Set(["x","y","z"]),vU=Nl.filter(e=>!yU.has(e));function _U(e){const t=[];return vU.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gy(t,"x"),y:(e,{transform:t})=>gy(t,"y")};jr.translateX=jr.x;jr.translateY=jr.y;const Ha=new Set;let yy=!1,vy=!1,_y=!1;function fC(){if(vy){const e=Array.from(Ha).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=_U(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}vy=!1,yy=!1,Ha.forEach(e=>e.complete(_y)),Ha.clear()}function dC(){Ha.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vy=!0)})}function TU(){_y=!0,dC(),fC(),_y=!1}class h_{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),yy||(yy=!0,le.read(dC),le.resolveKeyframes(fC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}fU(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EU=e=>e.startsWith("--");function bU(e,t,n){EU(t)?e.style.setProperty(t,n):e.style[t]=n}const SU=Zv(()=>window.ScrollTimeline!==void 0),wU={};function AU(e,t){const n=Zv(e);return()=>wU[t]??n()}const mC=AU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,a1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function pC(e,t){if(e)return typeof e=="function"?mC()?uC(e,t):"ease-out":JR(e)?qu(e):Array.isArray(e)?e.map(n=>pC(n,t)||a1.easeOut):a1[e]}function xU(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},g=void 0){const y={[t]:n};m&&(y.offset=m);const _=pC(d,a);Array.isArray(_)&&(y.easing=_);const T={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return g&&(T.pseudoElement=g),e.animate(y,T)}function gC(e){return typeof e=="function"&&"applyToOptions"in e}function RU({type:e,...t}){return gC(e)&&mC()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yC extends u_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Jv(typeof t.type!="string");const g=RU(t);this.animation=xU(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=l_(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):bU(n,s,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return li(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+li(t)}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ni(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&SU()?(this.animation.timeline=t,ci):n(this)}}const vC={anticipate:YR,backInOut:$R,circInOut:XR};function CU(e){return e in vC}function IU(e){typeof e.ease=="string"&&CU(e.ease)&&(e.ease=vC[e.ease])}const Sg=10;class DU extends yC{constructor(t){IU(t),hC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new c_({...c,autoplay:!1}),m=Math.max(Sg,bn.now()-this.startTime),g=ys(0,Sg,m-Sg);n.setWithVelocity(d.sample(Math.max(0,m-g)).value,d.sample(m).value,g),d.stop()}}const o1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ta.test(e)||e==="0")&&!e.startsWith("url("));function NU(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function MU(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=o1(a,t),d=o1(l,t);return!c||!d?!1:NU(e)||(n==="spring"||gC(n))&&s}function Ty(e){e.duration=0,e.type="keyframes"}const VU=new Set(["opacity","clipPath","filter","transform"]),OU=Zv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PU(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return OU()&&n&&VU.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const kU=40;class LU extends u_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:g,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bn.now();const T={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:g,element:y,..._},R=y?.KeyframeResolver||h_;this.keyframeResolver=new R(d,(D,j,U)=>this.onKeyframesResolved(D,j,T,!U),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:g,onUpdate:y}=s;this.resolvedAt=bn.now(),MU(t,l,c,d)||((Xs.instantAnimations||!m)&&y?.(l_(t,s,n)),t[0]=t[t.length-1],Ty(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>kU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},R=!g&&PU(T),D=T.motionValue?.owner?.current,j=R?new DU({...T,element:D}):new c_(T);j.finished.then(()=>{this.notifyFinished()}).catch(ci),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),TU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function _C(e,t,n,s=0,a=1){const l=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}const UU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jU(e){const t=UU.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function TC(e,t,n=1){const[s,a]=jU(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return jR(c)?parseFloat(c):c}return i_(a)?TC(a,t,n+1):a}const zU={type:"spring",stiffness:500,damping:25,restSpeed:10},BU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),FU={type:"keyframes",duration:.8},qU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HU=(e,{keyframes:t})=>t.length>2?FU:Ml.has(e)?e.startsWith("scale")?BU(t[1]):zU:qU,GU=e=>e!==null;function KU(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(GU),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}function EC(e,t){if(e?.inherit&&t){const{inherit:n,...s}=e;return{...t,...s}}return e}function f_(e,t){const n=e?.[t]??e?.default??e;return n!==e?EC(n,e):n}function $U({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const d_=(e,t,n,s={},a,l)=>c=>{const d=f_(s,e)||{},m=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ni(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:T=>{t.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};$U(d)||Object.assign(y,HU(e,y)),y.duration&&(y.duration=Ni(y.duration)),y.repeatDelay&&(y.repeatDelay=Ni(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Ty(y),y.delay===0&&(_=!0)),(Xs.instantAnimations||Xs.skipAnimations||a?.shouldSkipAnimations)&&(_=!0,Ty(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,_&&!l&&t.get()!==void 0){const T=KU(y.keyframes,d);if(T!==void 0){le.update(()=>{y.onUpdate(T),y.onComplete()});return}}return d.isSync?new c_(y):new LU(y)};function l1(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function m_(e,t,n,s){if(typeof t=="function"){const[a,l]=l1(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=l1(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function cl(e,t,n){const s=e.getProps();return m_(s,t,n!==void 0?n:s.custom,e)}const bC=new Set(["width","height","top","left","right","bottom",...Nl]),u1=30,YU=e=>!isNaN(parseFloat(e));class QU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=bn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new t_);const s=this.events[t].add(n);return t==="change"?()=>{s(),le.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u1);return FR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(e,t){return new QU(e,t)}const Ey=e=>Array.isArray(e);function XU(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,vl(n))}function WU(e){return Ey(e)?e[e.length-1]||0:e}function JU(e,t){const n=cl(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=WU(l[c]);XU(e,c,d)}}const mn=e=>!!(e&&e.getVelocity);function ZU(e){return!!(mn(e)&&e.add)}function by(e,t){const n=e.getValue("willChange");if(ZU(n))return n.add(t);if(!n&&Xs.WillChange){const s=new Xs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function p_(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const tj="framerAppearId",SC="data-"+p_(tj);function wC(e){return e.props[SC]}function ej({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function AC(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...d}=t;const m=e.getDefaultTransition();l=l?EC(l,m):m;const g=l?.reduceMotion;s&&(l=s);const y=[],_=a&&e.animationState&&e.animationState.getState()[a];for(const T in d){const R=e.getValue(T,e.latestValues[T]??null),D=d[T];if(D===void 0||_&&ej(_,T))continue;const j={delay:n,...f_(l||{},T)},U=R.get();if(U!==void 0&&!R.isAnimating&&!Array.isArray(D)&&D===U&&!j.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const q=wC(e);if(q){const X=window.MotionHandoffAnimation(q,T,le);X!==null&&(j.startTime=X,z=!0)}}by(e,T);const B=g??e.shouldReduceMotion;R.start(d_(T,R,D,B&&bC.has(T)?{type:!1}:j,e,z));const O=R.animation;O&&y.push(O)}if(c){const T=()=>le.update(()=>{c&&JU(e,c)});y.length?Promise.all(y).then(T):T()}return y}function Sy(e,t,n={}){const s=cl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(AC(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=a;return nj(e,t,m,g,y,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,g]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function nj(e,t,n=0,s=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Sy(m,t,{...c,delay:n+(typeof s=="function"?0:s)+_C(e.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function ij(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Sy(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Sy(e,t,n);else{const a=typeof t=="function"?cl(e,t,n.custom):t;s=Promise.all(AC(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const sj={test:e=>e==="auto",parse:e=>e},xC=e=>t=>t.test(e),RC=[Dl,pt,fs,Or,M5,N5,sj],c1=e=>RC.find(xC(e));function rj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||BR(e):!0}const aj=new Set(["brightness","contrast","saturate","opacity"]);function oj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(s_)||[];if(!s)return e;const a=n.replace(s,"");let l=aj.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const lj=/\b([a-z-]*)\(.*?\)/gu,wy={...ta,getAnimatableNone:e=>{const t=e.match(lj);return t?t.map(oj).join(" "):e}},h1={...Dl,transform:Math.round},uj={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:_f,scaleX:_f,scaleY:_f,scaleZ:_f,skew:Or,skewX:Or,skewY:Or,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:fc,originX:WS,originY:WS,originZ:pt},g_={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,inset:pt,insetBlock:pt,insetBlockStart:pt,insetBlockEnd:pt,insetInline:pt,insetInlineStart:pt,insetInlineEnd:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,paddingBlock:pt,paddingBlockStart:pt,paddingBlockEnd:pt,paddingInline:pt,paddingInlineStart:pt,paddingInlineEnd:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,marginBlock:pt,marginBlockStart:pt,marginBlockEnd:pt,marginInline:pt,marginInlineStart:pt,marginInlineEnd:pt,fontSize:pt,backgroundPositionX:pt,backgroundPositionY:pt,...uj,zIndex:h1,fillOpacity:fc,strokeOpacity:fc,numOctaves:h1},cj={...g_,color:Ue,backgroundColor:Ue,outlineColor:Ue,fill:Ue,stroke:Ue,borderColor:Ue,borderTopColor:Ue,borderRightColor:Ue,borderBottomColor:Ue,borderLeftColor:Ue,filter:wy,WebkitFilter:wy},CC=e=>cj[e];function IC(e,t){let n=CC(e);return n!==wy&&(n=ta),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hj=new Set(["auto","none","0"]);function fj(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!hj.has(l)&&dc(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=IC(n,a)}class dj extends h_{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let _=t[y];if(typeof _=="string"&&(_=_.trim(),i_(_))){const T=TC(_,n.current);T!==void 0&&(t[y]=T),y===t.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!bC.has(s)||t.length!==2)return;const[a,l]=t,c=c1(a),d=c1(l),m=XS(a),g=XS(l);if(m!==g&&jr[s]){this.needsMeasurement=!0;return}if(c!==d)if(r1(c)&&r1(d))for(let y=0;y<t.length;y++){const _=t[y];typeof _=="string"&&(t[y]=parseFloat(_))}else jr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||rj(t[a]))&&s.push(a);s.length&&fj(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=jr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const mj=new Set(["opacity","clipPath","filter","transform"]);function DC(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=n?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const NC=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ay(e){return zR(e)&&"offsetHeight"in e}const{schedule:y_}=ZR(queueMicrotask,!1),xi={x:!1,y:!1};function MC(){return xi.x||xi.y}function pj(e){return e==="x"||e==="y"?xi[e]?null:(xi[e]=!0,()=>{xi[e]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function VC(e,t){const n=DC(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function gj(e){return!(e.pointerType==="touch"||MC())}function yj(e,t,n={}){const[s,a,l]=VC(e,n);return s.forEach(c=>{let d=!1,m=!1,g;const y=()=>{c.removeEventListener("pointerleave",D)},_=U=>{g&&(g(U),g=void 0),y()},T=U=>{d=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),m&&(m=!1,_(U))},R=()=>{d=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},D=U=>{if(U.pointerType!=="touch"){if(d){m=!0;return}_(U)}},j=U=>{if(!gj(U))return;m=!1;const z=t(c,U);typeof z=="function"&&(g=z,c.addEventListener("pointerleave",D,a))};c.addEventListener("pointerenter",j,a),c.addEventListener("pointerdown",R,a)}),l}const OC=(e,t)=>t?e===t?!0:OC(e,t.parentElement):!1,v_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _j(e){return vj.has(e.tagName)||e.isContentEditable===!0}const Tj=new Set(["INPUT","SELECT","TEXTAREA"]);function Ej(e){return Tj.has(e.tagName)||e.isContentEditable===!0}const Pf=new WeakSet;function f1(e){return t=>{t.key==="Enter"&&e(t)}}function wg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const bj=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=f1(()=>{if(Pf.has(n))return;wg(n,"down");const a=f1(()=>{wg(n,"up")}),l=()=>wg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function d1(e){return v_(e)&&!MC()}const m1=new WeakSet;function Sj(e,t,n={}){const[s,a,l]=VC(e,n),c=d=>{const m=d.currentTarget;if(!d1(d)||m1.has(d))return;Pf.add(m),n.stopPropagation&&m1.add(d);const g=t(m,d),y=(R,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),Pf.has(m)&&Pf.delete(m),d1(R)&&typeof g=="function"&&g(R,{success:D})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||OC(m,R.target))},T=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),Ay(d)&&(d.addEventListener("focus",g=>bj(g,a)),!_j(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function __(e){return zR(e)&&"ownerSVGElement"in e}const kf=new WeakMap;let Lf;const PC=(e,t,n)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:__(s)&&"getBBox"in s?s.getBBox()[t]:s[n],wj=PC("inline","width","offsetWidth"),Aj=PC("block","height","offsetHeight");function xj({target:e,borderBoxSize:t}){kf.get(e)?.forEach(n=>{n(e,{get width(){return wj(e,t)},get height(){return Aj(e,t)}})})}function Rj(e){e.forEach(xj)}function Cj(){typeof ResizeObserver>"u"||(Lf=new ResizeObserver(Rj))}function Ij(e,t){Lf||Cj();const n=DC(e);return n.forEach(s=>{let a=kf.get(s);a||(a=new Set,kf.set(s,a)),a.add(t),Lf?.observe(s)}),()=>{n.forEach(s=>{const a=kf.get(s);a?.delete(t),a?.size||Lf?.unobserve(s)})}}const Uf=new Set;let Jo;function Dj(){Jo=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Uf.forEach(t=>t(e))},window.addEventListener("resize",Jo)}function Nj(e){return Uf.add(e),Jo||Dj(),()=>{Uf.delete(e),!Uf.size&&typeof Jo=="function"&&(window.removeEventListener("resize",Jo),Jo=void 0)}}function p1(e,t){return typeof e=="function"?Nj(e):Ij(e,t)}function Mj(e){return __(e)&&e.tagName==="svg"}const Vj=[...RC,Ue,ta],Oj=e=>Vj.find(xC(e)),g1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:g1(),y:g1()}),y1=()=>({min:0,max:0}),qe=()=>({x:y1(),y:y1()}),Pj=new WeakMap;function $d(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function mc(e){return typeof e=="string"||Array.isArray(e)}const T_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...T_];function Yd(e){return $d(e.animate)||E_.some(t=>mc(e[t]))}function kC(e){return!!(Yd(e)||e.variants)}function kj(e,t,n){for(const s in t){const a=t[s],l=n[s];if(mn(a))e.addValue(s,a);else if(mn(l))e.addValue(s,vl(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,vl(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const xy={current:null},LC={current:!1},Lj=typeof window<"u";function Uj(){if(LC.current=!0,!!Lj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xy.current=e.matches;e.addEventListener("change",t),t()}else xy.current=!1}const v1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yd={};function UC(e){yd=e}function jj(){return yd}class zj{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=h_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=bn.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,le.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=d;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Yd(n),this.isVariantNode=kC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const R in T){const D=T[R];g[R]!==void 0&&mn(D)&&D.set(g[R])}}mount(t){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=t,Pj.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(LC.current||Uj(),this.shouldReduceMotion=xy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&mj.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:g,duration:y}=n.accelerate,_=new yC({element:this.current,name:t,keyframes:d,times:m,ease:g,duration:Ni(y)}),T=c(_);this.valueSubscriptions.set(t,()=>{T(),_.cancel()});return}const s=Ml.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&le.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yd){const n=yd[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<v1.length;s++){const a=v1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=kj(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=vl(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(jR(s)||BR(s))?s=parseFloat(s):!Oj(s)&&ta.test(n)&&(s=IC(t,n)),this.setBaseTarget(t,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=m_(this.props,n,this.presenceContext?.custom);l&&(s=l[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!mn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new t_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){y_.render(this.render)}}class jC extends zj{constructor(){super(...arguments),this.KeyframeResolver=dj}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ia{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zC({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Bj({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Fj(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ag(e){return e===void 0||e===1}function Ry({scale:e,scaleX:t,scaleY:n}){return!Ag(e)||!Ag(t)||!Ag(n)}function La(e){return Ry(e)||BC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function BC(e){return _1(e.x)||_1(e.y)}function _1(e){return e&&e!=="0%"}function vd(e,t,n){const s=e-n,a=t*s;return n+a}function T1(e,t,n,s,a){return a!==void 0&&(e=vd(e,a,s)),vd(e,n,s)+t}function Cy(e,t=0,n=1,s,a){e.min=T1(e.min,t,n,s,a),e.max=T1(e.max,t,n,s,a)}function FC(e,{x:t,y:n}){Cy(e.x,t.translate,t.scale,t.originPoint),Cy(e.y,n.translate,n.scale,n.originPoint)}const E1=.999999999999,b1=1.0000000000001;function qj(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&el(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,FC(e,c)),s&&La(l.latestValues)&&el(e,l.latestValues))}t.x<b1&&t.x>E1&&(t.x=1),t.y<b1&&t.y>E1&&(t.y=1)}function tl(e,t){e.min=e.min+t,e.max=e.max+t}function S1(e,t,n,s,a=.5){const l=pe(e.min,e.max,a);Cy(e,t,n,l,s)}function el(e,t){S1(e.x,t.x,t.scaleX,t.scale,t.originX),S1(e.y,t.y,t.scaleY,t.scale,t.originY)}function qC(e,t){return zC(Fj(e.getBoundingClientRect(),t))}function Hj(e,t,n){const s=qC(e,n),{scroll:a}=t;return a&&(tl(s.x,a.offset.x),tl(s.y,a.offset.y)),s}const Gj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kj=Nl.length;function $j(e,t,n){let s="",a=!0;for(let l=0;l<Kj;l++){const c=Nl[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const g=parseFloat(d);m=c.startsWith("scale")?g===1:g===0}if(!m||n){const g=NC(d,g_[c]);if(!m){a=!1;const y=Gj[c]||c;s+=`${y}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function b_(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const g=t[m];if(Ml.has(m)){c=!0;continue}else if(eC(m)){a[m]=g;continue}else{const y=NC(g,g_[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=$j(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${g} ${y}`}}function HC(e,{style:t,vars:n},s,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function w1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Uu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=w1(e,t.target.x),s=w1(e,t.target.y);return`${n}% ${s}%`}},Yj={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=ta.parse(e);if(a.length>5)return s;const l=ta.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const g=pe(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),l(a)}},Iy={borderRadius:{...Uu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uu,borderTopRightRadius:Uu,borderBottomLeftRadius:Uu,borderBottomRightRadius:Uu,boxShadow:Yj};function GC(e,{layout:t,layoutId:n}){return Ml.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Iy[e]||e==="opacity")}function S_(e,t,n){const s=e.style,a=t?.style,l={};if(!s)return l;for(const c in s)(mn(s[c])||a&&mn(a[c])||GC(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function Qj(e){return window.getComputedStyle(e)}class Xj extends jC{constructor(){super(...arguments),this.type="html",this.renderInstance=HC}readValueFromInstance(t,n){if(Ml.has(n))return this.projection?.isProjecting?py(n):pU(t,n);{const s=Qj(t),a=(eC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return qC(t,n)}build(t,n,s){b_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return S_(t,n,s)}}const Wj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jj={offset:"strokeDashoffset",array:"strokeDasharray"};function Zj(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?Wj:Jj;e[l.offset]=`${-s}`,e[l.array]=`${t} ${n}`}const t9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function KC(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,g,y){if(b_(e,d,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:T}=e;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox);for(const R of t9)_[R]!==void 0&&(T[R]=_[R],delete _[R]);t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&Zj(_,a,l,c,!1)}const $C=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),YC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function e9(e,t,n,s){HC(e,t,void 0,s);for(const a in t.attrs)e.setAttribute($C.has(a)?a:p_(a),t.attrs[a])}function QC(e,t,n){const s=S_(e,t,n);for(const a in e)if(mn(e[a])||mn(t[a])){const l=Nl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}class n9 extends jC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ml.has(n)){const s=CC(n);return s&&s.default||0}return n=$C.has(n)?n:p_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return QC(t,n,s)}build(t,n,s){KC(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){e9(t,n,s,a)}mount(t){this.isSVGTag=YC(t.tagName),super.mount(t)}}const i9=E_.length;function XC(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?XC(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<i9;n++){const s=E_[n],a=e.props[s];(mc(a)||a===!1)&&(t[s]=a)}return t}function WC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const s9=[...T_].reverse(),r9=T_.length;function a9(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ij(e,n,s)))}function o9(e){let t=a9(e),n=A1(),s=!0;const a=m=>(g,y)=>{const _=cl(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:R,...D}=_;g={...g,...D,...R}}return g};function l(m){t=m(e)}function c(m){const{props:g}=e,y=XC(e.parent)||{},_=[],T=new Set;let R={},D=1/0;for(let U=0;U<r9;U++){const z=s9[U],B=n[z],O=g[z]!==void 0?g[z]:y[z],q=mc(O),X=z===m?B.isActive:null;X===!1&&(D=U);let ot=O===y[z]&&O!==g[z]&&q;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),B.protectedKeys={...R},!B.isActive&&X===null||!O&&!B.prevProp||$d(O)||typeof O=="boolean")continue;if(z==="exit"&&B.isActive&&X!==!0){B.prevResolvedValues&&(R={...R,...B.prevResolvedValues});continue}const C=l9(B.prevProp,O);let A=C||z===m&&B.isActive&&!ot&&q||U>D&&q,I=!1;const P=Array.isArray(O)?O:[O];let L=P.reduce(a(z),{});X===!1&&(L={});const{prevResolvedValues:H={}}=B,N={...H,...L},It=et=>{A=!0,T.has(et)&&(I=!0,T.delete(et)),B.needsAnimating[et]=!0;const ft=e.getValue(et);ft&&(ft.liveStyle=!1)};for(const et in N){const ft=L[et],Ct=H[et];if(R.hasOwnProperty(et))continue;let Vt=!1;Ey(ft)&&Ey(Ct)?Vt=!WC(ft,Ct):Vt=ft!==Ct,Vt?ft!=null?It(et):T.add(et):ft!==void 0&&T.has(et)?It(et):B.protectedKeys[et]=!0}B.prevProp=O,B.prevResolvedValues=L,B.isActive&&(R={...R,...L}),s&&e.blockInitialAnimation&&(A=!1);const Dt=ot&&C;A&&(!Dt||I)&&_.push(...P.map(et=>{const ft={type:z};if(typeof et=="string"&&s&&!Dt&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Vt=cl(Ct,et);if(Ct.enteringChildren&&Vt){const{delayChildren:M}=Vt.transition||{};ft.delay=_C(Ct.enteringChildren,e,M)}}return{animation:et,options:ft}}))}if(T.size){const U={};if(typeof g.initial!="boolean"){const z=cl(e,Array.isArray(g.initial)?g.initial[0]:g.initial);z&&z.transition&&(U.transition=z.transition)}T.forEach(z=>{const B=e.getBaseTarget(z),O=e.getValue(z);O&&(O.liveStyle=!0),U[z]=B??null}),_.push({animation:U})}let j=!!_.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(j=!1),s=!1,j?t(_):Promise.resolve()}function d(m,g){if(n[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,g)),n[m].isActive=g;const y=c(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=A1()}}}function l9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!WC(t,e):!1}function Pa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A1(){return{animate:Pa(!0),whileInView:Pa(),whileHover:Pa(),whileTap:Pa(),whileDrag:Pa(),whileFocus:Pa(),exit:Pa()}}function x1(e,t){e.min=t.min,e.max=t.max}function wi(e,t){x1(e.x,t.x),x1(e.y,t.y)}function R1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const JC=1e-4,u9=1-JC,c9=1+JC,ZC=.01,h9=0-ZC,f9=0+ZC;function Sn(e){return e.max-e.min}function d9(e,t,n){return Math.abs(e-t)<=n}function C1(e,t,n,s=.5){e.origin=s,e.originPoint=pe(t.min,t.max,e.origin),e.scale=Sn(n)/Sn(t),e.translate=pe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=u9&&e.scale<=c9||isNaN(e.scale))&&(e.scale=1),(e.translate>=h9&&e.translate<=f9||isNaN(e.translate))&&(e.translate=0)}function Zu(e,t,n,s){C1(e.x,t.x,n.x,s?s.originX:void 0),C1(e.y,t.y,n.y,s?s.originY:void 0)}function I1(e,t,n){e.min=n.min+t.min,e.max=e.min+Sn(t)}function m9(e,t,n){I1(e.x,t.x,n.x),I1(e.y,t.y,n.y)}function D1(e,t,n){e.min=t.min-n.min,e.max=e.min+Sn(t)}function _d(e,t,n){D1(e.x,t.x,n.x),D1(e.y,t.y,n.y)}function N1(e,t,n,s,a){return e-=t,e=vd(e,1/n,s),a!==void 0&&(e=vd(e,1/a,s)),e}function p9(e,t=0,n=1,s=.5,a,l=e,c=e){if(fs.test(t)&&(t=parseFloat(t),t=pe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=pe(l.min,l.max,s);e===l&&(d-=t),e.min=N1(e.min,t,n,d,a),e.max=N1(e.max,t,n,d,a)}function M1(e,t,[n,s,a],l,c){p9(e,t[n],t[s],t[a],t.scale,l,c)}const g9=["x","scaleX","originX"],y9=["y","scaleY","originY"];function V1(e,t,n,s){M1(e.x,t,g9,n?n.x:void 0,s?s.x:void 0),M1(e.y,t,y9,n?n.y:void 0,s?s.y:void 0)}function O1(e){return e.translate===0&&e.scale===1}function tI(e){return O1(e.x)&&O1(e.y)}function P1(e,t){return e.min===t.min&&e.max===t.max}function v9(e,t){return P1(e.x,t.x)&&P1(e.y,t.y)}function k1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function eI(e,t){return k1(e.x,t.x)&&k1(e.y,t.y)}function L1(e){return Sn(e.x)/Sn(e.y)}function U1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function as(e){return[e("x"),e("y")]}function _9(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:y,rotateX:_,rotateY:T,skewX:R,skewY:D}=n;g&&(s=`perspective(${g}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),T&&(s+=`rotateY(${T}deg) `),R&&(s+=`skewX(${R}deg) `),D&&(s+=`skewY(${D}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const nI=["TopLeft","TopRight","BottomLeft","BottomRight"],T9=nI.length,j1=e=>typeof e=="string"?parseFloat(e):e,z1=e=>typeof e=="number"||pt.test(e);function E9(e,t,n,s,a,l){a?(e.opacity=pe(0,n.opacity??1,b9(s)),e.opacityExit=pe(t.opacity??1,0,S9(s))):l&&(e.opacity=pe(t.opacity??1,n.opacity??1,s));for(let c=0;c<T9;c++){const d=`border${nI[c]}Radius`;let m=B1(t,d),g=B1(n,d);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||z1(m)===z1(g)?(e[d]=Math.max(pe(j1(m),j1(g),s),0),(fs.test(g)||fs.test(m))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=pe(t.rotate||0,n.rotate||0,s))}function B1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const b9=iI(0,.5,QR),S9=iI(.5,.95,ci);function iI(e,t,n){return s=>s<e?0:s>t?1:n(hc(e,t,s))}function w9(e,t,n){const s=mn(e)?e:vl(e);return s.start(d_("",s,t,n)),s.animation}function pc(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const A9=(e,t)=>e.depth-t.depth;class x9{constructor(){this.children=[],this.isDirty=!1}add(t){Wv(this.children,t),this.isDirty=!0}remove(t){dd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A9),this.isDirty=!1,this.children.forEach(t)}}function R9(e,t){const n=bn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(Zr(s),e(l-t))};return le.setup(s,!0),()=>Zr(s)}function jf(e){return mn(e)?e.get():e}class C9{constructor(){this.members=[]}add(t){Wv(this.members,t);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&dd(this.members,s)}t.scheduleRender()}remove(t){if(dd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xg=["","X","Y","Z"],I9=1e3;let D9=0;function Rg(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function sI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",le,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&sI(s)}function rI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=D9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V9),this.nodes.forEach(L9),this.nodes.forEach(U9),this.nodes.forEach(O9)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new x9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new t_),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=__(c)&&!Mj(c),this.instance=c;const{layoutId:d,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;le.read(()=>{_=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=R9(T,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach(H1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||g.getDefaultTransition()||q9,{onLayoutAnimationStart:j,onLayoutAnimationComplete:U}=g.getProps(),z=!this.targetLayout||!eI(this.targetLayout,R),B=!_&&T;if(this.options.layoutRoot||this.resumeFrom||B||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...f_(D,"layout"),onPlay:j,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(y,B)}else _||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(k9),this.nodes.forEach(N9),this.nodes.forEach(M9)):this.nodes.forEach(q1),this.clearAllSnapshots();const d=bn.now();rn.delta=ys(0,1e3/60,d-rn.timestamp),rn.timestamp=d,rn.isProcessing=!0,vg.update.process(rn),vg.preRender.process(rn),vg.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P9),this.sharedNodes.forEach(z9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sn(this.snapshot.measuredBox.x)&&!Sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!tI(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||La(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),H9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return qe();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(G9))){const{scroll:g}=this.root;g&&(tl(d.x,g.offset.x),tl(d.y,g.offset.y))}return d}removeElementScroll(c){const d=qe();if(wi(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&wi(d,c),tl(d.x,y.offset.x),tl(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=qe();wi(m,c);for(let g=0;g<this.path.length;g++){const y=this.path[g];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&el(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),La(y.latestValues)&&el(m,y.latestValues)}return La(this.latestValues)&&el(m,this.latestValues),m}removeTransform(c){const d=qe();wi(d,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!La(g.latestValues))continue;Ry(g.latestValues)&&g.updateSnapshot();const y=qe(),_=g.measurePageBox();wi(y,_),V1(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return La(this.latestValues)&&V1(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=rn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),FC(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ry(this.parent.latestValues)||BC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),_d(this.relativeTargetOrigin,d,m),wi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;wi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;qj(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=qe());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R1(this.prevProjectionDelta.x,this.projectionDelta.x),R1(this.prevProjectionDelta.y,this.projectionDelta.y)),Zu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!U1(this.projectionDelta.x,this.prevProjectionDelta.x)||!U1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(c,d=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},_=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=qe(),R=m?m.source:void 0,D=this.layout?this.layout.source:void 0,j=R!==D,U=this.getStack(),z=!U||U.members.length<=1,B=!!(j&&!z&&this.options.crossfade===!0&&!this.path.some(F9));this.animationProgress=0;let O;this.mixTargetDelta=q=>{const X=q/1e3;G1(_.x,c.x,X),G1(_.y,c.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_d(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B9(this.relativeTarget,this.relativeTargetOrigin,T,X),O&&v9(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=qe()),wi(O,this.relativeTarget)),j&&(this.animationValues=y,E9(y,g,this.latestValues,X,B,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=w9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:g,latestValues:y}=c;if(!(!d||!m||!g)){if(this!==c&&this.layout&&g&&aI(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||qe();const _=Sn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const T=Sn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+T}wi(d,m),el(d,y),Zu(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new C9),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const g={};m.z&&Rg("z",c,g,this.animationValues);for(let y=0;y<xg.length;y++)Rg(`rotate${xg[y]}`,c,g,this.animationValues),Rg(`skew${xg[y]}`,c,g,this.animationValues);c.render();for(const y in g)c.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=jf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=jf(d?.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let _=_9(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:T,y:R}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,g.animationValues?c.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Iy){if(y[D]===void 0)continue;const{correct:j,applyTo:U,isCSSVariable:z}=Iy[D],B=_==="none"?y[D]:j(y[D],g);if(U){const O=U.length;for(let q=0;q<O;q++)c[U[q]]=B}else z?this.options.visualElement.renderState.vars[D]=B:c[D]=B}this.options.layoutId&&(c.pointerEvents=g===this?jf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(F1),this.root.sharedNodes.clear()}}}function N9(e){e.updateLayout()}function M9(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?as(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=Sn(_);_.min=n[y].min,_.max=_.min+T}):aI(a,t.layoutBox,n)&&as(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=Sn(n[y]);_.max=_.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const c=Zo();Zu(c,n,t.layoutBox);const d=Zo();l?Zu(d,e.applyTransform(s,!0),t.measuredBox):Zu(d,n,t.layoutBox);const m=!tI(c);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const R=qe();_d(R,t.layoutBox,_.layoutBox);const D=qe();_d(D,n,T.layoutBox),eI(R,D)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function V9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P9(e){e.clearSnapshot()}function F1(e){e.clearMeasurements()}function q1(e){e.isLayoutDirty=!1}function k9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L9(e){e.resolveTargetDelta()}function U9(e){e.calcProjection()}function j9(e){e.resetSkewAndRotation()}function z9(e){e.removeLeadSnapshot()}function G1(e,t,n){e.translate=pe(t.translate,0,n),e.scale=pe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function K1(e,t,n,s){e.min=pe(t.min,n.min,s),e.max=pe(t.max,n.max,s)}function B9(e,t,n,s){K1(e.x,t.x,n.x,s),K1(e.y,t.y,n.y,s)}function F9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const q9={duration:.45,ease:[.4,0,.1,1]},$1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Y1=$1("applewebkit/")&&!$1("chrome/")?Math.round:ci;function Q1(e){e.min=Y1(e.min),e.max=Y1(e.max)}function H9(e){Q1(e.x),Q1(e.y)}function aI(e,t,n){return e==="position"||e==="preserve-aspect"&&!d9(L1(t),L1(n),.2)}function G9(e){return e!==e.root&&e.scroll?.wasRoot}const K9=rI({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},oI=rI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cg.current){const e=new K9({});e.mount(window),e.setOptions({layoutScroll:!0}),Cg.current=e}return Cg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),w_=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function X1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $9(...e){return t=>{let n=!1;const s=e.map(a=>{const l=X1(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():X1(e[a],null)}}}}function Y9(...e){return V.useCallback($9(...e),e)}class Q9 extends V.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=Ay(s)&&s.offsetWidth||0,l=Ay(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function X9({children:e,isPresent:t,anchorX:n,anchorY:s,root:a,pop:l}){const c=V.useId(),d=V.useRef(null),m=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=V.useContext(w_),y=e.props?.ref??e?.ref,_=Y9(d,y);return V.useInsertionEffect(()=>{const{width:T,height:R,top:D,left:j,right:U,bottom:z}=m.current;if(t||l===!1||!d.current||!T||!R)return;const B=n==="left"?`left: ${j}`:`right: ${U}`,O=s==="bottom"?`bottom: ${z}`:`top: ${D}`;d.current.dataset.motionPopId=c;const q=document.createElement("style");g&&(q.nonce=g);const X=a??document.head;return X.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${R}px !important;
            ${B}px !important;
            ${O}px !important;
          }
        `),()=>{X.contains(q)&&X.removeChild(q)}},[t]),w.jsx(Q9,{isPresent:t,childRef:d,sizeRef:m,pop:l,children:l===!1?e:V.cloneElement(e,{ref:_})})}const W9=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:g})=>{const y=Xv(J9),_=V.useId();let T=!0,R=V.useMemo(()=>(T=!1,{id:_,initial:t,isPresent:n,custom:a,onExitComplete:D=>{y.set(D,!0);for(const j of y.values())if(!j)return;s&&s()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[n,y,s]);return l&&T&&(R={...R}),V.useMemo(()=>{y.forEach((D,j)=>y.set(j,!1))},[n]),V.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),e=w.jsx(X9,{pop:c==="popLayout",isPresent:n,anchorX:d,anchorY:m,root:g,children:e}),w.jsx(Kd.Provider,{value:R,children:e})};function J9(){return new Map}function lI(e=!0){const t=V.useContext(Kd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=V.useId();V.useEffect(()=>{if(e)return a(l)},[e]);const c=V.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Tf=e=>e.key||"";function W1(e){const t=[];return V.Children.forEach(e,n=>{V.isValidElement(n)&&t.push(n)}),t}const Z9=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:g})=>{const[y,_]=lI(c),T=V.useMemo(()=>W1(e),[e]),R=c&&!y?[]:T.map(Tf),D=V.useRef(!0),j=V.useRef(T),U=Xv(()=>new Map),z=V.useRef(new Set),[B,O]=V.useState(T),[q,X]=V.useState(T);UR(()=>{D.current=!1,j.current=T;for(let A=0;A<q.length;A++){const I=Tf(q[A]);R.includes(I)?(U.delete(I),z.current.delete(I)):U.get(I)!==!0&&U.set(I,!1)}},[q,R.length,R.join("-")]);const ot=[];if(T!==B){let A=[...T];for(let I=0;I<q.length;I++){const P=q[I],L=Tf(P);R.includes(L)||(A.splice(I,0,P),ot.push(P))}return l==="wait"&&ot.length&&(A=ot),X(W1(A)),O(T),null}const{forceRender:C}=V.useContext(Qv);return w.jsx(w.Fragment,{children:q.map(A=>{const I=Tf(A),P=c&&!y?!1:T===q||R.includes(I),L=()=>{if(z.current.has(I))return;if(z.current.add(I),U.has(I))U.set(I,!0);else return;let H=!0;U.forEach(N=>{N||(H=!1)}),H&&(C?.(),X(j.current),c&&_?.(),s&&s())};return w.jsx(W9,{isPresent:P,initial:!D.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:P?void 0:L,anchorX:d,anchorY:m,children:A},I)})})},uI=V.createContext({strict:!1}),J1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Z1=!1;function tz(){if(Z1)return;const e={};for(const t in J1)e[t]={isEnabled:n=>J1[t].some(s=>!!n[s])};UC(e),Z1=!0}function cI(){return tz(),jj()}function ez(e){const t=cI();for(const n in e)t[n]={...t[n],...e[n]};UC(t)}const nz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nz.has(e)}let hI=e=>!Td(e);function iz(e){typeof e=="function"&&(hI=t=>t.startsWith("on")?!Td(t):e(t))}try{iz(require("@emotion/is-prop-valid").default)}catch{}function sz(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(hI(a)||n===!0&&Td(a)||!t&&!Td(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Qd=V.createContext({});function rz(e,t){if(Yd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||mc(n)?n:void 0,animate:mc(s)?s:void 0}}return e.inherit!==!1?t:{}}function az(e){const{initial:t,animate:n}=rz(e,V.useContext(Qd));return V.useMemo(()=>({initial:t,animate:n}),[tw(t),tw(n)])}function tw(e){return Array.isArray(e)?e.join(" "):e}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fI(e,t,n){for(const s in t)!mn(t[s])&&!GC(s,n)&&(e[s]=t[s])}function oz({transformTemplate:e},t){return V.useMemo(()=>{const n=A_();return b_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lz(e,t){const n=e.style||{},s={};return fI(s,n,e),Object.assign(s,oz(e,t)),s}function uz(e,t){const n={},s=lz(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const dI=()=>({...A_(),attrs:{}});function cz(e,t,n,s){const a=V.useMemo(()=>{const l=dI();return KC(l,t,YC(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};fI(l,e.style,e),a.style={...l,...a.style}}return a}const hz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x_(e){return typeof e!="string"||e.includes("-")?!1:!!(hz.indexOf(e)>-1||/[A-Z]/u.test(e))}function fz(e,t,n,{latestValues:s},a,l=!1,c){const m=(c??x_(e)?cz:uz)(t,s,a,e),g=sz(t,typeof e=="string",l),y=e!==V.Fragment?{...g,...m,ref:n}:{},{children:_}=t,T=V.useMemo(()=>mn(_)?_.get():_,[_]);return V.createElement(e,{...y,children:T})}function dz({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:mz(n,s,a,e),renderState:t()}}function mz(e,t,n,s){const a={},l=s(e,{});for(const T in l)a[T]=jf(l[T]);let{initial:c,animate:d}=e;const m=Yd(e),g=kC(e);t&&g&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?d:c;if(_&&typeof _!="boolean"&&!$d(_)){const T=Array.isArray(_)?_:[_];for(let R=0;R<T.length;R++){const D=m_(e,T[R]);if(D){const{transitionEnd:j,transition:U,...z}=D;for(const B in z){let O=z[B];if(Array.isArray(O)){const q=y?O.length-1:0;O=O[q]}O!==null&&(a[B]=O)}for(const B in j)a[B]=j[B]}}}return a}const mI=e=>(t,n)=>{const s=V.useContext(Qd),a=V.useContext(Kd),l=()=>dz(e,t,s,a);return n?l():Xv(l)},pz=mI({scrapeMotionValuesFromProps:S_,createRenderState:A_}),gz=mI({scrapeMotionValuesFromProps:QC,createRenderState:dI}),yz=Symbol.for("motionComponentSymbol");function vz(e,t,n){const s=V.useRef(n);V.useInsertionEffect(()=>{s.current=n});const a=V.useRef(null);return V.useCallback(l=>{l&&e.onMount?.(l),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[t])}const pI=V.createContext({});function Qo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _z(e,t,n,s,a,l){const{visualElement:c}=V.useContext(Qd),d=V.useContext(uI),m=V.useContext(Kd),g=V.useContext(w_),y=g.reducedMotion,_=g.skipAnimations,T=V.useRef(null),R=V.useRef(!1);s=s||d.renderer,!T.current&&s&&(T.current=s(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:_,isSVG:l}),R.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const D=T.current,j=V.useContext(pI);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&Tz(T.current,n,a,j);const U=V.useRef(!1);V.useInsertionEffect(()=>{D&&U.current&&D.update(n,m)});const z=n[SC],B=V.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return UR(()=>{R.current=!0,D&&(U.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),B.current&&D.animationState&&D.animationState.animateChanges())}),V.useEffect(()=>{D&&(!B.current&&D.animationState&&D.animationState.animateChanges(),B.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),B.current=!1),D.enteringChildren=void 0)}),D}function Tz(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:gI(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Qo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:g})}function gI(e){if(e)return e.options.allowProjection!==!1?e.projection:gI(e.parent)}function Ig(e,{forwardMotionProps:t=!1,type:n}={},s,a){s&&ez(s);const l=n?n==="svg":x_(e),c=l?gz:pz;function d(g,y){let _;const T={...V.useContext(w_),...g,layoutId:Ez(g)},{isStatic:R}=T,D=az(g),j=c(g,R);if(!R&&LR){bz();const U=Sz(T);_=U.MeasureLayout,D.visualElement=_z(e,j,T,a,U.ProjectionNode,l)}return w.jsxs(Qd.Provider,{value:D,children:[_&&D.visualElement?w.jsx(_,{visualElement:D.visualElement,...T}):null,fz(e,g,vz(j,D.visualElement,y),j,R,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=V.forwardRef(d);return m[yz]=e,m}function Ez({layoutId:e}){const t=V.useContext(Qv).id;return t&&e!==void 0?t+"-"+e:e}function bz(e,t){V.useContext(uI).strict}function Sz(e){const t=cI(),{drag:n,layout:s}=t;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function wz(e,t){if(typeof Proxy>"u")return Ig;const n=new Map,s=(l,c)=>Ig(l,c,e,t),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Ig(c,void 0,e,t)),n.get(c))})}const Az=(e,t)=>t.isSVG??x_(e)?new n9(t):new Xj(t,{allowProjection:e!==V.Fragment});class xz extends ia{constructor(t){super(t),t.animationState||(t.animationState=o9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$d(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Rz=0;class Cz extends ia{constructor(){super(...arguments),this.id=Rz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Iz={animation:{Feature:xz},exit:{Feature:Cz}};function Oc(e){return{point:{x:e.pageX,y:e.pageY}}}const Dz=e=>t=>v_(t)&&e(t,Oc(t));function tc(e,t,n,s){return pc(e,t,Dz(n),s)}const yI=({current:e})=>e?e.ownerDocument.defaultView:null,ew=(e,t)=>Math.abs(e-t);function Nz(e,t){const n=ew(e.x,t.x),s=ew(e.y,t.y);return Math.sqrt(n**2+s**2)}const nw=new Set(["auto","scroll"]);class vI{constructor(t,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=R=>{this.handleScroll(R.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Ng(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,j=Nz(R.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!j)return;const{point:U}=R,{timestamp:z}=rn;this.history.push({...U,timestamp:z});const{onStart:B,onMove:O}=this.handlers;D||(B&&B(this.lastMoveEvent,R),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,R)},this.handlePointerMove=(R,D)=>{this.lastMoveEvent=R,this.lastMoveEventInfo=Dg(D,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(R,D)=>{this.end();const{onEnd:j,onSessionEnd:U,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Ng(R.type==="pointercancel"?this.lastMoveEventInfo:Dg(D,this.transformPagePoint),this.history);this.startEvent&&j&&j(R,B),U&&U(R,B)},!v_(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const m=Oc(t),g=Dg(m,this.transformPagePoint),{point:y}=g,{timestamp:_}=rn;this.history=[{...y,timestamp:_}];const{onSessionStart:T}=n;T&&T(t,Ng(g,this.history)),this.removeListeners=Nc(tc(this.contextWindow,"pointermove",this.handlePointerMove),tc(this.contextWindow,"pointerup",this.handlePointerUp),tc(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(nw.has(s.overflowX)||nw.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),le.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zr(this.updatePoint)}}function Dg(e,t){return t?{point:t(e.point)}:e}function iw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ng({point:e},t){return{point:e,delta:iw(e,_I(t)),offset:iw(e,Mz(t)),velocity:Vz(t,.1)}}function Mz(e){return e[0]}function _I(e){return e[e.length-1]}function Vz(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=_I(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Ni(t)));)n--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>Ni(t)*2&&(s=e[1]);const l=li(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Oz(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?pe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?pe(n,e,s.max):Math.min(e,n)),e}function sw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Pz(e,{top:t,left:n,bottom:s,right:a}){return{x:sw(e.x,n,a),y:sw(e.y,t,s)}}function rw(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function kz(e,t){return{x:rw(e.x,t.x),y:rw(e.y,t.y)}}function Lz(e,t){let n=.5;const s=Sn(e),a=Sn(t);return a>s?n=hc(t.min,t.max-s,e.min):s>a&&(n=hc(e.min,e.max-a,t.min)),ys(0,1,n)}function Uz(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Dy=.35;function jz(e=Dy){return e===!1?e=0:e===!0&&(e=Dy),{x:aw(e,"left","right"),y:aw(e,"top","bottom")}}function aw(e,t,n){return{min:ow(e,t),max:ow(e,n)}}function ow(e,t){return typeof e=="number"?e:e[t]||0}const zz=new WeakMap;class Bz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{n&&this.snapToCursor(Oc(_).point),this.stopAnimation()},c=(_,T)=>{const{drag:R,dragPropagation:D,onDragStart:j}=this.getProps();if(R&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pj(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(z=>{let B=this.getAxisMotionValue(z).get()||0;if(fs.test(B)){const{projection:O}=this.visualElement;if(O&&O.layout){const q=O.layout.layoutBox[z];q&&(B=Sn(q)*(parseFloat(B)/100))}}this.originPoint[z]=B}),j&&le.update(()=>j(_,T),!1,!0),by(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},d=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:R,dragDirectionLock:D,onDirectionLock:j,onDrag:U}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:z}=T;if(D&&this.currentDirection===null){this.currentDirection=qz(z),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",T.point,z),this.updateAxis("y",T.point,z),this.visualElement.render(),U&&le.update(()=>U(_,T),!1,!0)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:_}=this.getProps();(_||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new vI(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:yI(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&le.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!Ef(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=Oz(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Qo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Pz(s.layoutBox,t):this.constraints=!1,this.elastic=jz(n),a!==this.constraints&&!Qo(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&as(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Uz(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Qo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=Hj(s,a.root,this.visualElement.getTransformPagePoint());let c=kz(a.layout.layoutBox,l);if(n){const d=n(Bj(c));this.hasMutatedConstraints=!!d,d&&(c=zC(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},g=as(y=>{if(!Ef(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const T=a?200:1e6,R=a?40:1e7,D={type:"inertia",velocity:s?t[y]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return by(this.visualElement,t),s.start(d_(t,s,0,n,this.visualElement,!1))}stopAnimation(){as(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){as(n=>{const{drag:s}=this.getProps();if(!Ef(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n],m=l.get()||0;l.set(t[n]-pe(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};as(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=Lz({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),as(c=>{if(!Ef(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:g}=this.constraints[c];d.set(pe(m,g,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;zz.set(this.visualElement,this);const t=this.visualElement.current,n=tc(t,"pointerdown",g=>{const{drag:y,dragListener:_=!0}=this.getProps(),T=g.target,R=T!==t&&Ej(T);y&&_&&!R&&this.start(g)});let s;const a=()=>{const{dragConstraints:g}=this.getProps();Qo(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),s||(s=Fz(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),le.read(a);const d=pc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(as(_=>{const T=this.getAxisMotionValue(_);T&&(this.originPoint[_]+=g[_].translate,T.set(T.get()+g[_].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Dy,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function lw(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function Fz(e,t,n){const s=p1(e,lw(n)),a=p1(t,lw(n));return()=>{s(),a()}}function Ef(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Hz extends ia{constructor(t){super(t),this.removeGroupControls=ci,this.removeListeners=ci,this.controls=new Bz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ci}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Mg=e=>(t,n)=>{e&&le.update(()=>e(t,n),!1,!0)};class Gz extends ia{constructor(){super(...arguments),this.removePointerDownListener=ci}onPointerDown(t){this.session=new vI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Mg(t),onStart:Mg(n),onMove:Mg(s),onEnd:(l,c)=>{delete this.session,a&&le.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=tc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vg=!1;class Kz extends V.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),Vg=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||le.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),y_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;Vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TI(e){const[t,n]=lI(),s=V.useContext(Qv);return w.jsx(Kz,{...e,layoutGroup:s,switchLayoutGroup:V.useContext(pI),isPresent:t,safeToRemove:n})}const $z={pan:{Feature:Gz},drag:{Feature:Hz,ProjectionNode:oI,MeasureLayout:TI}};function uw(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&le.postRender(()=>l(t,Oc(t)))}class Yz extends ia{mount(){const{current:t}=this.node;t&&(this.unmount=yj(t,(n,s)=>(uw(this.node,s,"Start"),a=>uw(this.node,a,"End"))))}unmount(){}}class Qz extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nc(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cw(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&le.postRender(()=>l(t,Oc(t)))}class Xz extends ia{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=Sj(t,(a,l)=>(cw(this.node,l,"Start"),(c,{success:d})=>cw(this.node,c,d?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const Ny=new WeakMap,Og=new WeakMap,Wz=e=>{const t=Ny.get(e.target);t&&t(e)},Jz=e=>{e.forEach(Wz)};function Zz({root:e,...t}){const n=e||document;Og.has(n)||Og.set(n,{});const s=Og.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Jz,{root:e,...t})),s[a]}function tB(e,t,n){const s=Zz(t);return Ny.set(e,n),s.observe(e),()=>{Ny.delete(e),s.unobserve(e)}}const eB={some:0,all:1};class nB extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:eB[a]},d=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=g?y:_;T&&T(m)};return tB(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iB(t,n))&&this.startObserver()}unmount(){}}function iB({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const sB={inView:{Feature:nB},tap:{Feature:Xz},focus:{Feature:Qz},hover:{Feature:Yz}},rB={layout:{ProjectionNode:oI,MeasureLayout:TI}},aB={...Iz,...sB,...$z,...rB},hw=wz(aB,Az),oB={hidden:{x:"-100%"},visible:{x:0,transition:{type:"spring",stiffness:300,damping:30}}},lB={hidden:{opacity:0},visible:{opacity:1}},uB=[{name:"Home / Feed",to:"/",icon:VR},{name:"Dirio de Gratido",to:"/gratitude-journal",icon:MR},{name:"Minha Jornada",to:"/journey",icon:a5},{name:"Conquistas",to:"/journey",icon:$v},{name:"Sobre o Projeto",to:"/about",icon:OR}];function cB({isOpen:e,setIsOpen:t}){const{user:n}=ki(),{photons:s}=Js();return w.jsx(Z9,{children:e&&w.jsxs(w.Fragment,{children:[w.jsx(hw.div,{variants:lB,initial:"hidden",animate:"visible",exit:"hidden",onClick:()=>t(!1),className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-40"}),w.jsxs(hw.div,{variants:oB,initial:"hidden",animate:"visible",exit:"hidden",className:"fixed top-0 left-0 bottom-0 w-72 bg-slate-900/95 border-r border-blue-500/30 shadow-2xl z-50 flex flex-col",children:[w.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-700",children:[w.jsx("h2",{className:"text-xl font-bold text-text-primary",children:"Menu"}),w.jsx("button",{onClick:()=>t(!1),className:"text-text-secondary hover:text-text-primary",children:w.jsx(h5,{size:24})})]}),n&&w.jsxs("div",{className:"p-6 border-b border-slate-700",children:[w.jsx("p",{className:"text-lg font-semibold text-text-primary",children:n.displayName||"Viajante"}),w.jsx("p",{className:"text-sm text-yellow-400",children:`${s} Ftons`})]}),w.jsx("nav",{className:"flex-grow p-4",children:w.jsx("ul",{className:"space-y-2",children:uB.map(a=>w.jsx("li",{children:w.jsxs(un,{to:a.to,onClick:()=>t(!1),className:"flex items-center space-x-4 p-3 rounded-lg text-text-secondary hover:bg-slate-800 hover:text-text-primary transition-colors duration-200",children:[w.jsx(a.icon,{size:22}),w.jsx("span",{className:"text-lg",children:a.name})]})},a.name))})})]})]})})}function hB(){const{photons:e,level:t,isInitialized:n}=Js();return n?w.jsxs(un,{to:"/journey",className:"flex items-center gap-4 bg-primary/50 border border-slate-700 rounded-full px-4 py-1.5 hover:bg-primary/80 transition-colors shadow-md",children:[w.jsxs("div",{className:"flex items-center gap-2",title:`Ftons de Gratido: ${e}`,children:[w.jsx(kR,{className:"text-yellow-400",size:18}),w.jsx("span",{className:"font-bold text-text-primary text-sm",children:e})]}),w.jsx("div",{className:"w-px h-4 bg-slate-600"})," ",w.jsxs("div",{className:"flex items-center gap-2",title:`Nvel Quntico: ${t}`,children:[w.jsx(B6,{className:"text-green-400",size:18}),w.jsx("span",{className:"font-bold text-text-primary text-sm",children:t})]})]}):null}function fB(){const{user:e}=ki(),[t,n]=V.useState(!1),s=()=>{Kv.signOut()};return w.jsxs("header",{className:"bg-background/80 backdrop-blur-sm sticky top-0 z-30",children:[w.jsxs("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[w.jsxs(un,{to:"/",className:"flex items-center space-x-3",children:[w.jsx(Ow,{}),w.jsx("span",{className:"text-xl font-semibold text-text-primary hidden sm:inline",children:"tomo Quntico"})]}),e&&w.jsx("div",{className:"absolute left-1/2 -translate-x-1/2",children:w.jsx(hB,{})}),w.jsxs("div",{className:"flex items-center space-x-4",children:[e?w.jsx("button",{onClick:s,className:"text-text-secondary hover:text-red-500 transition-colors p-2 rounded-full hidden sm:flex",title:"Sair",children:w.jsx($6,{size:22})}):w.jsx(un,{to:"/login",className:"bg-secondary text-text-primary font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity hidden sm:flex",children:"Login"}),w.jsx("button",{onClick:()=>n(!0),className:"text-text-primary p-2","aria-label":"Abrir menu",children:w.jsx(W6,{size:28})})]})]}),w.jsx(cB,{isOpen:t,setIsOpen:n})]})}function dB(){const e=vs(),t=[{href:"/",icon:w.jsx(VR,{}),label:"Feed"},{href:"/gratitude-journal",icon:w.jsx(MR,{}),label:"Dirio"},{href:"/journey",icon:w.jsx(s5,{}),label:"Jornada"},{href:"/about",icon:w.jsx(OR,{}),label:"Sobre"},{href:"/profile",icon:w.jsx(u5,{}),label:"Perfil"}];return w.jsx("footer",{className:"bg-primary sticky bottom-0 w-full",children:w.jsx("nav",{className:"flex justify-around items-center h-16",children:t.map(n=>{const s=e.pathname===n.href;return w.jsxs(un,{to:n.href,className:`flex flex-col items-center justify-center w-full h-full ${s?"text-accent":"text-text-secondary"}`,children:[w.jsx("div",{className:`p-2 rounded-full ${s?"bg-accent/20":""}`,children:n.icon}),w.jsx("span",{className:"text-xs mt-1",children:n.label})]},n.label)})})})}function mB(){const t=vs().pathname==="/login";return w.jsxs("div",{className:"flex flex-col min-h-screen bg-background text-text-primary",children:[!t&&w.jsx(fB,{}),w.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:w.jsx(lN,{})}),w.jsx(dB,{})]})}const pB=()=>{const{user:e}=ki(),{photons:t,level:n,levelName:s,progress:a}=Js();return e?w.jsxs("div",{className:"bg-primary rounded-2xl shadow-lg p-8 mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Sua Jornada Quntica"}),w.jsx("p",{className:"text-text-secondary mb-6",children:"Este  um resumo do seu progresso. Continue interagindo para evoluir!"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[w.jsxs("div",{className:"bg-background rounded-xl p-6 flex flex-col items-center justify-center text-center",children:[w.jsx("span",{className:"text-5xl font-bold text-secondary",children:t}),w.jsx("span",{className:"text-text-secondary mt-1",children:"Ftons de Gratido "})]}),w.jsxs("div",{className:"bg-background rounded-xl p-6 flex flex-col items-center justify-center text-center",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx($v,{className:"text-accent",size:32}),w.jsx("span",{className:"text-3xl font-bold text-text-primary",children:s})]}),w.jsxs("span",{className:"text-text-secondary mt-1",children:["Nvel ",n]})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1",children:[w.jsx("span",{className:"text-sm font-medium text-text-secondary",children:"Progresso para o prximo nvel"}),w.jsxs("span",{className:"text-sm font-medium text-text-secondary",children:[Math.floor(a),"%"]})]}),w.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:w.jsx("div",{className:"bg-secondary h-2.5 rounded-full",style:{width:`${a}%`}})})]}),w.jsx("div",{className:"text-center mt-8",children:w.jsx(un,{to:"/journey",className:"bg-secondary text-text-primary font-semibold py-3 px-8 rounded-full hover:opacity-90 transition-opacity",children:"Ver Minha Jornada Completa"})})]}):w.jsxs("div",{className:"text-center mb-12",children:[w.jsx("h1",{className:"text-5xl font-extrabold text-text-primary mb-3",children:"Bem-vindo ao tomo de Gratido"}),w.jsxs("p",{className:"text-text-secondary text-lg",children:["Seu santurio pessoal para cultivar a gratido. ",w.jsx(un,{to:"/login",className:"text-secondary font-semibold hover:underline",children:"Faa login para iniciar sua jornada"}),"."]})]})},gB=()=>{const[e,t]=V.useState([]),[n,s]=V.useState([]),[a,l]=V.useState(null),{user:c}=ki(),d=yc(),{earnPhotons:m}=Js(),g=async()=>{const T=qs(Fs(Qt,"entries"),Hr("isPublic","==",!0),Gd("timestamp","desc"),m6(10)),D=(await Hs(T)).docs.map(q=>({id:q.id,...q.data()})),j=[...new Set(D.map(q=>q.authorId))];if(j.length===0){t(D);return}const U=Fs(Qt,"users"),z=qs(U,Hr("__name__","in",j.slice(0,10))),O=(await Hs(z)).docs.reduce((q,X)=>({...q,[X.id]:X.data()}),{});D.forEach(q=>{q.authorName=O[q.authorId]?.displayName||"Annimo"}),t(D)},y=async()=>{if(!c)return;const T=qs(_R(Qt,"likes"),Hr("userId","==",c.uid)),D=(await Hs(T)).docs.map(j=>j.ref.parent.parent.id);s(D)};V.useEffect(()=>{g(),c?y():s([])},[c]);const _=async(T,R)=>{if(!c){d("/login");return}const D=n.includes(T);D||(m("like",R),l(T),setTimeout(()=>l(null),1e3));const j=on(Qt,"entries",T),U=on(Qt,"entries",T,"likes",c.uid);try{await yl(Qt,async z=>{const B=await z.get(j);if(!B.exists())throw"Error";const O=(B.data().likesCount||0)+(D?-1:1);z.update(j,{likesCount:O}),D?z.delete(U):z.set(U,{userId:c.uid})}),s(z=>D?z.filter(B=>B!==T):[...z,T]),t(z=>z.map(B=>B.id===T?{...B,likesCount:B.likesCount+(D?-1:1)}:B))}catch(z){console.error(z)}};return w.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4",children:[w.jsx(pB,{}),w.jsxs("div",{className:"bg-background rounded-2xl shadow-lg p-8 mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6",children:"Gratido em Destaque"}),w.jsx("div",{className:"space-y-8",children:e.map(T=>w.jsxs("div",{className:"bg-primary rounded-2xl shadow-lg p-6 relative",children:[w.jsx("p",{className:"text-text-secondary leading-relaxed mb-4",children:T.text}),w.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[w.jsxs("p",{children:["Postado por ",w.jsx(un,{to:`/profile/${T.authorId}`,className:"hover:underline",children:T.authorName})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("button",{onClick:()=>_(T.id,T.authorId),className:`flex items-center space-x-1 relative ${n.includes(T.id)?"text-secondary":""}`,children:[w.jsx(PR,{size:18}),w.jsx("span",{children:T.likesCount||0}),a===T.id&&w.jsx("div",{className:"reward-animation",children:"+1 "})]}),w.jsxs(un,{to:`/post/${T.id}`,className:"flex items-center space-x-1",children:[w.jsx(Yv,{size:18}),w.jsx("span",{children:T.commentsCount||0})]})]})]})]},T.id))}),w.jsx("div",{className:"text-center mt-8",children:w.jsx(un,{to:"/public-feed",className:"text-secondary font-semibold hover:underline",children:"Ver todo o feed de gratido "})})]}),w.jsx("style",{children:`
        .reward-animation { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); animation: floatUp 1s ease-out forwards; font-size: 1.2rem; font-weight: bold; color: #4ade80; }
        @keyframes floatUp { 0% { opacity: 1; transform: translate(-50%, 0); } 100% { opacity: 0; transform: translate(-50%, -50px); } }
    `})]})};function yB(){return w.jsxs("div",{className:"max-w-4xl mx-auto text-text-primary",children:[w.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Sobre o tomo Quntico"}),w.jsxs("section",{className:"bg-primary p-8 rounded-xl shadow-lg mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"O Que  o tomo Quntico?"}),w.jsx("p",{className:"text-text-secondary leading-relaxed",children:"O tomo Quntico  uma aplicao web de cdigo aberto, construda para ser um espao seguro e acolhedor onde os usurios podem cultivar o hbito da gratido. Atravs de um dirio pessoal,  possvel registrar pensamentos e momentos pelos quais se  grato, com a opo de compartilhar essas reflexes com a comunidade."})]}),w.jsxs("section",{className:"bg-primary p-8 rounded-xl shadow-lg",children:[w.jsx("h2",{className:"text-3xl font-bold mb-8",children:"Guia da Gamificao: Entenda Sua Jornada"}),w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-semibold mb-2 text-secondary",children:"O que so Ftons e Nveis?"}),w.jsxs("p",{className:"text-text-secondary leading-relaxed",children:["Cada vez que voc faz uma anotao em seu dirio, voc ganha ",w.jsx("strong",{children:"Ftons"}),", que so como seus pontos de energia no aplicativo. Acumular ftons permite que voc suba de ",w.jsx("strong",{children:"Nvel"}),". Pense nisso como uma representao do seu progresso e comprometimento contnuo com a prtica da gratido."]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-semibold mb-2 text-secondary",children:"O que  o Nvel de Entropia?"}),w.jsxs("p",{className:"text-text-secondary leading-relaxed",children:["O Nvel de Entropia  uma medida da sua ",w.jsx("strong",{children:"consistncia"}),". Ele reflete a sua sequncia de anotaes dirias e possui trs estados:"]}),w.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-2 text-text-secondary",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Alta Entropia:"})," Uma sequncia de 0 a 2 dias. Representa o incio da sua jornada ou uma pequena pausa."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Estado Estacionrio:"})," Uma sequncia de 3 a 6 dias. Voc est comeando a construir um hbito slido!"]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Coerncia Quntica:"})," Uma sequncia de 7 dias ou mais. Voc alcanou um estado de prtica consistente e focada!"]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-semibold mb-2 text-secondary",children:"O que so as Conquistas (Badges)?"}),w.jsx("p",{className:"text-text-secondary leading-relaxed",children:"Conquistas so recompensas especiais que voc desbloqueia ao atingir marcos especficos em sua jornada. Elas celebram seu progresso e dedicao. Alguns exemplos incluem:"}),w.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-2 text-text-secondary",children:[w.jsxs("li",{children:[w.jsx("strong",{children:"Nvel X:"})," Desbloqueado sempre que voc sobe de nvel."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Observador (Bronze):"})," Concedido ao fazer suas primeiras 7 anotaes."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Coerente (Prata):"})," Concedido ao manter uma sequncia de 7 dias consecutivos."]}),w.jsxs("li",{children:[w.jsx("strong",{children:"Status de Entropia:"})," Concedido ao alcanar novos status, como o 'Estado Estacionrio'."]})]})]})]})]})]})}function vB(){return w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-quantum-blue mb-4",children:"Entre em Contato"}),w.jsx("p",{className:"text-gray-700 mb-6",children:"Adoraramos ouvir de voc! Entre em contato conosco atravs dos canais abaixo."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(Q6,{className:"text-quantum-violet"}),w.jsx("a",{href:"mailto:contato@quantum.com",className:"text-gray-700 hover:text-quantum-blue",children:"contato@quantum.com"})]}),w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx(t5,{className:"text-quantum-violet"}),w.jsx("span",{className:"text-gray-700",children:"+55 (11) 99999-9999"})]})]})]})}var _B={value:function(){}};function EI(){for(var e=0,t=arguments.length,n={},s;e<t;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Bf(n)}function Bf(e){this._=e}function TB(e,t){return e.trim().split(/^|\s+/).map(function(n){var s="",a=n.indexOf(".");if(a>=0&&(s=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Bf.prototype=EI.prototype={constructor:Bf,on:function(e,t){var n=this._,s=TB(e+"",n),a,l=-1,c=s.length;if(arguments.length<2){for(;++l<c;)if((a=(e=s[l]).type)&&(a=EB(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<c;)if(a=(e=s[l]).type)n[a]=fw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=fw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bf(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),s=0,a,l;s<a;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,a=l.length;s<a;++s)l[s].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(t,n)}};function EB(e,t){for(var n=0,s=e.length,a;n<s;++n)if((a=e[n]).name===t)return a.value}function fw(e,t,n){for(var s=0,a=e.length;s<a;++s)if(e[s].name===t){e[s]=_B,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:t,value:n}),e}const bB=Object.freeze(Object.defineProperty({__proto__:null,dispatch:EI},Symbol.toStringTag,{value:"Module"})),SB=Z2(bB);var Pg,dw;function wB(){if(dw)return Pg;dw=1;const e=SB.dispatch,t=Math.PI/180,n={archimedean:D,rectangular:j},s=64,a=2048;Pg=function(){var O=[256,256],q=l,X=c,ot=m,C=d,A=d,I=g,P=D,L=[],H=1/0,N=e("word","end"),It=null,Dt=Math.random,tt=()=>(~~(Dt()*6)-3)*30,et={},ft=z;et.canvas=function(M){return arguments.length?(ft=B(M),et):ft},et.start=function(){var M=Ct(ft()),W=U((O[0]>>5)*O[1]),lt=null,ct=L.length,yt=-1,bt=[],xt=L.map(function(St,Mt){return St.text=q.call(this,St,Mt),St.font=X.call(this,St,Mt),St.style=C.call(this,St,Mt),St.weight=A.call(this,St,Mt),St.rotate=tt.call(this,St,Mt),St.size=~~ot.call(this,St,Mt),St.padding=I.call(this,St,Mt),St}).sort(function(St,Mt){return Mt.size-St.size});return It&&clearInterval(It),It=setInterval(ae,0),ae(),et;function ae(){for(var St=Date.now();Date.now()-St<H&&++yt<ct&&It;){var Mt=xt[yt];Mt.x=O[0]*(Dt()+.5)>>1,Mt.y=O[1]*(Dt()+.5)>>1,y(M,Mt,xt,yt),Mt.hasText&&Vt(W,Mt,lt)&&(bt.push(Mt),N.call("word",et,Mt),lt?T(lt,Mt):lt=[{x:Mt.x+Mt.x0,y:Mt.y+Mt.y0},{x:Mt.x+Mt.x1,y:Mt.y+Mt.y1}],Mt.x-=O[0]>>1,Mt.y-=O[1]>>1)}yt>=ct&&(et.stop(),N.call("end",et,bt,lt))}},et.stop=function(){It&&(clearInterval(It),It=null);for(const M of L)delete M.sprite;return et};function Ct(M){const W=M.getContext("2d",{willReadFrequently:!0});M.width=M.height=1;const lt=Math.sqrt(W.getImageData(0,0,1,1).data.length>>2);return M.width=(s<<5)/lt,M.height=a/lt,W.fillStyle=W.strokeStyle="red",{context:W,ratio:lt}}function Vt(M,W,lt){O[0],O[1];for(var ct=W.x,yt=W.y,bt=Math.sqrt(O[0]*O[0]+O[1]*O[1]),xt=P(O),ae=Dt()<.5?1:-1,St=-ae,Mt,Vn,be;(Mt=xt(St+=ae))&&(Vn=~~Mt[0],be=~~Mt[1],!(Math.min(Math.abs(Vn),Math.abs(be))>=bt));)if(W.x=ct+Vn,W.y=yt+be,!(W.x+W.x0<0||W.y+W.y0<0||W.x+W.x1>O[0]||W.y+W.y1>O[1])&&(!lt||R(W,lt))&&!_(W,M,O[0])){for(var Ke=W.sprite,gn=W.width>>5,Zs=O[0]>>5,Li=W.x-(gn<<4),tr=Li&127,sa=32-tr,ye=W.y1-W.y0,ve=(W.y+W.y0)*Zs+(Li>>5),Yn,ra=0;ra<ye;ra++){Yn=0;for(var Ui=0;Ui<=gn;Ui++)M[ve+Ui]|=Yn<<sa|(Ui<gn?(Yn=Ke[ra*gn+Ui])>>>tr:0);ve+=Zs}return!0}return!1}return et.timeInterval=function(M){return arguments.length?(H=M??1/0,et):H},et.words=function(M){return arguments.length?(L=M,et):L},et.size=function(M){return arguments.length?(O=[+M[0],+M[1]],et):O},et.font=function(M){return arguments.length?(X=B(M),et):X},et.fontStyle=function(M){return arguments.length?(C=B(M),et):C},et.fontWeight=function(M){return arguments.length?(A=B(M),et):A},et.rotate=function(M){return arguments.length?(tt=B(M),et):tt},et.text=function(M){return arguments.length?(q=B(M),et):q},et.spiral=function(M){return arguments.length?(P=n[M]||M,et):P},et.fontSize=function(M){return arguments.length?(ot=B(M),et):ot},et.padding=function(M){return arguments.length?(I=B(M),et):I},et.random=function(M){return arguments.length?(Dt=M,et):Dt},et.on=function(){var M=N.on.apply(N,arguments);return M===N?et:M},et};function l(O){return O.text}function c(){return"serif"}function d(){return"normal"}function m(O){return Math.sqrt(O.value)}function g(){return 1}function y(O,q,X,ot){if(!q.sprite){var C=O.context,A=O.ratio;C.clearRect(0,0,(s<<5)/A,a/A);var I=0,P=0,L=0,H=X.length;for(--ot;++ot<H;){q=X[ot],C.save(),C.font=q.style+" "+q.weight+" "+~~((q.size+1)/A)+"px "+q.font;const Mt=C.measureText(q.text),Vn=-Math.floor(Mt.width/2);let be=(Mt.width+1)*A,Ke=q.size<<1;if(q.rotate){var N=Math.sin(q.rotate*t),It=Math.cos(q.rotate*t),Dt=be*It,tt=be*N,et=Ke*It,ft=Ke*N;be=Math.max(Math.abs(Dt+ft),Math.abs(Dt-ft))+31>>5<<5,Ke=~~Math.max(Math.abs(tt+et),Math.abs(tt-et))}else be=be+31>>5<<5;if(Ke>L&&(L=Ke),I+be>=s<<5&&(I=0,P+=L,L=0),P+Ke>=a)break;C.translate((I+(be>>1))/A,(P+(Ke>>1))/A),q.rotate&&C.rotate(q.rotate*t),C.fillText(q.text,Vn,0),q.padding&&(C.lineWidth=2*q.padding,C.strokeText(q.text,Vn,0)),C.restore(),q.width=be,q.height=Ke,q.xoff=I,q.yoff=P,q.x1=be>>1,q.y1=Ke>>1,q.x0=-q.x1,q.y0=-q.y1,q.hasText=!0,I+=be}for(var Ct=C.getImageData(0,0,(s<<5)/A,a/A).data,Vt=[];--ot>=0;)if(q=X[ot],!!q.hasText){for(var M=q.width,W=M>>5,lt=q.y1-q.y0,ct=0;ct<lt*W;ct++)Vt[ct]=0;if(I=q.xoff,I==null)return;P=q.yoff;for(var yt=0,bt=-1,xt=0;xt<lt;xt++){for(var ct=0;ct<M;ct++){var ae=W*xt+(ct>>5),St=Ct[(P+xt)*(s<<5)+(I+ct)<<2]?1<<31-ct%32:0;Vt[ae]|=St,yt|=St}yt?bt=xt:(q.y0++,lt--,xt--,P++)}q.y1=q.y0+bt,q.sprite=Vt.slice(0,(q.y1-q.y0)*W)}}}function _(O,q,X){X>>=5;for(var ot=O.sprite,C=O.width>>5,A=O.x-(C<<4),I=A&127,P=32-I,L=O.y1-O.y0,H=(O.y+O.y0)*X+(A>>5),N,It=0;It<L;It++){N=0;for(var Dt=0;Dt<=C;Dt++)if((N<<P|(Dt<C?(N=ot[It*C+Dt])>>>I:0))&q[H+Dt])return!0;H+=X}return!1}function T(O,q){var X=O[0],ot=O[1];q.x+q.x0<X.x&&(X.x=q.x+q.x0),q.y+q.y0<X.y&&(X.y=q.y+q.y0),q.x+q.x1>ot.x&&(ot.x=q.x+q.x1),q.y+q.y1>ot.y&&(ot.y=q.y+q.y1)}function R(O,q){return O.x+O.x1>q[0].x&&O.x+O.x0<q[1].x&&O.y+O.y1>q[0].y&&O.y+O.y0<q[1].y}function D(O){var q=O[0]/O[1];return function(X){return[q*(X*=.1)*Math.cos(X),X*Math.sin(X)]}}function j(O){var q=4,X=q*O[0]/O[1],ot=0,C=0;return function(A){var I=A<0?-1:1;switch(Math.sqrt(1+4*I*A)-I&3){case 0:ot+=X;break;case 1:C+=q;break;case 2:ot-=X;break;default:C-=q;break}return[ot,C]}}function U(O){for(var q=[],X=-1;++X<O;)q[X]=0;return q}function z(){return document.createElement("canvas")}function B(O){return typeof O=="function"?O:function(){return O}}return Pg}var AB=wB();const xB=pw(AB),mw=["#6366F1","#818CF8","#A5B4FC","#C7D2FE"];function bI({entries:e}){const[t,n]=V.useState([]),[s,a]=V.useState("loading");return V.useEffect(()=>{if(!e||e.length===0){a("empty");return}const l=e.reduce((m,g)=>(g.text.replace(/[.,/#!$%^&*;:{}=\-_`~()?]/g,"").replace(/\s{2,}/g," ").toLowerCase().split(/\s+/).filter(T=>T.length>2).forEach(T=>{m[T]=(m[T]||0)+1}),m),{}),c=Object.keys(l).map(m=>({text:m,value:l[m]*10}));if(c.length===0){a("empty");return}a("loading"),xB().size([500,300]).words(c.map(m=>({text:m.text,size:m.value}))).padding(5).rotate(()=>(~~(Math.random()*6)-3)*30).font("Impact").fontSize(m=>m.size||10).on("end",m=>{n(m),a("success")}).start()},[e]),s==="empty"?w.jsx("p",{className:"text-center text-text-secondary",children:"Escreva em seu dirio para ver sua nuvem de palavras tomar forma!"}):s==="loading"?w.jsx("p",{className:"text-center text-text-secondary",children:"Gerando sua nuvem de gratido..."}):w.jsx("div",{style:{width:"100%",maxWidth:"500px",margin:"0 auto"},children:w.jsx("svg",{width:"100%",viewBox:"0 0 500 300",children:w.jsx("g",{transform:"translate(250,150)",children:t.map((l,c)=>w.jsx("text",{fontFamily:l.font||"Impact",fontSize:l.size,fill:mw[c%mw.length],textAnchor:"middle",transform:`translate(${l.x}, ${l.y}) rotate(${l.rotate})`,className:"hover:opacity-80 transition-opacity",style:{cursor:"pointer"},children:l.text},l.text))})})})}const RB=()=>{const[e,t]=V.useState(""),[n,s]=V.useState([]),[a,l]=V.useState(!0),{user:c}=ki(),{earnPhotons:d}=Js(),m=async()=>{if(!c)return;const y=qs(Fs(Qt,"entries"),Hr("authorId","==",c.uid),Gd("timestamp","desc")),T=(await Hs(y)).docs.map(R=>({id:R.id,...R.data()}));s(T)};V.useEffect(()=>{c&&m()},[c]);const g=async y=>{if(y.preventDefault(),!(e.trim()===""||!c))try{await T6(Fs(Qt,"entries"),{text:e,timestamp:new Date,authorId:c.uid,isPublic:a,likesCount:0,commentsCount:0}),d("create_entry"),t(""),l(!0),m()}catch(_){console.error("Error adding document: ",_)}};return c?w.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4",children:[w.jsx("h1",{className:"text-4xl font-bold text-center text-text-primary mb-12",children:"Meu Dirio de Gratido"}),w.jsx("div",{className:"bg-background rounded-2xl shadow-lg p-8 mb-12",children:w.jsxs("form",{onSubmit:g,children:[w.jsx("h2",{className:"text-2xl font-semibold text-text-primary mb-4",children:"Pelo que voc  grato hoje?"}),w.jsx("textarea",{className:"w-full p-4 bg-primary text-text-primary border border-gray-700 rounded-lg focus:ring-2 focus:ring-secondary focus:outline-none transition-shadow placeholder:text-gray-400",rows:5,placeholder:"Comece a escrever...",value:e,onChange:y=>t(y.target.value)}),w.jsxs("div",{className:"flex items-center mt-4",children:[w.jsx("input",{type:"checkbox",id:"isPublic",checked:a,onChange:y=>l(y.target.checked),className:"h-4 w-4 text-secondary focus:ring-secondary border-gray-300 rounded"}),w.jsx("label",{htmlFor:"isPublic",className:"ml-2 block text-sm text-text-secondary",children:"Tornar esta entrada pblica"})]}),w.jsxs("button",{type:"submit",className:"bg-secondary text-text-primary font-semibold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity mt-4 inline-flex items-center space-x-2",children:[w.jsx(n5,{size:20}),w.jsx("span",{children:"Registrar Gratido"})]})]})}),w.jsxs("div",{className:"bg-background rounded-2xl shadow-lg p-8 mb-12",children:[w.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6 text-center",children:"Sua Nuvem de Gratido"}),w.jsx(bI,{entries:n})]}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-8",children:"Suas Memrias de Gratido"}),w.jsx("div",{className:"space-y-6",children:n.length>0?n.map(y=>w.jsxs("div",{className:"bg-background rounded-xl shadow-md p-6 border-l-4 border-accent",children:[y.isPublic&&w.jsx("span",{className:"text-xs font-semibold text-secondary bg-secondary/10 py-1 px-2 rounded-full mb-2 inline-block",children:"Pblico"}),w.jsx("p",{className:"text-text-secondary leading-relaxed mb-3",children:y.text}),w.jsx("p",{className:"text-sm text-gray-400 font-light",children:new Date(y.timestamp.seconds*1e3).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})})]},y.id)):w.jsx("p",{className:"text-center text-text-secondary",children:"Voc ainda no tem nenhuma entrada. Comece a escrever acima!"})})]})]}):w.jsx("div",{className:"text-center py-20",children:w.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Por favor, faa login para ver seu dirio."})})},CB=()=>{const[e,t]=V.useState([]),[n,s]=V.useState([]),[a,l]=V.useState(null),{user:c}=ki(),d=yc(),{earnPhotons:m}=Js(),g=async()=>{const T=qs(Fs(Qt,"entries"),Hr("isPublic","==",!0),Gd("timestamp","desc")),D=(await Hs(T)).docs.map(B=>({id:B.id,...B.data()})),j=[...new Set(D.map(B=>B.authorId))];if(j.length===0)return;const U=Fs(Qt,"users"),z={};for(let B=0;B<j.length;B+=10){const O=j.slice(B,B+10),q=qs(U,Hr("__name__","in",O));(await Hs(q)).docs.forEach(ot=>z[ot.id]=ot.data())}D.forEach(B=>{B.authorName=z[B.authorId]?.displayName||"Annimo"}),t(D)},y=async()=>{if(!c)return;const T=qs(_R(Qt,"likes"),Hr("userId","==",c.uid)),D=(await Hs(T)).docs.map(j=>j.ref.parent.parent.id);s(D)};V.useEffect(()=>{g(),c?y():s([])},[c]);const _=async(T,R)=>{if(!c){d("/login");return}const D=n.includes(T);D||(m("like",R),l(T),setTimeout(()=>l(null),1e3));const j=on(Qt,"entries",T),U=on(Qt,"entries",T,"likes",c.uid);try{await yl(Qt,async z=>{const B=await z.get(j);if(!B.exists())throw"Error";const O=(B.data().likesCount||0)+(D?-1:1);z.update(j,{likesCount:O}),D?z.delete(U):z.set(U,{userId:c.uid})}),s(z=>D?z.filter(B=>B!==T):[...z,T]),t(z=>z.map(B=>B.id===T?{...B,likesCount:B.likesCount+(D?-1:1)}:B))}catch(z){console.error(z)}};return w.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4",children:[w.jsx("h1",{className:"text-4xl font-bold text-center text-text-primary mb-12",children:"Feed de Gratido Pblico"}),w.jsx("div",{className:"space-y-8",children:e.map(T=>w.jsxs("div",{className:"bg-background rounded-2xl shadow-lg p-6 relative",children:[w.jsx("p",{className:"text-text-secondary leading-relaxed mb-4",children:T.text}),w.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[w.jsxs("p",{children:["Postado por ",w.jsx(un,{to:`/profile/${T.authorId}`,className:"hover:underline",children:T.authorName})]}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("button",{onClick:()=>_(T.id,T.authorId),className:`flex items-center space-x-1 relative ${n.includes(T.id)?"text-secondary":""}`,children:[w.jsx(PR,{size:18}),w.jsx("span",{children:T.likesCount||0}),a===T.id&&w.jsx("div",{className:"reward-animation",children:"+1 "})]}),w.jsxs(un,{to:`/post/${T.id}`,className:"flex items-center space-x-1",children:[w.jsx(Yv,{size:18}),w.jsx("span",{children:T.commentsCount||0})]})]})]})]},T.id))}),w.jsx("style",{children:`
        .reward-animation { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); animation: floatUp 1s ease-out forwards; font-size: 1.2rem; font-weight: bold; color: #4ade80; }
        @keyframes floatUp { 0% { opacity: 1; transform: translate(-50%, 0); } 100% { opacity: 0; transform: translate(-50%, -50px); } }
      `})]})},IB=()=>{const{id:e}=YD(),t=yc(),{user:n}=ki(),{earnPhotons:s}=Js(),[a,l]=V.useState(null),[c,d]=V.useState([]),[m,g]=V.useState(""),[y,_]=V.useState(!1),[T,R]=V.useState(!1),[D,j]=V.useState(!1),U=async()=>{if(!e)return;const O=on(Qt,"entries",e),q=await ul(O);if(q.exists()){const X={id:q.id,...q.data()},ot=on(Qt,"users",X.authorId),C=await ul(ot);if(C.exists()&&(X.authorName=C.data().displayName||"Annimo"),l(X),n){const H=on(Qt,"entries",e,"likes",n.uid),N=await ul(H);_(N.exists())}const A=qs(Fs(Qt,"entries",e,"comments"),Gd("timestamp","asc")),P=(await Hs(A)).docs.map(H=>({id:H.id,...H.data()})),L=[...new Set(P.map(H=>H.authorId))];if(L.length>0){const H=qs(Fs(Qt,"users"),Hr("__name__","in",L)),It=(await Hs(H)).docs.reduce((Dt,tt)=>(Dt[tt.id]=tt.data(),Dt),{});P.forEach(Dt=>{Dt.authorName=It[Dt.authorId]?.displayName||"Annimo"})}d(P)}else console.log("No such document!")};V.useEffect(()=>{U()},[e,n]);const z=async()=>{if(T||!a)return;if(!n){t("/login");return}if(!e)return;R(!0),y||(s("like",a.authorId),j(!0),setTimeout(()=>j(!1),1e3));const O=on(Qt,"entries",e),q=on(Qt,"entries",e,"likes",n.uid);try{await yl(Qt,async X=>{const ot=await X.get(O);if(!ot.exists())throw"Error";const C=(ot.data().likesCount||0)+(y?-1:1);X.update(O,{likesCount:C}),y?X.delete(q):X.set(q,{userId:n.uid})}),_(!y),l(X=>X?{...X,likesCount:(X.likesCount||0)+(y?-1:1)}:null)}catch(X){console.error(X)}finally{R(!1)}},B=async O=>{if(O.preventDefault(),m.trim()===""||!n||!e||!a)return;s("comment",a.authorId);const q=on(Qt,"entries",e);try{await yl(Qt,async X=>{const ot=await X.get(q);if(!ot.exists())throw"Error";const C=(ot.data().commentsCount||0)+1;X.update(q,{commentsCount:C});const A=on(Fs(Qt,"entries",e,"comments"));X.set(A,{text:m,authorId:n.uid,timestamp:new Date})}),g(""),U()}catch(X){console.error(X)}};return a?w.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4",children:[w.jsxs("div",{className:"bg-background rounded-2xl shadow-lg p-8 mb-8",children:[w.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Postado por ",a.authorName," em ",new Date(a.timestamp.seconds*1e3).toLocaleDateString("pt-BR")]}),w.jsx("p",{className:"text-text-secondary text-lg leading-relaxed",children:a.text}),w.jsxs("div",{className:"flex items-center space-x-4 mt-6 text-text-secondary",children:[w.jsxs("button",{onClick:z,disabled:T,className:`flex items-center space-x-2 relative ${y?"text-red-500":""}`,children:[w.jsx(q6,{fill:y?"currentColor":"none",size:22}),w.jsx("span",{children:a.likesCount||0}),D&&w.jsx("div",{className:"reward-animation",children:"+1 "})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(Yv,{size:22}),w.jsx("span",{children:a.commentsCount||0})]})]})]}),w.jsxs("div",{className:"bg-background rounded-2xl shadow-lg p-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-text-primary mb-6",children:"Comentrios"}),w.jsxs("div",{className:"space-y-6 mb-8",children:[c.map(O=>w.jsx("div",{className:"flex items-start space-x-4",children:w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"text-text-secondary mb-1",children:[w.jsx("span",{className:"font-semibold text-text-primary",children:O.authorName}),": ",O.text]}),w.jsx("p",{className:"text-xs text-gray-400",children:new Date(O.timestamp.seconds*1e3).toLocaleDateString("pt-BR")})]})},O.id)),c.length===0&&w.jsx("p",{className:"text-text-secondary",children:"Seja o primeiro a comentar!"})]}),n?w.jsxs("form",{onSubmit:B,children:[w.jsx("textarea",{className:"w-full p-4 border rounded-lg bg-primary text-text-primary border-gray-700 focus:ring-2 focus:ring-secondary focus:outline-none transition-shadow placeholder:text-gray-400",rows:3,placeholder:"Adicione um comentrio...",value:m,onChange:O=>g(O.target.value)}),w.jsx("button",{type:"submit",className:"bg-secondary text-text-primary font-semibold py-2 px-6 rounded-full hover:opacity-90 transition-opacity mt-4",children:"Comentar"})]}):w.jsxs("p",{className:"text-text-secondary text-center py-4 bg-gray-800 rounded-lg",children:["Faa ",w.jsx(un,{to:"/login",className:"text-secondary font-semibold hover:underline",children:"login"})," para curtir ou comentar."]})]}),w.jsx("style",{children:`
        .reward-animation { position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); animation: floatUp 1s ease-out forwards; font-size: 1.2rem; font-weight: bold; color: #ef4444; }
        @keyframes floatUp { 0% { opacity: 1; transform: translate(-50%, 0); } 100% { opacity: 0; transform: translate(-50%, -50px); } }
    `})]}):w.jsx("div",{className:"text-center py-20",children:"Carregando..."})},DB=["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"],NB=()=>{const{user:e}=ki(),[t,n]=V.useState(""),[s,a]=V.useState(""),[l,c]=V.useState(""),[d,m]=V.useState(""),[g,y]=V.useState(!0),[_,T]=V.useState("");V.useEffect(()=>{e&&(async()=>{const j=on(Qt,"users",e.uid),U=await ul(j);if(U.exists()){const z=U.data();n(z.displayName||""),a(z.gender||""),c(z.birthDate||""),m(z.uf||"")}y(!1)})()},[e]);const R=async D=>{if(D.preventDefault(),T(""),!e)return;const j=on(Qt,"users",e.uid);try{await CR(j,{displayName:t,gender:s,birthDate:l,uf:d},{merge:!0}),T("Perfil atualizado com sucesso!")}catch(U){console.error("Erro ao salvar o perfil: ",U),T("Erro ao atualizar o perfil. Tente novamente.")}};return g?w.jsx("div",{className:"text-center py-10",children:"Carregando perfil..."}):w.jsxs("div",{className:"max-w-xl mx-auto py-12 px-4",children:[w.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-6",children:"Meu Perfil"}),w.jsxs("form",{onSubmit:R,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-text-secondary mb-1",children:"Nome de Exibio"}),w.jsx("input",{type:"text",id:"displayName",value:t,onChange:D=>n(D.target.value),className:"w-full bg-background border border-gray-600 rounded-md p-2 text-text-primary focus:ring-secondary focus:border-secondary"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-text-secondary mb-1",children:"Data de Nascimento"}),w.jsx("input",{type:"date",id:"birthDate",value:l,onChange:D=>c(D.target.value),className:"w-full bg-background border border-gray-600 rounded-md p-2 text-text-primary focus:ring-secondary focus:border-secondary"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-text-secondary mb-1",children:"Gnero"}),w.jsxs("select",{id:"gender",value:s,onChange:D=>a(D.target.value),className:"w-full bg-background border border-gray-600 rounded-md p-2 text-text-primary focus:ring-secondary focus:border-secondary",children:[w.jsx("option",{value:"",children:"Prefiro no informar"}),w.jsx("option",{value:"masculino",children:"Masculino"}),w.jsx("option",{value:"feminino",children:"Feminino"}),w.jsx("option",{value:"outro",children:"Outro"})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"uf",className:"block text-sm font-medium text-text-secondary mb-1",children:"UF"}),w.jsxs("select",{id:"uf",value:d,onChange:D=>m(D.target.value),className:"w-full bg-background border border-gray-600 rounded-md p-2 text-text-primary focus:ring-secondary focus:border-secondary",children:[w.jsx("option",{value:"",children:"Selecione seu estado"}),DB.map(D=>w.jsx("option",{value:D,children:D},D))]})]}),w.jsx("button",{type:"submit",className:"bg-secondary text-text-primary font-semibold py-2 px-6 rounded-full hover:opacity-90 transition-all",children:"Salvar Alteraes"}),_&&w.jsx("p",{className:"text-sm text-green-500 mt-4",children:_})]})]})};function MB(){const{user:e}=ki(),{photons:t,level:n,levelName:s,progress:a,isInitialized:l}=Js();return l?e?w.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[w.jsx("h1",{className:"text-4xl font-bold text-center text-text-primary mb-12",children:"Sua Jornada Quntica"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[w.jsxs("div",{className:"bg-primary p-6 rounded-xl shadow-lg flex items-center space-x-6 transform hover:scale-105 transition-transform duration-300",children:[w.jsx(kR,{className:"text-yellow-400",size:48}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Ftons de Gratido"}),w.jsx("p",{className:"text-5xl font-extrabold text-secondary",children:t})]})]}),w.jsxs("div",{className:"bg-primary p-6 rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Nvel Quntico"}),w.jsx("p",{className:"font-bold text-secondary text-lg",children:`Nvel ${n}`})]}),w.jsx("p",{className:"text-xl font-semibold text-accent mb-3",children:s}),w.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:w.jsx("div",{className:"bg-secondary h-4 rounded-full transition-all duration-500",style:{width:`${a}%`}})}),w.jsx("p",{className:"text-right text-sm text-text-secondary mt-1",children:`${Math.floor(a)}% para o prximo nvel`})]})]}),w.jsxs("div",{className:"bg-primary p-8 rounded-xl shadow-lg mb-12 text-center",children:[w.jsxs("h2",{className:"text-3xl font-bold text-text-primary mb-4 flex items-center justify-center",children:[w.jsx($v,{className:"text-yellow-500 mr-3",size:30}),"Conquistas"]}),w.jsx("p",{className:"text-text-secondary",children:"Em breve: Desbloqueie medalhas e recompensas exclusivas ao atingir novos marcos em sua jornada de gratido!"})]}),w.jsxs("div",{className:"bg-primary p-8 rounded-xl shadow-lg",children:[w.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-6 text-center",children:"Sua Nuvem de Gratido"}),w.jsx(bI,{}),w.jsx("div",{className:"text-center mt-6",children:w.jsx(un,{to:"/gratitude-journal",className:"text-secondary hover:underline",children:"Gerenciar suas entradas no Dirio "})})]})]}):w.jsxs("div",{className:"text-center py-20",children:[w.jsx("h2",{className:"text-2xl font-semibold text-text-primary",children:"Sua jornada comea com o primeiro passo."}),w.jsxs("p",{className:"text-text-secondary mt-2 mb-6",children:["Faa ",w.jsx(un,{to:"/login",className:"text-secondary font-semibold hover:underline",children:"login"})," para ver seu progresso."]})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[w.jsx(L6,{className:"text-secondary animate-spin",size:48}),w.jsx("p",{className:"text-text-secondary mt-4",children:"Carregando sua jornada quntica..."})]})}function VB(){const e=new Us,t=()=>{PO(Kv,e).catch(n=>{console.error("Erro no login com Google:",n)})};return w.jsx("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] py-12",children:w.jsxs("div",{className:"bg-background p-10 rounded-2xl shadow-lg text-center max-w-md w-full",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx(Ow,{})}),w.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-4",children:"Acesse seu Santurio Quntico"}),w.jsx("p",{className:"text-text-secondary mb-8 leading-relaxed",children:"Conecte-se ao seu universo de gratido. Ao entrar, voc poder registrar suas reflexes, interagir com a comunidade e ver sua jornada de positividade crescer."}),w.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center bg-white border border-gray-200 rounded-lg shadow-sm px-6 py-3 text-gray-800 font-medium hover:bg-gray-50 transition-colors",children:[w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"h-6 w-6 mr-4"}),"Entrar com Google"]})]})})}const kg=({children:e})=>{const{user:t,loading:n}=ki();return n?w.jsx("div",{children:"Carregando..."}):t?w.jsx(w.Fragment,{children:e}):w.jsx(Iw,{to:"/login"})},OB=()=>w.jsx("div",{className:"w-16 h-16 border-4 border-dashed rounded-full animate-spin border-secondary"}),PB=()=>{const{user:e,loading:t}=ki();return t?w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx(OB,{})}):w.jsx(cN,{children:w.jsxs(Ai,{path:"/",element:w.jsx(mB,{}),children:[w.jsx(Ai,{index:!0,element:w.jsx(gB,{})}),w.jsx(Ai,{path:"about",element:w.jsx(yB,{})}),w.jsx(Ai,{path:"contact",element:w.jsx(vB,{})}),w.jsx(Ai,{path:"/gratitude-journal",element:w.jsx(kg,{children:w.jsx(RB,{})})}),w.jsx(Ai,{path:"/public-feed",element:w.jsx(CB,{})}),w.jsx(Ai,{path:"/post/:id",element:w.jsx(IB,{})}),w.jsx(Ai,{path:"/profile",element:w.jsx(kg,{children:w.jsx(NB,{})})}),w.jsx(Ai,{path:"/journey",element:w.jsx(kg,{children:w.jsx(MB,{})})}),w.jsx(Ai,{path:"/login",element:e?w.jsx(Iw,{to:"/gratitude-journal",replace:!0}):w.jsx(VB,{})})]})})};function kB(){return w.jsx(ON,{children:w.jsx(D6,{children:w.jsx(PB,{})})})}uD.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(kB,{})}));
